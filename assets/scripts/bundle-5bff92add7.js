!function o(i,s,l){function c(r,e){if(!s[r]){if(!i[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(u)return u(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[r]={exports:{}};i[r][0].call(a.exports,function(e){var t=i[r][1][e];return c(t||e)},a,a.exports,o,i,s,l)}return s[r].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({"/root/repo/app/assets/scripts/components/area-chart.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.memoizedComputeAreaChartData=r.computeAreaChartData=r.default=void 0;var _=l(e("react")),n=e("prop-types"),w=e("react-transition-group"),i=l(e("lodash.isequal")),a=l(e("lodash.memoize")),k=l(e("lodash.kebabcase")),p=e("d3-shape"),f=e("d3-selection"),u=e("d3-axis"),j=e("d3-scale"),o=e("../config"),P=e("../utils/array"),m=e("../utils/utils"),O=e("../utils/math"),s=l(e("./size-aware-element"));function l(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){c(t,e,r[e])})}return t}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S=function(e){function a(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,n=b(a).call(this,e),t=!n||"object"!==d(n)&&"function"!==typeof n?T(r):n,t.componentEl=null,t.margin={top:24,right:0,bottom:24,left:80,innerLeft:32,innerRight:32},t.initialized=!1,t.container=null,t.svg=null,t.dataCanvas=null,t.resizeListener=t.resizeListener.bind(T(T(t))),t}var t,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e),t=a,r=[{key:"resizeListener",value:function(){this.initialized&&this.updateChart(this.props)}},{key:"getSize",value:function(){var e=this.margin,t=e.top,r=e.bottom,n=e.right,a=e.left,o=this.container.getSize(),i=o.width,s=o.height;return{width:parseInt(i,10)-a-n,height:parseInt(s,10)-t-r}}},{key:"onMouseOver",value:function(){this.props.onBisectorEvent("over")}},{key:"onMouseOut",value:function(){this.props.onBisectorEvent("out")}},{key:"onBisect",value:function(p,d){return function(e){var t=p.xScale,r=(0,f.mouse)(this),n=g(r,1),a=n[0],o=t.invert(a).getFullYear(),i=t.domain(),s=g(i,2),l=s[0],c=s[1],u=Math.max(l.getFullYear(),Math.min(o,c.getFullYear()));p.props.onBisectorEvent(d,(0,m.dateFromYear)(u))}}},{key:"setupTriggerMouse",value:function(e){e.on("mouseover",this.onMouseOver.bind(this)).on("mouseout",this.onMouseOut.bind(this)).on("mousemove",this.onBisect(this,"move"))}},{key:"initChart",value:function(){var e=this.margin,t=e.top,r=e.left,n=e.innerLeft;this.svg=(0,f.select)(this.container.el).append("svg").attr("class","chart"),this.svg.append("defs"),this.dataCanvas=this.svg.append("g").attr("class","data-canvas").attr("transform","translate(".concat(r,",").concat(t,")")),this.svg.append("rect").attr("class","data-canvas-debug").attr("transform","translate(".concat(r,",").concat(t,")")),this.dataCanvas.append("g").attr("class","data-areas data-layer").attr("transform","translate(".concat(n,",0)")),this.svg.append("g").attr("class","x axis"),this.svg.append("g").attr("class","y axis"),this.svg.append("text").attr("class","chart-label chart-label-y").attr("text-anchor","end").attr("transform","translate(".concat(r,",0)")).attr("dy","1em"),this.dataCanvas.append("line").attr("class","bisector-interact").attr("transform","translate(".concat(n,",0)")),this.dataCanvas.append("g").attr("class","bisector-circles"),this.svg.append("rect").attr("class","trigger-rect").style("fill","none").style("pointer-events","all").attr("transform","translate(".concat(r,",").concat(t,")")).call(this.setupTriggerMouse.bind(this))}},{key:"addAreaGradientDefs",value:function(e){var t=e.data,r=this.svg.select("defs").selectAll("linearGradient").data(t);r.exit().remove();var n=r.enter().append("linearGradient").attr("id",function(e){return"area-gradient-".concat((0,k.default)(e.name))}).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");n.append("stop").attr("offset",0).attr("class","stop stop--start"),n.append("stop").attr("offset",1).attr("class","stop stop--end")}},{key:"drawXAxis",value:function(e){var t=this.margin,r=t.top,n=t.left,a=t.innerLeft,o=this.getSize(),i=o.height,s=this.svg,l=(0,u.axisBottom)(e).ticks(5),c=s.select(".x.axis").attr("transform","translate(".concat(n+a,",").concat(i+r,")")).call(l).attr("font-size","");c.select(".domain").remove(),c.selectAll(".tick line").remove()}},{key:"drawYAxis",value:function(e){var t=this.margin,r=t.top,n=t.left,a=this.getSize(),o=a.width,i=a.height,s=this.svg,l=(0,u.axisLeft)(e).ticks(Math.ceil(i/48)).tickSize(-o).tickFormat(function(e){return(0,O.formatTousands)(e,0)}),c=s.select(".y.axis").attr("transform","translate(".concat(n,",").concat(r,")")).call(l);c.select(".domain").remove()}},{key:"drawAreas",value:function(e){var t=this.dataCanvas,r=this.yScale,n=this.xScale,a=e.data,o=e.interactionData,i=o.hover,s=o.hoverDateValue,l=t.select(".data-areas").selectAll(".area").data(a);l.exit().remove(),l.enter().append("g").merge(l).attr("class",function(e){return"area area--".concat((0,k.default)(e.name))}).each(function(e){(0,f.select)(this).datum(e).call(function(){var i=null,s=null,l=null,c=(0,p.area)().x(function(e){return i(e.date)}).y0(function(e){return s(e.d0)}).y1(function(e){return s(e.d1)}).defined(function(e){return null!==e.value}),u=(0,p.line)().x(function(e){return i(e.date)}).y(function(e){return s(e.d1)}).defined(function(e){return null!==e.value});function t(e){var t=e.data(),r=t[0].values,n=e.selectAll(".area__path").data([r]);n.exit().remove(),n.enter().append("path").attr("class","area__path").merge(n).attr("d",c);var a=e.selectAll(".area__line").data([r]);a.exit().remove(),a.enter().append("path").attr("class","area__line").merge(a).attr("d",u);var o=e.selectAll(".area__circle").data(r.filter(function(e){return null!==e.value}));o.exit().remove(),o.enter().append("circle").attr("class","area__circle").merge(o).attr("r",function(e){return e.date.getFullYear()===l?"4px":"3px"}).classed("active",function(e){return e.date.getFullYear()===l}).attr("cx",function(e){return i(e.date)}).attr("cy",function(e){return s(e.d1)})}return t.xScale=function(e){return i=e,t},t.yScale=function(e){return s=e,t},t.activeDate=function(e){return l=e?e.getFullYear():null,t},t}().xScale(n).yScale(r).activeDate(i&&s?s:null))})}},{key:"updateChart",value:function(e){var t=this.margin,r=t.top,n=t.bottom,a=t.right,o=t.left,i=t.innerLeft,s=t.innerRight,l=this.getSize(),c=l.width,u=l.height,p=this.svg,d=this.dataCanvas,f=e.data,m=e.yDomain,h=e.xDomain,y=e.yLabel,g=e.interactionData,v=g.hover,b=g.hoverDateValue,E=(0,j.scaleTime)().domain(h).range([0,c-i-s]);this.xScale=E;var _=(0,j.scaleLinear)().domain(m).range([u,0]);this.yScale=_,p.attr("width",c+o+a).attr("height",u+r+n),d.attr("width",c).attr("height",u),p.select(".trigger-rect").datum(f).attr("width",c).attr("height",u+r),p.select(".data-canvas-debug").attr("width",c).attr("height",u),this.addAreaGradientDefs(e),this.drawXAxis(E),this.drawYAxis(_),p.select(".chart-label-y").text(y),this.drawAreas(e);var w=d.select(".bisector-interact");if(w.style("display",v?"":"none"),v&&b){var k=this.xScale(b);w.attr("y2",0).attr("y1",u).attr("x1",k).attr("x2",k)}}},{key:"componentWillReceiveProps",value:function(e){var t=e.interactionData,r=this.props.interactionData;if((0,i.default)(this.props.data,e.data)&&(0,i.default)(this.props.yDomain,e.yDomain))if(t.hover&&t.hoverDateValue){var n=this.xScale(t.hoverDateValue),a=this.getSize(),o=a.height;this.dataCanvas.select(".bisector-interact").style("display","").attr("y2",0).attr("y1",o).attr("x1",n).attr("x2",n),this.drawAreas(e)}else!t.hover&&r.hover&&(this.dataCanvas.select(".bisector-interact").style("display","none"),this.drawAreas(e));else this.updateChart(e)}},{key:"componentDidMount",value:function(){this.initChart(),this.updateChart(this.props),this.initialized=!0}},{key:"renderPopover",value:function(){var e=this.dataCanvas,t=this.xScale,r=this.margin.innerLeft,n=this.props,a=n.data,o=n.interactionData,i=o.hoverDateValue,s=o.hover;if(!i||!this.componentEl)return _.default.createElement("div",null);var l,c=i.getFullYear(),u=this.componentEl.getBoundingClientRect(),p=u.left,d=u.top,f=u.width,m=e.node().getScreenCTM().translate(t(i)+r,0),h=m.f-d+48,y=m.e-p;if(y+288+16>f){var g=y-288-16;l="place-left",g<0?(y-=144,l="place-center"):y=g}else y+=16,l="place-right";var v={position:"absolute",zIndex:100,pointerEvents:"none",left:y+"px",top:h+"px"},b=a.map(function(e){var t=e.values.find(function(e){return e.year===c}),r=t?t.value:null;return{name:e.name,value:r}}),E=(0,P.sort)(b,function(e,t){return"Other"===e.name?1:"Other"===t.name?-1:e.value>t.value?-1:1});return _.default.createElement(w.CSSTransition,{in:s,appear:!0,unmountOnExit:!0,classNames:"popover-trans",timeout:{enter:3e4,exit:300}},_.default.createElement("article",{className:"popover ".concat(l," popover--chart"),style:v},_.default.createElement("div",{className:"popover__contents"},_.default.createElement("div",{className:"popover__body"},_.default.createElement("dl",{className:"legend par-legend"},E.map(function(e){return _.default.createElement(_.default.Fragment,{key:e.name},_.default.createElement("dt",{className:"legend__key--val-".concat((0,k.default)(e.name))},e.name),_.default.createElement("dd",null,null===e.value?"--":(0,O.formatTousands)(e.value,2,!0)))}))))))}},{key:"render",value:function(){var t=this;return _.default.createElement("figure",{className:"schart",ref:function(e){t.componentEl=e}},this.renderPopover(),_.default.createElement(s.default,{ref:function(e){t.container=e},onChange:this.resizeListener,className:"schart__graph"}))}}],r&&v(t.prototype,r),n&&v(t,n),a}(_.default.Component);"production"!==o.environment&&(S.propTypes={onBisectorEvent:n.PropTypes.func,interactionData:n.PropTypes.object,xLabel:n.PropTypes.string,yLabel:n.PropTypes.string,yDomain:n.PropTypes.array,xDomain:n.PropTypes.array,data:n.PropTypes.array});var N=S;r.default=N;var C=function(e,t){var r={yDomain:[],xDomain:[],data:[],xLabel:"",yLabel:""};if(!e||!e.data.length)return r;var n=(0,P.splitArray)(e.data,function(e){return!t.length||-1!==t.indexOf(e.name)}),a=n.left,o=n.right,i=(0,P.sort)(a,function(e,t){var r=function(e){return e.reduce(function(e,t){return e+t.value},0)};return r(e.values)>r(t.values)?1:-1}),s={name:"Other",values:o.reduce(function(e,r){return e.length?e.map(function(e,t){return null===e.value?y({},e,{value:r.values[t].value}):null===r.values[t].value?e:y({},e,{value:e.value+r.values[t].value})}):r.values},[])},l=s.values.length?[s].concat(h(i)):i;if(l=l.reduce(function(e,t){return t.values.every(function(e){return 0===e.value})?e:e.concat(t)},[]),!l.length)return r;var c=l.reduce(function(n,e,a){return n.concat(y({},e,{values:e.values.map(function(e,t){var r=a>0?n[a-1].values[t].d1:0;return y({},e,{date:(0,m.dateFromYear)(e.year),d0:r,d1:r+e.value})})}))},[]),u=[0,c[c.length-1].values.reduce(function(e,t){var r=t.d1;return Math.max(e,r)},0)],p=c[0].values[0].year,d=c[0].values[c[0].values.length-1].year,f=[(0,m.dateFromYear)(p),(0,m.dateFromYear)(d)];return c.reverse(),{yDomain:u,xDomain:f,data:c,xLabel:e.meta["label-x"],yLabel:e.meta["label-y"]}};r.computeAreaChartData=C;var x=(0,a.default)(C,function(e,t,r){return r});r.memoizedComputeAreaChartData=x},{"../config":"/root/repo/app/assets/scripts/config.js","../utils/array":"/root/repo/app/assets/scripts/utils/array.js","../utils/math":"/root/repo/app/assets/scripts/utils/math.js","../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","./size-aware-element":"/root/repo/app/assets/scripts/components/size-aware-element.js","d3-axis":"d3-axis","d3-scale":"d3-scale","d3-selection":"d3-selection","d3-shape":"d3-shape","lodash.isequal":"lodash.isequal","lodash.kebabcase":"lodash.kebabcase","lodash.memoize":"lodash.memoize","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-transition-group":"react-transition-group"}],"/root/repo/app/assets/scripts/components/dangerous-script-content.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,o=(n=e("react"),n&&n.__esModule?n:{default:n}),a=e("prop-types"),i=e("../config");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){var r=this.refs.container;r.innerHTML=this.props.dangerousContent,u(r.getElementsByTagName("script")).forEach(function(e){var t=document.createElement("script");t.text=e.text,r.appendChild(t),e.remove()})}},{key:"render",value:function(){var e=this.props,t=(e.dangerousContent,e.element),r=c(e,["dangerousContent","element"]);return o.default.createElement(t,l({ref:"container"},r))}}],n&&p(r.prototype,n),a&&p(r,a),t}(o.default.PureComponent);h.defaultProps={element:"div"},"production"!==i.environment&&(h.propTypes={dangerousContent:a.PropTypes.string});var y=h;r.default=y},{"../config":"/root/repo/app/assets/scripts/config.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/app/assets/scripts/components/dropdown.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=n(e("react")),i=(e("prop-types"),n(e("react-tether"))),s=e("react-transition-group");function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function p(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?h(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=[],g=function(e){function r(e){var t;return o(this,r),t=p(this,d(r).call(this,e)),t.state={open:!1},t._bodyListener=t._bodyListener.bind(h(h(t))),t._toggleDropdown=t._toggleDropdown.bind(h(h(t))),t}return f(r,e),c(r,[{key:"_bodyListener",value:function(e){var t=function(e){return e.getAttribute?e.getAttribute("data-hook"):null},r=e.target;if("BODY"!==r.tagName&&"HTML"!==r.tagName&&"dropdown:close"!==t(r)){if("SPAN"!==r.tagName||r.parentNode!==this.triggerRef||"dropdown:btn"!==t(r.parentNode))if("SPAN"!==r.tagName||"dropdown:close"!==t(r.parentNode))if(r&&"dropdown:btn"===t(r))r!==this.triggerRef&&this.close();else{do{if(r&&"dropdown:content"===t(r))break;r=r.parentNode}while(r&&"BODY"!==r.tagName&&"HTML"!==r.tagName);r!==this.dropdownRef&&this.close()}else this.close()}else this.close()}},{key:"_toggleDropdown",value:function(e){e.preventDefault(),this.toggle()}},{key:"componentDidMount",value:function(){y.push(this),window.addEventListener("click",this._bodyListener)}},{key:"componentWillUnmount",value:function(){y.splice(y.indexOf(this),1),window.removeEventListener("click",this._bodyListener)}},{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"open",value:function(){!this.state.open&&this.setState({open:!0})}},{key:"close",value:function(){this.state.open&&this.setState({open:!1})}},{key:"renderTriggerElement",value:function(){var t=this,e=this.props,r=e.id,n=e.triggerTitle,a=e.triggerText,o=e.triggerClassName,i=e.triggerActiveClassName,s=e.triggerElement,l=["drop__toggle"],c={onClick:this._toggleDropdown,"data-hook":"dropdown:btn",ref:function(e){t.triggerRef=e}};return o&&l.push(o),this.state.open&&i&&l.push(i),c.className=l.join(" "),"button"===s?c.type="button":(c.href="#",r&&(c.href+=r)),n&&(c.title=n),u.default.createElement(s,c,u.default.createElement("span",null,a))}},{key:"renderContent",value:function(){var t=this,e=this.props,r=e.id,n=e.direction,a=e.className,o=["drop__content","drop__content--react","drop-trans--".concat(n)],i={ref:function(e){t.dropdownRef=e},"data-hook":"dropdown:content"};return a&&o.push(a),i.className=o.join(" "),r&&(i.id=r),u.default.createElement(s.CSSTransition,{in:this.state.open,appear:!0,unmountOnExit:!0,classNames:"drop-trans",timeout:{enter:300,exit:300}},u.default.createElement(v,{props:i,onChange:this.props.onChange},this.props.children))}},{key:"render",value:function(){var e,t,r,n=this.props,a=n.alignment,o=n.direction;if("up"===o||"down"===o)e=["left","center","right"];else{if("left"!==o&&"right"!==o)throw new Error('Dropdown: direction "'.concat(o,'" is not supported. Use one of: up, down, left, right'));e=["top","middle","bottom"]}if(-1===e.indexOf(a))throw new Error('Dropdown: alignment "'.concat(a,'" is not supported when direction is ').concat(o,". Use one of: ").concat(e.join(", ")));switch(o){case"up":t="bottom ".concat(a),r="top ".concat(a);break;case"down":t="top ".concat(a),r="bottom ".concat(a);break;case"right":t="".concat(a," left"),r="".concat(a," right");break;case"left":t="".concat(a," right"),r="".concat(a," left")}return u.default.createElement(i.default,{attachment:t,targetAttachment:r,constraints:[{to:"window",attachment:"together"}]},this.renderTriggerElement(),this.renderContent())}}],[{key:"closeAll",value:function(){y.forEach(function(e){return e.close()})}}]),r}(u.default.Component);r.default=g,g.defaultProps={triggerElement:"button",direction:"down",alignment:"center"};var v=function(e){function t(){return o(this,t),p(this,d(t).apply(this,arguments))}return f(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.onChange&&this.props.onChange(!0)}},{key:"componentWillUnmount",value:function(){this.props.onChange&&this.props.onChange(!1)}},{key:"render",value:function(){return u.default.createElement("div",this.props.props,this.props.children)}}]),t}(u.default.Component)},{"prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-tether":"react-tether","react-transition-group":"react-transition-group"}],"/root/repo/app/assets/scripts/components/form-select-control.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=o(e("react")),n=e("prop-types"),l=o(e("classnames")),a=e("../config");function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,t=e.className,r=e.label,n=e.id,a=e.options,o=e.selectedOption,i=e.onChange;return s.default.createElement("div",{className:(0,l.default)("form__group",t)},s.default.createElement("label",{className:"form__label",htmlFor:n},r),s.default.createElement("select",{className:"form__control",id:n,name:n,value:o,onChange:i},a.map(function(e){return s.default.createElement("option",{key:e.value,value:e.value},e.label)})))}}],n&&c(r.prototype,n),a&&c(r,a),t}(s.default.PureComponent);r.default=f,"production"!==a.environment&&(f.propTypes={className:n.PropTypes.string,label:n.PropTypes.string,id:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),options:n.PropTypes.array,selectedOption:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),onChange:n.PropTypes.func})},{"../config":"/root/repo/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/app/assets/scripts/components/geography-map.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=c(e("react")),n=e("prop-types"),i=c(e("mapbox-gl")),s=c(e("lodash.isequal")),a=e("../config"),l=c(e("./size-aware-element"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}i.default.accessToken=a.mbtoken;var h=function(e){function a(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,n=d(a).call(this,e),t=!n||"object"!==u(n)&&"function"!==typeof n?m(r):n,t.resizeListener=t.resizeListener.bind(m(m(t))),t}var t,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e),t=a,r=[{key:"componentDidMount",value:function(){this.initMap()}},{key:"componentDidUpdate",value:function(e){(0,s.default)(this.props.geographyISO,e.geographyISO)||this.fitGeographyBounds(),(0,s.default)(this.props.geographyBounds,e.geographyBounds)||this.fitGeographyBounds()}},{key:"componentWillUnmount",value:function(){this.map&&this.map.remove()}},{key:"fitGeographyBounds",value:function(){if(this.mapLoaded&&this.props.geographyBounds.length){var e=Math.min(1280,this.refs.mapEl.getBoundingClientRect().width);this.map.fitBounds(this.props.geographyBounds,{padding:{top:32,bottom:32,left:0,right:0},offset:[e/4,0]})}}},{key:"highlightGeography",value:function(){if(this.mapLoaded&&this.props.geographyISO){var e=this.props.geographyISO;this.map.setFilter("ne-countries-contour",["==","ISO_A2",e]),this.map.setFilter("ne-countries",["!=","ISO_A2",e]),this.map.setFilter("ne-capitals-bullet",["==","ISO_A2",e]),this.map.setFilter("ne-capitals-label",["==","ISO_A2",e])}}},{key:"initMap",value:function(){var e=this;this.map=new i.default.Map({container:this.refs.mapEl,style:"mapbox://styles/climatescope/cjnoj0lpf1b7d2sqqp31ef6c9",minZoom:2,zoom:2,center:[-60.646,-26.153],interactive:!1}),this.map.on("load",function(){e.mapLoaded=!0,e.fitGeographyBounds(),e.highlightGeography()})}},{key:"resizeListener",value:function(){this.map&&this.map.resize()}},{key:"render",value:function(){return o.default.createElement(l.default,{element:"figure",className:"inpage__hero inpage__hero--map",onChange:this.resizeListener},o.default.createElement("div",{className:"inpage__hero-item",ref:"mapEl"}),o.default.createElement("figcaption",{className:"inpage__hero-caption"},"Geography map"))}}],r&&p(t.prototype,r),n&&p(t,n),a}(o.default.Component);r.default=h,"production"!==a.environment&&(h.propTypes={geographyISO:n.PropTypes.string,geographyBounds:n.PropTypes.array})},{"../config":"/root/repo/app/assets/scripts/config.js","./size-aware-element":"/root/repo/app/assets/scripts/components/size-aware-element.js","lodash.isequal":"lodash.isequal","mapbox-gl":"mapbox-gl","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/app/assets/scripts/components/geography-nav-bar.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=d(e("react")),n=e("prop-types"),i=e("react-router-dom"),s=d(e("classnames")),l=d(e("react-ga")),a=e("../config"),c=d(e("../utils/geographies-layout")),u=d(e("./dropdown")),p=d(e("./size-aware-element"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){function a(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,n=h(a).call(this,e),t=!n||"object"!==f(n)&&"function"!==typeof n?g(r):n,t.menuItems=c.default.map(function(e){return{id:e.id,title:"Jump to section ".concat(e.title),label:e.title}}),t.state={largeUp:!1},t.onPrintClick=t.onPrintClick.bind(g(g(t))),t.resizeListener=t.resizeListener.bind(g(g(t))),t}var t,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e),t=a,r=[{key:"onPrintClick",value:function(){l.default.event({category:"User action",action:"Print",label:this.props.geography.name}),window.print()}},{key:"resizeListener",value:function(e){var t=e.width;this.setState({largeUp:t>=992})}},{key:"render",value:function(){var e=this.props,t=e.isSticky,r=e.style,n=e.currentItem,a=this.menuItems.find(function(e){return e.id===n})||{label:"Sections"};return o.default.createElement(p.default,{onChange:this.resizeListener,element:"nav",className:(0,s.default)("inpage__nav nav",{"inpage__nav--sticky":t}),style:r,role:"navigation"},o.default.createElement("div",{className:"inner"},t?o.default.createElement("div",{className:"nav__headline"},o.default.createElement("p",{className:"nav__subtitle"},o.default.createElement(i.Link,{to:"/results",title:"View results page"},o.default.createElement("span",null,"View all markets"))),o.default.createElement("h1",{className:"nav__title"},this.props.geography.name)):null,o.default.createElement("div",{className:"nav__block"},t||!this.state.largeUp?o.default.createElement(u.default,{className:"dropdown-content",triggerElement:"a",triggerClassName:"nav__drop-trigger",triggerActiveClassName:"button--active",triggerText:a.label,triggerTitle:"Jump to section",direction:"down",alignment:"left"},o.default.createElement("h6",{className:"drop__title"},"Jump to section"),o.default.createElement("ul",{className:"drop__menu drop__menu--select"},this.menuItems.map(function(e){return o.default.createElement("li",{key:e.id},o.default.createElement("a",{"data-hook":"dropdown:close",href:"#".concat(e.id),title:e.title,className:(0,s.default)("drop__menu-item",{"drop__menu-item--active":e.id===a.id})},e.label))}))):o.default.createElement("ul",{className:"sections-menu"},this.menuItems.map(function(e){return o.default.createElement("li",{key:e.id,className:"sections-menu__item"},o.default.createElement("a",{href:"#".concat(e.id),title:e.title,className:"sections-menu__link"},o.default.createElement("span",null,e.label)))}))),o.default.createElement("div",{className:"inpage__actions"},o.default.createElement(u.default,{className:"dropdown-content",triggerClassName:"ipa-options",triggerActiveClassName:"button--active",triggerText:"Actions",triggerTitle:"Toggle options",direction:"down",alignment:"right"},o.default.createElement("h6",{className:"drop__title"},"Share"),o.default.createElement("ul",{className:"drop__menu drop__menu--iconified"},o.default.createElement("li",null,o.default.createElement("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(window.location.toString()),className:"drop__menu-item dpi-facebook",title:"Share on Facebook",target:"_blank","data-hook":"dropdown:close"},o.default.createElement("span",null,"Facebook"))),o.default.createElement("li",null,o.default.createElement("a",{href:"https://twitter.com/intent/tweet?url=".concat(window.location.toString()),className:"drop__menu-item dpi-twitter",title:"Share on Twitter",target:"_blank","data-hook":"dropdown:close"},o.default.createElement("span",null,"Twitter")))),o.default.createElement("ul",{className:"drop__menu drop__menu--iconified"},o.default.createElement("li",null,o.default.createElement("button",{className:"drop__menu-item dpi-print",title:"Print content",onClick:this.onPrintClick,"data-hook":"dropdown:close"},o.default.createElement("span",null,"Print")))),o.default.createElement("ul",{className:"drop__menu drop__menu--iconified"},o.default.createElement("li",null,o.default.createElement(i.Link,{to:"/compare/".concat(this.props.geography.iso),className:"drop__menu-item dpi-compare",title:"Compare with another Geography","data-hook":"dropdown:close"},o.default.createElement("span",null,"Compare"))))))))}}],r&&m(t.prototype,r),n&&m(t,n),a}(o.default.PureComponent);r.default=v,"production"!==a.environment&&(v.propTypes={currentItem:n.PropTypes.string,isSticky:n.PropTypes.bool,geography:n.PropTypes.object,style:n.PropTypes.object})},{"../config":"/root/repo/app/assets/scripts/config.js","../utils/geographies-layout":"/root/repo/app/assets/scripts/utils/geographies-layout.js","./dropdown":"/root/repo/app/assets/scripts/components/dropdown.js","./size-aware-element":"/root/repo/app/assets/scripts/components/size-aware-element.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-ga":"react-ga","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/components/geography-params.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reconcileChartData=r.reconcileGroupChartData=r.getChildrenType=r.getChartData=r.getChartDef=r.renderParCardPercentGroup=r.renderParCardAnswerGroup=r.renderParCardTimeSeries=r.renderParCardRange=r.renderParCardPercent=r.renderParCardAbsolute=r.renderParCardAnswer=r.renderParCardError=r.renderParArea=r.ParCard=r.ParSectionHeader=r.ParSection=r.AreaBeta=r.AreaAlpha=void 0;var h=l(e("react")),n=e("prop-types"),u=l(e("classnames")),s=l(e("react-scrollable-anchor")),y=l(e("lodash.get")),a=e("../config"),o=e("../utils/math"),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(e("./area-chart"));function l(e){return e&&e.__esModule?e:{default:e}}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){d(t,e,r[e])})}return t}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){var t=e.children;return t};r.AreaAlpha=c;var v=function(e){var t=e.children;return t};r.AreaBeta=v;var f=function(e){var t=e.id,r=e.type,n=e.children,a=h.default.Children.toArray(n),o=a.find(function(e){return e.type===c}),i=a.find(function(e){return e.type===v});return h.default.createElement(s.default,{id:t},h.default.createElement("section",{className:(0,u.default)("par-section",d({},"par-section--".concat(r),!!r))},h.default.createElement("div",{className:"par-section__contents"},o&&h.default.createElement("div",{className:"area-alpha"},o),i&&h.default.createElement("div",{className:"area-beta"},i))))};r.ParSection=f,"production"!==a.environment&&(f.propTypes={id:n.PropTypes.string,type:n.PropTypes.string,children:n.PropTypes.node});var b=function(e){var t=e.title,r=e.description;return h.default.createElement("header",{className:"par-section__header"},h.default.createElement("h1",{className:"par-section__title"},t),h.default.createElement("div",{className:"par-section__description"},h.default.createElement("p",null,r)))};r.ParSectionHeader=b,"production"!==a.environment&&(b.propTypes={title:n.PropTypes.string,description:n.PropTypes.string});var m=function(e){var t,r=e.title,n=e.hiddenTitle,a=e.description,o=e.size,i=e.theme,s=e.topic,l=e.className,c=e.children;return h.default.createElement("article",{className:(0,u.default)("info-card",l,(t={},d(t,"info-card--".concat(o),!!o),d(t,"info-card--".concat(i),!!i),d(t,"info-card--par",!!s),d(t,"info-card--par-".concat(s),!!s),t))},h.default.createElement("h1",{className:(0,u.default)("info-card__title",{"visually-hidden":n})},r||n),a?h.default.createElement("div",{className:"info-card__statement"},h.default.createElement("p",null,a)):null,c)};r.ParCard=m,"production"!==a.environment&&(m.propTypes={title:n.PropTypes.string,hiddenTitle:n.PropTypes.string,description:n.PropTypes.string,size:n.PropTypes.string,theme:n.PropTypes.string,topic:n.PropTypes.string,className:n.PropTypes.string,children:n.PropTypes.node});r.renderParArea=function(e,u,p,d,f){if(-1===["alpha","beta"].indexOf(e))return null;var m=d.charts,t="alpha"===e?c:v,r="alpha"===e?"areaAlpha":"areaBeta";if(!u[r].length)return null;var n=u[r].map(function(t){if("sectionHeader"===t.id){var e=(d.sectionCopy||[]).find(function(e){return e.id===u.id}),r=(0,y.default)(e,"value","");return h.default.createElement(b,{key:t.id,title:u.title,description:r})}try{var n=N(p,t.id),a=g(n,1),o=a[0];if("group"===o.type){var i=N(p,o.children,t.id),s=x(o.id,i),l=A(t,o,i,m,d);switch(s){case"answer":return O(l);case"percent":return T(l);default:throw console.warn("Unable to render children type [".concat(s,"] for chart group [").concat(o.id,"]")),new Error("Unable to render children type [".concat(s,"] for chart group [").concat(o.id,"]"))}}else{var c=M(t,o,m,d);switch(c.type){case"answer":return _(c);case"absolute":case"average":return w(c);case"percent":return k(c);case"range":return j(c);case"timeSeries":return P(c,f,"".concat(d.iso,"-").concat(o.id));default:throw console.warn("Unable to render chart type [".concat(c.type,"] for chart [").concat(c.id,"]")),new Error("Unable to render chart type [".concat(c.type,"] for chart [").concat(c.id,"]"))}}}catch(e){return e.handled||console.error(e),E(t,e.message)}});return h.default.createElement(t,null,n)};var E=function(e,t){return h.default.createElement(m,{key:e.id,size:e.size,title:"Chart error",description:t,theme:"light"})};r.renderParCardError=E;var _=function(e){var t=e.data.value+"";return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},null===e.data.value?h.default.createElement("p",{className:"card-absolute"},"N/A"):h.default.createElement("dl",{className:"card-answer-options"},e.options.map(function(e){return h.default.createElement(h.default.Fragment,{key:e.id},h.default.createElement("dt",{className:(0,u.default)({"answer-checked":e.id===t,"answer-unchecked":e.id!==t})},e.label),h.default.createElement("dd",null,e.id===t?"Checked":"Unchecked"))})))};r.renderParCardAnswer=_;var w=function(e){var t=e.data.value;return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},h.default.createElement("p",{className:"card-absolute"},isNaN(Number(t))?t:(0,o.round)(t),e.unit&&h.default.createElement("small",null,e.unit)))};r.renderParCardAbsolute=w;var k=function(e){var t=e.data.value;return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},h.default.createElement("dl",{className:"card-percent card-percent--single"},h.default.createElement("dt",{className:"visually-hidden"},e.name),h.default.createElement("dd",null,h.default.createElement("span",null,null===t?"N/A":"".concat(t,"%")),null!==t&&h.default.createElement("div",{className:"card-percent-bar"},t>0&&h.default.createElement("div",{style:{height:"".concat(t,"%")}})))))};r.renderParCardPercent=k;var j=function(e){var t=e.data.value;return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},h.default.createElement("dl",{className:"range-legend"},e.options.map(function(e){return h.default.createElement(h.default.Fragment,{key:e.id},h.default.createElement("dt",null,e.label),h.default.createElement("dd",null,e.id))})),h.default.createElement("p",{className:"card-absolute"},isNaN(Number(t))?t:(0,o.round)(t)))};r.renderParCardRange=j;var P=function(e,t,r){var n=(0,i.memoizedComputeAreaChartData)(e.data,e.mainDataLayers,r),a=n.data.some(function(e){return e.values.some(function(e){return null!==e.value})});return h.default.createElement(m,{key:e.id,title:e.name,description:a&&e.description||null,size:e.size,className:(0,u.default)("chart-".concat(e.id),{"info-card--empty":!a})},!a&&h.default.createElement("p",null,"No data is available for this chart"),a&&h.default.createElement(i.default,{onBisectorEvent:t.onInteractionEvent.bind(t,e.id),interactionData:t.state[e.id],yLabel:n.yLabel,yDomain:n.yDomain,xDomain:n.xDomain,data:n.data}))};r.renderParCardTimeSeries=P;var O=function(e){var i=e.children.reduce(function(e,t){return t.options.reduce(function(e,t){return-1===e.indexOf(t.label)?e.concat(t.label):e},e)},[]);return h.default.createElement(m,{key:e.id,hiddenTitle:e.name,size:e.size},h.default.createElement("table",{className:"feature-table"},h.default.createElement("thead",null,h.default.createElement("tr",null,h.default.createElement("th",null,h.default.createElement("span",{className:"visually-hidden"},"Feature")),i.map(function(e){return h.default.createElement("th",{key:e},e)}))),h.default.createElement("tbody",null,e.children.map(function(e){var t,r=e.data.value+"",n=e.options.find(function(e){return e.id===r});if(e.applicableByGrid&&null!==e.data.value)if(n){var a=n.label;t=h.default.createElement(h.default.Fragment,null,h.default.createElement("th",null,h.default.createElement("h2",null,e.name),h.default.createElement("p",null,e.description)),i.map(function(e){return h.default.createElement("td",{key:e},h.default.createElement("strong",{className:(0,u.default)({"feature-checked":e===a,"feature-unchecked":e!==a})},h.default.createElement("span",null,e===a?"Checked":"Unchecked")))}))}else t=h.default.createElement(h.default.Fragment,null,h.default.createElement("th",null,h.default.createElement("h2",null,"Chart Error"),h.default.createElement("p",null,"The chart [",e.id,"] has a value of [",e.data.value,"] which is not found in options [",e.options.map(function(e){return e.id}).join(", "),"]")),h.default.createElement("td",{colSpan:i.length}));else{var o=e.applicableByGrid?"Only applicable to off-grid countries":"No answer available";t=h.default.createElement(h.default.Fragment,null,h.default.createElement("th",null,h.default.createElement("h2",null,e.name),h.default.createElement("p",null,e.description)),h.default.createElement("td",{colSpan:i.length},o))}return h.default.createElement("tr",{key:e.id,className:(0,u.default)(d({},"feature-table__line--par-".concat(e.topic),!!e.topic))},t)}))))};r.renderParCardAnswerGroup=O;var T=function(e){return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},h.default.createElement("ul",{className:"card-percent-list"},e.children.map(function(e){return h.default.createElement("li",{key:e.id},h.default.createElement("dl",{className:"card-percent"},h.default.createElement("dt",null,e.name),h.default.createElement("dd",null,h.default.createElement("span",null,null===e.data.value?"N/A":"".concat(e.data.value,"%")),null!==e.data.value&&h.default.createElement("div",{className:"card-percent-bar"},e.data.value>0&&h.default.createElement("div",{style:{height:"".concat(e.data.value,"%")}})))))})))};r.renderParCardPercentGroup=T;var S=function(e,t){t=[].concat(t);var r=e.filter(function(e){return-1!==t.indexOf(e.id)});if(r.length===t.length)return r;var n=t.filter(function(t){return!r.find(function(e){return e.id===t})}),a=new Error("Missing ids");throw a.data=n,a},N=function(e,t,r){try{return S(e,t)}catch(e){if(!e.data)throw e;throw e.handled=!0,e.message="Definition not found for chart [".concat(e.data.join(", "),"]")+(r?" in group [".concat(r,"]"):""),e}};r.getChartDef=N;var C=function(e,t,r){try{return S(e,t)}catch(e){if(!e.data)throw e;throw e.handled=!0,e.message="Data not found for chart [".concat(e.data.join(", "),"]")+(r?" in group [".concat(r,"]"):""),e}};r.getChartData=C;var x=function(e,t){var r=t.reduce(function(e,t){return-1===e.indexOf(t.type)?e.concat(t.type):e},[]);if(1!==r.length)throw new Error("All the indicators of group [".concat(e,"] must be of same type. Types found: [").concat(r.join(", "),"]"));return r[0]};r.getChildrenType=x;var A=function(e,o,t,r,i){var n=C(r,o.id),a=g(n,1),s=a[0],l=[],c=t.map(function(e){try{var t=C(s.data,e.id,o.id),r=g(t,1),n=r[0],a=L(i,o);return p({},e,{data:n,applicableByGrid:a})}catch(e){l=l.concat(e.data)}});if(l.length)throw new Error("Data not found for chart [".concat(l.join(", "),"] in group [").concat(o.id,"]"));var u=p({},e,o,s,{children:c});return u};r.reconcileGroupChartData=A;var M=function(e,t,r,n){var a=C(r,e.id),o=g(a,1),i=o[0],s=L(n,t),l=p({},e,t,{data:i,applicableByGrid:s});return l};r.reconcileChartData=M;var L=function(e,t){return"both"===t["applicable-grid"]||e.grid===t["applicable-grid"]}},{"../config":"/root/repo/app/assets/scripts/config.js","../utils/math":"/root/repo/app/assets/scripts/utils/math.js","./area-chart":"/root/repo/app/assets/scripts/components/area-chart.js",classnames:"classnames","lodash.get":"lodash.get","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-scrollable-anchor":"react-scrollable-anchor"}],"/root/repo/app/assets/scripts/components/lib-card.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=s,r.MediumCategoryCard=r.MediumCard=r.ToolCard=r.LibCardImage=r.LibCardFooter=void 0;var f=o(e("react")),n=e("prop-types"),m=o(e("classnames")),a=e("../config"),h=e("../components/loading-skeleton"),y=o(e("../components/smart-link"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}var g=function(e){var t=e.children;return t};function s(e){var t=e.isLoading,r=e.url,n=e.subtitle,a=e.date,o=e.linkTitle,i=e.title,s=e.description,l=e.isFeatured,c=e.className,u=e.children,p=f.default.Children.toArray(u),d=p.find(function(e){return e.type===g});return f.default.createElement("article",{className:(0,m.default)("card card--short",{"card--featured":l},c)},f.default.createElement("div",{className:"card__contents"},t?f.default.createElement(h.LoadingSkeletonGroup,null,f.default.createElement(h.LoadingSkeleton,{size:"large",type:"heading",width:.75}),f.default.createElement(h.LoadingSkeleton,null),f.default.createElement(h.LoadingSkeleton,null),f.default.createElement(h.LoadingSkeleton,{width:.25,style:{marginBottom:"4rem"}}),f.default.createElement(h.LoadingSkeleton,{width:2/3}),f.default.createElement(h.LoadingSkeleton,{width:.25})):f.default.createElement(f.default.Fragment,null,f.default.createElement("header",{className:"card__header"},f.default.createElement("div",{className:"card__headline"},f.default.createElement(y.default,{to:r,title:o,className:"link-wrapper"},n&&f.default.createElement("p",{className:"card__subtitle"},n),f.default.createElement("h1",{className:"card__title"},i)),a&&f.default.createElement("p",{className:"card__date"},a))),s&&f.default.createElement("div",{className:"card__body"},f.default.createElement("div",{className:"card__prose"},f.default.createElement("p",null,s))),f.default.createElement("footer",{className:"card__footer"},d))))}r.LibCardFooter=g,"production"!==a.environment&&(s.propTypes={isLoading:n.PropTypes.bool,isFeatured:n.PropTypes.bool,className:n.PropTypes.string,url:n.PropTypes.string,linkTitle:n.PropTypes.string,title:n.PropTypes.string,description:n.PropTypes.string,subtitle:n.PropTypes.string,date:n.PropTypes.string,footerTitle:n.PropTypes.string,children:n.PropTypes.node});var c=function(e){var t=e.linkTo,r=e.linkTitle,n=e.src,a=e.width,o=e.height,i=e.alt;return f.default.createElement("figure",{className:"card__media"},f.default.createElement(y.default,{to:t,title:r,className:"link-wrapper"},f.default.createElement("div",{className:"card__cover"},f.default.createElement("img",{src:"/assets/graphics/content/feat-tools/".concat(n),width:a,height:o,alt:i}))))};r.LibCardImage=c,"production"!==a.environment&&(c.propTypes={linkTo:n.PropTypes.string,linkTitle:n.PropTypes.string,src:n.PropTypes.string,width:n.PropTypes.number,height:n.PropTypes.number,alt:n.PropTypes.string});var l=function(e){var t=e.isLoading,r=e.url,n=e.subtitle,a=e.linkTitle,o=e.title,i=e.description,s=e.image,l=e.isFeatured;e.children;return f.default.createElement("article",{className:(0,m.default)("card card--short card--tool",{"card--featured":l})},f.default.createElement("div",{className:"card__contents"},t?f.default.createElement(h.LoadingSkeletonGroup,null,f.default.createElement(h.LoadingSkeleton,{size:"large",type:"heading",width:.75}),f.default.createElement(h.LoadingSkeleton,null),f.default.createElement(h.LoadingSkeleton,null),f.default.createElement(h.LoadingSkeleton,{width:.25,style:{marginBottom:"4rem"}}),f.default.createElement(h.LoadingSkeleton,{width:2/3}),f.default.createElement(h.LoadingSkeleton,{width:.25})):f.default.createElement(f.default.Fragment,null,f.default.createElement("header",{className:"card__header"},f.default.createElement("div",{className:"card__headline"},f.default.createElement(y.default,{to:r,title:a,className:"link-wrapper"},n&&f.default.createElement("p",{className:"card__subtitle"},n),f.default.createElement("h1",{className:"card__title"},o))),f.default.createElement(c,{linkTo:r,linkTitle:a,src:s,width:960,height:480,alt:"Tool cover"})),i&&f.default.createElement("div",{className:"card__body"},f.default.createElement("div",{className:"card__prose"},f.default.createElement("p",null,i))),f.default.createElement("footer",{className:"card__footer"},f.default.createElement(y.default,{to:r,title:a,className:"card__go-link"},f.default.createElement("span",null,"Explore the tool"))))))};r.ToolCard=l,"production"!==a.environment&&(l.propTypes={isLoading:n.PropTypes.bool,isFeatured:n.PropTypes.bool,url:n.PropTypes.string,linkTitle:n.PropTypes.string,title:n.PropTypes.string,subtitle:n.PropTypes.string,description:n.PropTypes.string,image:n.PropTypes.string,children:n.PropTypes.node});r.MediumCard=function(e){return f.default.createElement(s,i({},e,{footerTitle:"Explore the tool"}),!e.isLoading&&f.default.createElement(g,null,e.tags&&f.default.createElement(f.default.Fragment,null,f.default.createElement("h2",{className:"visually-hidden"},"Topics"),f.default.createElement("ul",{className:"topics-list"},e.tags.map(function(e){return f.default.createElement("li",{key:e.id},f.default.createElement("a",{href:e.url,className:"topic-link",title:"Browse Insights by Topic"},f.default.createElement("span",null,e.name)))}))),f.default.createElement(y.default,{to:e.url,title:"Read article",className:"card__go-link"},f.default.createElement("span",null,"Read article"))))};r.MediumCategoryCard=function(e){return f.default.createElement(s,e,f.default.createElement(g,null,f.default.createElement(y.default,{to:e.url,title:e.linkTitle,className:"card__go-link"},f.default.createElement("span",null,"View archive"))))}},{"../components/loading-skeleton":"/root/repo/app/assets/scripts/components/loading-skeleton.js","../components/smart-link":"/root/repo/app/assets/scripts/components/smart-link.js","../config":"/root/repo/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/app/assets/scripts/components/loading-skeleton.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoadingSkeleton=r.LoadingSkeletonGroup=void 0;var c=o(e("react")),n=e("prop-types"),u=o(e("classnames")),a=e("../config");function o(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){var t=e.children,r=e.style;return c.default.createElement("div",{className:"lsk__group",style:r},t)};r.LoadingSkeletonGroup=i,"production"!==a.environment&&(i.propTypes={style:n.PropTypes.object,children:n.PropTypes.node});var s=function(e){var t,r=e.type,n=e.size,a=e.width,o=e.inline,i=e.style,s=e.theme;a=a||1;var l=(0,u.default)("lsk__item",(t={},p(t,"lsk__item--".concat(r),!!r),p(t,"lsk__item--".concat(n),!!n),p(t,"lsk__item--".concat(s),!!s),t));return i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){p(t,e,r[e])})}return t}({},i,{width:"".concat(100*a,"%"),display:o?"inline-block":"block"}),c.default.createElement("span",{className:l,style:i})};r.LoadingSkeleton=s,"production"!==a.environment&&(s.propTypes={style:n.PropTypes.object,type:n.PropTypes.string,theme:n.PropTypes.string,size:n.PropTypes.string,width:n.PropTypes.number,inline:n.PropTypes.bool})},{"../config":"/root/repo/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/app/assets/scripts/components/mapbox-popover.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,m=(n=e("react"),n&&n.__esModule?n:{default:n}),a=e("prop-types"),h=e("react-dom"),o=e("../config");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){s(t,e,r[e])})}return t}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){function a(e){var t,r,n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,n=u(a).call(this,e),t=!n||"object"!==i(n)&&"function"!==typeof n?d(r):n,a.instance)throw new Error("MBPopover instance already initialized");return a.instance=d(d(t)),t.onMarkerEvent=t.onMarkerEvent.bind(d(d(t))),t.onPopoverEvent=t.onPopoverEvent.bind(d(d(t))),t.fullHideState={show:!1,overPopover:!1,overMarker:!1,clickMarker:!1,clickOrigin:null,markerData:null},t.state=l({},t.fullHideState,{markerX:0,markerY:0,markerW:0,markerH:0}),t}var t,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e),t=a,r=[{key:"onMarkerEvent",value:function(e,t,r){var n=this,a=this.state,o=l({},a);"over"===e?o=l({},o,{overMarker:!0}):"out"===e&&(o=l({},o,{overMarker:!1}));var i=t.getBoundingClientRect(),s={show:!0,markerData:r,markerX:i.left,markerY:i.top,markerW:i.width,markerH:i.height};if("over"!==e||o.clickMarker?"click"===e&&(o=l({},o,{clickOrigin:t}),o=o.clickMarker&&a.clickOrigin===o.clickOrigin?l({},o,this.fullHideState):l({},o,s,{clickMarker:!0})):o=l({},o,s),this.setState(o),"out"===e&&!o.clickMarker)return setTimeout(function(){n.state.overPopover||n.state.overMarker||n.setState(l({},n.state,n.fullHideState))},200)}},{key:"onPopoverEvent",value:function(e){"enter"!==e||this.state.clickMarker?("close"===e||"leave"===e&&!this.state.clickMarker)&&this.setState(l({},this.state,this.fullHideState)):this.setState(l({},this.state,{overMarker:!1,overPopover:!0}))}},{key:"componentDidMount",value:function(){this.el=document.querySelector("#map-popover"),this.el||(this.el=document.createElement("div"),this.el.id="#map-popover",document.querySelector(this.props.target).appendChild(this.el)),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){a.instance=null,this.el.remove()}},{key:"render",value:function(){if(!this.el)return null;var e=this.state,t=e.show,r=e.markerX,n=e.markerY,a=e.markerW,o=e.markerData;if(!t)return null;var i=r+window.pageXOffset+a/2,s=n+window.pageYOffset,l={transform:"translate(-50%, -100%) translate(0, -0.5rem)",position:"absolute",zIndex:10,top:s,left:i},c=this.props,u=c.element,p=c.className,d=c.render,f=d(o);return null===f?null:(0,h.createPortal)(m.default.createElement(u,{className:p,style:l,onMouseEnter:this.onPopoverEvent.bind(this,"enter"),onMouseLeave:this.onPopoverEvent.bind(this,"leave"),children:f}),this.el)}}],n=[{key:"attachMarker",value:function(e,t){e.onmouseenter=function(){a.instance.onMarkerEvent("over",e,t)},e.ontouchstart=function(){a.instance.onMarkerEvent("over",e,t)},e.onmouseleave=function(){a.instance.onMarkerEvent("out",e,t)},e.onclick=function(){a.instance.onMarkerEvent("click",e,t)}}},{key:"hide",value:function(){a.instance&&a.instance.setState(l({},a.instance.state,a.instance.fullHideState))}}],r&&c(t.prototype,r),n&&c(t,n),a}(m.default.PureComponent);r.default=f,f.instance=null,f.defaultProps={element:"div",target:".page__body"},"production"!==o.environment&&(f.propTypes={element:a.PropTypes.string,target:a.PropTypes.string,className:a.PropTypes.string,render:a.PropTypes.func})},{"../config":"/root/repo/app/assets/scripts/config.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-dom":"react-dom"}],"/root/repo/app/assets/scripts/components/meta-tags.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,o=(n=e("react"),n&&n.__esModule?n:{default:n}),a=e("prop-types"),i=e("react-helmet"),s=e("../config");var l=function(e){var t=e.title,r=e.description,n=e.imgUrl,a=e.children;return o.default.createElement(i.Helmet,null,o.default.createElement("title",null,t),r?o.default.createElement("meta",{name:"description",content:r}):null,o.default.createElement("meta",{name:"twitter:title",content:t}),n?o.default.createElement("meta",{name:"twitter:image",content:n}):null,r?o.default.createElement("meta",{name:"twitter:description",content:r}):null,o.default.createElement("meta",{property:"og:title",content:t}),n?o.default.createElement("meta",{property:"og:image",content:n}):null,r?o.default.createElement("meta",{property:"og:description",content:r}):null,a)};"production"!==s.environment&&(l.propTypes={title:a.PropTypes.string,description:a.PropTypes.string,imgUrl:a.PropTypes.string,children:a.PropTypes.node});var c=l;r.default=c},{"../config":"/root/repo/app/assets/scripts/config.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-helmet":"react-helmet"}],"/root/repo/app/assets/scripts/components/nav-global-menu.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("react")),n=e("prop-types"),i=e("react-router-dom"),s=l(e("./dropdown")),a=e("../config");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),r=t,n=[{key:"renderHeaderMenu",value:function(){return o.default.createElement("ul",{className:"global-menu",id:"global-menu"},o.default.createElement("li",{className:"global-menu__item"},o.default.createElement(i.Link,{to:"/",title:"View",className:"global-menu__link"},"Home")),o.default.createElement("li",{className:"global-menu__item"},o.default.createElement(i.Link,{to:"/results",title:"View Results",className:"global-menu__link"},"Results")),o.default.createElement("li",{className:"global-menu__item drop"},o.default.createElement(s.default,{className:"",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret global-menu__link",triggerActiveClassName:"button--active",triggerText:"Insights",triggerTitle:"Explore the Insights",direction:"down",alignment:"right"},o.default.createElement("ul",{className:"drop__menu"},o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/library/insights",title:"View Climatescope Insights",className:"drop__menu-item"},"Insights")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/key-findings",title:"View Key Findings",className:"drop__menu-item"},"Key Findings")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/press-release",title:"View Press Release",className:"drop__menu-item"},"Press Release"))))),o.default.createElement("li",{className:"global-menu__item"},o.default.createElement(i.Link,{to:"/library",title:"View Tools & Reports",className:"global-menu__link"},"Tools & Reports")),o.default.createElement("li",{className:"global-menu__item"},o.default.createElement(s.default,{className:"",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret global-menu__link",triggerActiveClassName:"button--active",triggerText:"About",triggerTitle:"Explore Climatescope",direction:"down",alignment:"right"},o.default.createElement("ul",{className:"drop__menu"},o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/about",title:"View",className:"drop__menu-item"},"Behind Climatescope")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/methodology",title:"View",className:"drop__menu-item"},"Methodology")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/license",title:"View",className:"drop__menu-item"},"License")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/contact",title:"View",className:"drop__menu-item"},"Contact"))))))}},{key:"renderFooterMenu",value:function(){return o.default.createElement("ul",{className:"footer-menu",id:"footer-menu"},o.default.createElement("li",{className:"footer-menu__item"},o.default.createElement(i.Link,{to:"/",title:"View",className:"footer-menu__link"},"Home")),o.default.createElement("li",{className:"footer-menu__item"},o.default.createElement(i.Link,{to:"/results",title:"View",className:"footer-menu__link"},"Results")),o.default.createElement("li",{className:"footer-menu__item drop"},o.default.createElement(s.default,{className:"",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret footer-menu__link",triggerActiveClassName:"button--active",triggerText:"Insights",triggerTitle:"Explore the Insights",direction:"up",alignment:"left"},o.default.createElement("ul",{className:"drop__menu"},o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/library/insights",title:"View Climatescope Insights",className:"drop__menu-item"},"Insights")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/key-findings",title:"View Key Findings",className:"drop__menu-item"},"Key Findings")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/press-release",title:"View Press Release",className:"drop__menu-item"},"Press Release"))))),o.default.createElement("li",{className:"footer-menu__item"},o.default.createElement(i.Link,{to:"/library",title:"View Tools & Reports",className:"footer-menu__link"},"Tools & Reports")),o.default.createElement("li",{className:"footer-menu__item"},o.default.createElement(s.default,{className:"",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret footer-menu__link",triggerActiveClassName:"button--active",triggerText:"About",triggerTitle:"Explore Climatescope",direction:"up",alignment:"left"},o.default.createElement("ul",{className:"drop__menu"},o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/about",title:"View",className:"drop__menu-item"},"Behind Climatescope")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/methodology",title:"View",className:"drop__menu-item"},"Methodology")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/license",title:"View",className:"drop__menu-item"},"License")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/contact",title:"View",className:"drop__menu-item"},"Contact"))))))}},{key:"render",value:function(){var e=this.props,t=e.forHeader,r=e.forFooter;return t?this.renderHeaderMenu():r?this.renderFooterMenu():null}}],n&&u(r.prototype,n),a&&u(r,a),t}(o.default.PureComponent);"production"!==a.environment&&(m.propTypes={forHeader:n.PropTypes.bool,forFooter:n.PropTypes.bool});var h=m;r.default=h},{"../config":"/root/repo/app/assets/scripts/config.js","./dropdown":"/root/repo/app/assets/scripts/components/dropdown.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/components/on-grid.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("react")),n=e("prop-types"),c=o(e("classnames")),a=e("../config");function o(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function i(e){var t=e.grid,r=e.theme,n=e.noTip;if(null===t||""===t)return null;t="string"===typeof t?"on"===t:t;var a,o,i,s=n?{}:{"data-tip":t?"On-grid":"Off-grid","data-for":"popover-compact"};return l.default.createElement("small",u({className:(0,c.default)("label label--grid",(a={"label--disabled":!t},o="label--".concat(r),i=!!r,o in a?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,a))},s),l.default.createElement("span",null,t?"On-grid":"Off-grid"))}"production"!==a.environment&&(i.propTypes={grid:n.PropTypes.oneOfType([n.PropTypes.bool,n.PropTypes.string]),theme:n.PropTypes.string})},{"../config":"/root/repo/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/app/assets/scripts/components/page-footer.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=u(e("react")),n=e("prop-types"),o=e("react-router-dom"),i=u(e("react-mailchimp-subscribe")),s=u(e("classnames")),l=u(e("./nav-global-menu")),c=e("../config");function u(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function h(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}var E=function(e){function t(){return d(this,t),h(this,g(t).apply(this,arguments))}return v(t,e),m(t,[{key:"render",value:function(){return a.default.createElement("footer",{className:"page__footer footer",role:"contentinfo"},a.default.createElement("div",{className:"inner"},a.default.createElement("nav",{className:"footer__block footer__block--nav nav"},a.default.createElement("h2",{className:"footer__title"},"Browse"),a.default.createElement(l.default,{forFooter:!0})),a.default.createElement(_,null)),a.default.createElement("div",{className:"footer__credits"},a.default.createElement("div",{className:"inner"},a.default.createElement("p",null,"2012-",c.appEdition," Climatescope. ",a.default.createElement(o.Link,{to:"/license",title:"About the license"},"View license"),"."))))}}]),t}(a.default.PureComponent);r.default=E,"production"!==c.environment&&(E.propTypes={location:n.PropTypes.object});var _=function(e){function r(e){var t;return d(this,r),t=h(this,g(r).call(this,e)),t.state={email:""},t.onChange=t.onChange.bind(y(y(t))),t}return v(r,e),m(r,[{key:"isValid",value:function(){var e=this.state.email.indexOf("@");return-1!==e&&e===this.state.email.lastIndexOf("@")}},{key:"onChange",value:function(e){this.setState({email:e.target.value})}},{key:"onSubmit",value:function(e,t){t.preventDefault(),this.isValid()&&(e({EMAIL:this.state.email}),this.setState({email:""}))}},{key:"render",value:function(){var n=this;return a.default.createElement(i.default,{url:c.mailchimpUrl||"",render:function(e){var t=e.subscribe,r=e.status;e.message;return a.default.createElement("section",{className:"footer__block footer__block--newsletter"},a.default.createElement("h2",{className:"footer__title"},"Stay up to date"),a.default.createElement("p",null,"Subscribe to the mailing list."),a.default.createElement("form",{className:(0,s.default)("form newsletter-form",{disabled:"sending"===r||!c.mailchimpUrl}),method:"post",id:"mc-embedded-subscribe-form",name:"subscribe-form",disabled:"sending"===r,onSubmit:n.onSubmit.bind(n,t)},a.default.createElement("div",{className:"form__group"},a.default.createElement("label",{className:"form__label"},"Email"),a.default.createElement("div",{className:"form__input-group form__input-group--medium"},a.default.createElement("input",{type:"email",name:"EMAIL",className:"form__control required email",id:"mce-EMAIL","aria-required":"true",placeholder:"Email",value:n.state.email,onChange:n.onChange}),a.default.createElement("button",{type:"submit",name:"subscribe",id:"mc-embedded-subscribe",className:"button button--primary-raised-dark"},a.default.createElement("span",null,"Subscribe"))))),a.default.createElement("div",{className:"form__help",id:"mce-responses"},"error"===r&&a.default.createElement("p",{className:"mce-response",id:"mce-error-response"},"Something went wrong."),"success"===r&&a.default.createElement("p",{className:"mce-response",id:"mce-success-response"},"You're now subscribed!")))}})}}]),r}(a.default.Component)},{"../config":"/root/repo/app/assets/scripts/config.js","./nav-global-menu":"/root/repo/app/assets/scripts/components/nav-global-menu.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-mailchimp-subscribe":"react-mailchimp-subscribe","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/components/page-header.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("react")),n=e("prop-types"),i=e("react-router-dom"),s=a(e("./nav-global-menu")),l=e("../config");function a(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),r=t,n=[{key:"render",value:function(){return o.default.createElement("header",{className:"page__header",role:"banner"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"page__headline"},o.default.createElement("h1",{className:"page__title"},o.default.createElement(i.Link,{to:"/",title:"View page"},l.appTitle," ",o.default.createElement("em",null,l.appEdition))),o.default.createElement("p",{className:"page__subtitle"},"by ",o.default.createElement("a",{href:"http://www.newenergyfinance.com/",title:"Visit Bloomberg NEF"},o.default.createElement("img",{alt:"Bloomberg New Energy Finance logo",src:"/assets/graphics/layout/logo-bnef-short-flat-neg.svg"}),o.default.createElement("span",null,"Bloomberg NEF")))),o.default.createElement("nav",{className:"page__prime-nav nav",role:"navigation"},o.default.createElement(s.default,{forHeader:!0}))))}}],n&&u(r.prototype,n),a&&u(r,a),t}(o.default.PureComponent);r.default=m,"production"!==l.environment&&(m.propTypes={location:n.PropTypes.object})},{"../config":"/root/repo/app/assets/scripts/config.js","./nav-global-menu":"/root/repo/app/assets/scripts/components/nav-global-menu.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/components/parameters.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ParameterGraph=l,r.ParameterBreakdown=c;var n,i=(n=e("react"),n&&n.__esModule?n:{default:n}),a=e("prop-types"),o=e("../config"),s=e("../utils/math");function l(e){var t=e.geographyIso,r=e.data;return i.default.createElement("dl",{className:"stack-bar","data-tip":t,"data-for":"param-graph-tooltip"},r.map(function(e,t){var r=e.id,n=e.value,a=e.weight;return i.default.createElement(i.default.Fragment,{key:r},i.default.createElement("dt",{className:"visually-hidden"},r),i.default.createElement("dd",{className:"param-".concat(t+1),style:{width:"".concat(n*(a/100)*20,"%")}},i.default.createElement("span",{className:"visually-hidden"},n),""))}))}function c(e){var t=e.className,r=e.children,n=e.data;return i.default.createElement("dl",{className:t},r,n.map(function(e,t){var r=e.id,n=e.name,a=e.value,o=e.weight;return i.default.createElement(i.default.Fragment,{key:r},i.default.createElement("dt",{className:"legend__key--par-".concat(t+1)},n),i.default.createElement("dd",null,(0,s.round)(a),i.default.createElement("small",null,o,"%")))}))}"production"!==o.environment&&(l.propTypes={geographyIso:a.PropTypes.string,data:a.PropTypes.array}),"production"!==o.environment&&(c.propTypes={className:a.PropTypes.string,children:a.PropTypes.node,data:a.PropTypes.array})},{"../config":"/root/repo/app/assets/scripts/config.js","../utils/math":"/root/repo/app/assets/scripts/utils/math.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/app/assets/scripts/components/results-map-popover-contents.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=i(e("react")),n=e("prop-types"),u=e("react-router-dom"),o=i(e("react-tooltip")),a=e("../config"),p=i(e("./on-grid")),d=e("./parameters"),f=e("../utils/math");function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){o.default.rebuild()}},{key:"componentDidUpdate",value:function(){o.default.rebuild()}},{key:"render",value:function(){var e=this.props,t=e.iso,r=e.score,n=e.rank,a=e.name,o=e.topics,i=e.grid,s=e.onCloseClick,l=!!r;return c.default.createElement("div",{className:"popover__contents"},c.default.createElement("header",{className:"popover__header"},c.default.createElement("div",{className:"popover__headline"},c.default.createElement("h1",{className:"popover__title"},c.default.createElement(u.Link,{to:"/results/".concat(t),title:"View ".concat(a," page")},a),c.default.createElement(p.default,{grid:i}))),c.default.createElement("div",{className:"popover__header-toolbar"},c.default.createElement("a",{href:"#",title:"Close",className:"tba-xmark tba--text-hidden",onClick:s},c.default.createElement("span",null,"Close")))),c.default.createElement("div",{className:"popover__body"},l?c.default.createElement(d.ParameterBreakdown,{className:"legend par-legend",data:o},c.default.createElement("dt",null,"Global rank"),c.default.createElement("dd",null,n),c.default.createElement("dt",null,"Score"),c.default.createElement("dd",null,(0,f.round)(r))):c.default.createElement(c.default.Fragment,null,c.default.createElement("dl",{className:"legend par-legend"},c.default.createElement("dt",null,"Global rank"),c.default.createElement("dd",null,"--"),c.default.createElement("dt",null,"Score"),c.default.createElement("dd",null,"--")),c.default.createElement("p",{className:"empty"},"There is no data for this geography"))),c.default.createElement("footer",{className:"popover__footer"},c.default.createElement(u.Link,{to:"/results/".concat(t),className:"popover__cta",title:"View ".concat(a," page")},"View more")))}}],n&&l(r.prototype,n),a&&l(r,a),t}(c.default.PureComponent);r.default=g,"production"!==a.environment&&(g.propTypes={onCloseClick:n.PropTypes.func,iso:n.PropTypes.string,rank:n.PropTypes.number,name:n.PropTypes.string,topics:n.PropTypes.array,grid:n.PropTypes.bool,score:n.PropTypes.number})},{"../config":"/root/repo/app/assets/scripts/config.js","../utils/math":"/root/repo/app/assets/scripts/utils/math.js","./on-grid":"/root/repo/app/assets/scripts/components/on-grid.js","./parameters":"/root/repo/app/assets/scripts/components/parameters.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom","react-tooltip":"react-tooltip"}],"/root/repo/app/assets/scripts/components/results-map.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=y(e("react")),n=e("prop-types"),a=e("react-dom"),s=y(e("mapbox-gl")),o=y(e("classnames")),i=y(e("lodash.debounce")),l=y(e("lodash.isequal")),u=e("../config"),p=e("../utils/string"),d=e("../utils/array"),f=y(e("../utils/mapbox-react-control")),m=y(e("./mapbox-popover")),h=y(e("./results-map-popover-contents"));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}s.default.accessToken=u.mbtoken;var k=function(e){var t=e.highlight,r=e.onClick;return c.default.createElement("div",{className:"rank-switcher"},c.default.createElement("button",{type:"button",title:"Highlight top 10 geographies",className:(0,o.default)({"button--active":"top"===t}),onClick:function(){return r("top")}},c.default.createElement("span",null,"Top ten")),c.default.createElement("button",{type:"button",title:"Highlight bottom 10 geographies",className:(0,o.default)({"button--active":"bottom"===t}),onClick:function(){return r("bottom")}},c.default.createElement("span",null,"Bottom ten")))};"production"!==u.environment&&(k.propTypes={onClick:n.PropTypes.func,highlight:n.PropTypes.string});var j=function(e,t){var r=document.createElement("div");return r.style.cursor="pointer",t?(0,a.render)(c.default.createElement("div",{className:"country-marker highlight"},(0,p.padNumber)(t,2)),r):(0,a.render)(c.default.createElement("div",{className:"country-marker"}),r),m.default.attachMarker(r,{geoIso:e}),r},P=function(e){function a(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,n=E(a).call(this,e),t=!n||"object"!==g(n)&&"function"!==typeof n?w(r):n,t.markers=[],t.popoverRenderer=t.popoverRenderer.bind(w(w(t))),t}var t,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e),t=a,r=[{key:"componentDidMount",value:function(){this.initMap()}},{key:"componentDidUpdate",value:function(e){(0,l.default)(this.props.highlightISO,e.highlightISO)||this.setHighlightedGeographies(this.props.highlightISO),this.mapLoaded&&!(0,l.default)(this.props.bounds,e.bounds)&&this.map.fitBounds(this.props.bounds),(0,l.default)(this.props.data,e.data)||this.renderMarkers(),(0,l.default)(this.props.meta,e.meta)||this.renderMarkers(),(0,l.default)(this.props.markersHighlight,e.markersHighlight)||(this.renderMarkers(),this.markersHighlightControl.render({highlight:this.props.markersHighlight}))}},{key:"setHighlightedGeographies",value:function(e){this.mapLoaded&&this.map.setFilter("ne-countries-highlight",["in","ISO_A2"].concat(v(e)))}},{key:"renderMarkers",value:function(){var o=this;if(this.mapLoaded&&this.props.data.length&&this.props.meta.length){this.markers.forEach(function(e){return e.remove()});var i=0,e="bottom"===this.props.markersHighlight?(0,d.reverse)(this.props.data):this.props.data,t=e.reduce(function(e,t){var r=o.props.meta.find(function(e){return(0,p.equalsIgnoreCase)(e.iso,t.iso)});if(!r)return console.warn("Geography not found on meta data:",t.iso),e;if(t.score&&i<10){i++;var n=new s.default.Marker(j(t.iso,t.developingRank)).setLngLat(r.center);return e.concat(n)}var a=new s.default.Marker(j(t.iso)).setLngLat(r.center);return[a].concat(e)},[]);this.markers=t.map(function(e){return e.addTo(o.map)})}}},{key:"initMap",value:function(){var e=this;this.map=new s.default.Map({center:[0,0],container:this.refs.mapEl,style:"mapbox://styles/climatescope/cjnn8lhdz04252rqkmbu8uexz",zoom:2,pitchWithRotate:!1,renderWorldCopies:!1,dragRotate:!1,logoPosition:"bottom-right"}),this.map.dragRotate.disable(),this.map.touchZoomRotate.disableRotation(),this.map.scrollZoom.disable(),this.markersHighlightControl=new f.default(k,{highlight:this.props.markersHighlight,onClick:this.props.onMarkerHighlightChange}),this.map.addControl(this.markersHighlightControl,"bottom-left"),this.map.addControl(new s.default.NavigationControl,"bottom-left"),document.querySelector(".mapboxgl-ctrl .mapboxgl-ctrl-compass").remove(),this.map.on("load",function(){e.mapLoaded=!0,e.map.setPaintProperty("background","background-opacity",0),e.map.setPaintProperty("ne-countries-highlight","fill-color","#4b99a6"),e.setHighlightedGeographies(e.props.highlightISO),e.map.fitBounds(e.props.bounds),e.renderMarkers();e.map.on("move",(0,i.default)(function(){m.default.hide()},100,{leading:!0,trailing:!1}))})}},{key:"onPopoverCloseClick",value:function(e){e.preventDefault(),m.default.hide()}},{key:"popoverRenderer",value:function(e){var t=e.geoIso,r=this.props.data.find(function(e){return(0,p.equalsIgnoreCase)(e.iso,t)});if(!r)return null;var n=r.iso,a=r.score,o=r.developingRank,i=r.name,s=r.topics,l=r.grid;return c.default.createElement(h.default,{onCloseClick:this.onPopoverCloseClick,iso:n,rank:o,name:i,topics:s,grid:l,score:a})}},{key:"render",value:function(){return c.default.createElement("figure",{className:"results-map-viz media"},c.default.createElement("div",{className:"media__item",ref:"mapEl"}),c.default.createElement("figcaption",{className:"media__caption"},"Top and bottom ten geographies"),c.default.createElement(m.default,{element:"article",className:"popover popover--map",render:this.popoverRenderer}))}}],r&&b(t.prototype,r),n&&b(t,n),a}(c.default.Component);r.default=P,"production"!==u.environment&&(P.propTypes={highlightISO:n.PropTypes.array,bounds:n.PropTypes.array,data:n.PropTypes.array,meta:n.PropTypes.array,onMarkerHighlightChange:n.PropTypes.func,markersHighlight:n.PropTypes.string})},{"../config":"/root/repo/app/assets/scripts/config.js","../utils/array":"/root/repo/app/assets/scripts/utils/array.js","../utils/mapbox-react-control":"/root/repo/app/assets/scripts/utils/mapbox-react-control.js","../utils/string":"/root/repo/app/assets/scripts/utils/string.js","./mapbox-popover":"/root/repo/app/assets/scripts/components/mapbox-popover.js","./results-map-popover-contents":"/root/repo/app/assets/scripts/components/results-map-popover-contents.js",classnames:"classnames","lodash.debounce":"lodash.debounce","lodash.isequal":"lodash.isequal","mapbox-gl":"mapbox-gl","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-dom":"react-dom"}],"/root/repo/app/assets/scripts/components/results-table.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=y(e("react")),n=e("prop-types"),c=e("react-router-dom"),o=y(e("react-tooltip")),i=y(e("lodash.orderby")),s=y(e("classnames")),a=e("../config"),u=e("./loading-skeleton"),p=y(e("./on-grid")),d=e("./parameters"),f=e("../utils/string"),m=e("../utils/math"),h=e("../utils/array");function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,E(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),r=t,n=[{key:"componentDidUpdate",value:function(){o.default.rebuild()}},{key:"onSort",value:function(e,t){t.preventDefault();var r=this.props,n=r.sortField,a=r.sortDirection,o=r.onSort;n===e?o(n,"asc"===a?"desc":"asc"):o(e,"asc")}},{key:"renderTableHeader",value:function(){var o=this,e=[{id:"rank",sortable:!0,title:"Sort by rank",value:"Rank"},{id:"name",sortable:!0,title:"Sort by geography",value:"Geography"},{id:"score",sortable:!0,title:"Sort by score",value:"Score"},{id:"graph",sortable:!1,value:l.default.createElement(l.default.Fragment,null,l.default.createElement("span",{className:"visually-hidden"},"Topics:")," 0.0 - 5.0")},{id:"grid",sortable:!0,title:"Sort by grid",value:"Grid"}];return l.default.createElement("thead",null,l.default.createElement("tr",null,e.map(function(e){if(!e.sortable)return l.default.createElement("th",{className:"th-".concat(e.id),key:e.id},e.value);var t=o.props,r=t.sortField,n=t.sortDirection,a=(0,s.default)("table__sort",{"table__sort--none":r!==e.id,"table__sort--asc":r===e.id&&"asc"===n,"table__sort--desc":r===e.id&&"desc"===n});return l.default.createElement("th",{className:"th-".concat(e.id),key:e.id},l.default.createElement("a",{href:"#",title:e.title,className:a,onClick:o.onSort.bind(o,e.id)},e.value))})))}},{key:"renderLoadingRows",value:function(){return(0,h.initializeArrayWithRange)(10).map(function(e){return l.default.createElement("tr",{key:e},l.default.createElement("td",null,l.default.createElement(u.LoadingSkeleton,null)),l.default.createElement("td",null,l.default.createElement(u.LoadingSkeleton,null)),l.default.createElement("td",null,l.default.createElement(u.LoadingSkeleton,null)),l.default.createElement("td",null,l.default.createElement(u.LoadingSkeleton,null)))})}},{key:"renderRows",value:function(){var e=this.props,t=e.data,r=e.sortField,n=e.sortDirection,a=(0,i.default)(t,r,n);return a.map(function(e){var t=e.iso,r=e.score,n=e.developingRank,a=e.name,o=e.topics,i=e.grid,s=!!n;return l.default.createElement("tr",{key:t},l.default.createElement("th",{className:"cell-rank"},s?(0,f.padNumber)(n,2):""),l.default.createElement("th",{className:"cell-country"},l.default.createElement(c.Link,{to:"/results/".concat(t),className:s?"":"is-developed",title:"Go to ".concat(a," page")},a)),l.default.createElement("td",null,s?(0,m.round)(r):""),l.default.createElement("td",null,l.default.createElement(d.ParameterGraph,{geographyIso:t,data:o||[]})),l.default.createElement("td",null,l.default.createElement(p.default,{grid:i})))})}},{key:"renderParamGraphTooltip",value:function(){var n=this;return l.default.createElement(o.default,{id:"param-graph-tooltip",effect:"solid",type:"custom",className:"popover popover--table",wrapper:"article",getContent:function(t){var e=n.props.data.find(function(e){return e.iso===t});if(!e)return null;var r=e.topics&&e.topics.length;return l.default.createElement("div",{className:"popover__contents"},l.default.createElement("header",{className:"popover__header visually-hidden"},l.default.createElement("div",{className:"popover__headline"},l.default.createElement("h1",{className:"popover__title"},"Topic breakdown"))),l.default.createElement("div",{className:"popover__body"},r?l.default.createElement(d.ParameterBreakdown,{className:"legend par-legend",data:e.topics}):l.default.createElement("p",{className:"empty"},"There is no data for this geography")))}})}},{key:"render",value:function(){return l.default.createElement(l.default.Fragment,null,l.default.createElement("table",{className:"table results-table"},this.renderTableHeader(),l.default.createElement("tbody",null,this.props.loading?this.renderLoadingRows():this.renderRows())),this.renderParamGraphTooltip())}}],n&&v(r.prototype,n),a&&v(r,a),t}(l.default.PureComponent);r.default=w,"production"!==a.environment&&(w.propTypes={onSort:n.PropTypes.func,sortField:n.PropTypes.string,sortDirection:n.PropTypes.string,data:n.PropTypes.array,loading:n.PropTypes.bool})},{"../config":"/root/repo/app/assets/scripts/config.js","../utils/array":"/root/repo/app/assets/scripts/utils/array.js","../utils/math":"/root/repo/app/assets/scripts/utils/math.js","../utils/string":"/root/repo/app/assets/scripts/utils/string.js","./loading-skeleton":"/root/repo/app/assets/scripts/components/loading-skeleton.js","./on-grid":"/root/repo/app/assets/scripts/components/on-grid.js","./parameters":"/root/repo/app/assets/scripts/components/parameters.js",classnames:"classnames","lodash.orderby":"lodash.orderby","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom","react-tooltip":"react-tooltip"}],"/root/repo/app/assets/scripts/components/share.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("react")),n=e("prop-types"),i=e("../config"),s=a(e("./dropdown"));function a(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props.url;return o.default.createElement(s.default,{className:"dropdown-content",triggerClassName:"ipa-share",triggerActiveClassName:"button--active",triggerText:"Share",triggerTitle:"Toggle share options",direction:"down",alignment:"right"},o.default.createElement("ul",{className:"drop__menu drop__menu--iconified"},o.default.createElement("li",null,o.default.createElement("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(e),className:"drop__menu-item dpi-facebook",title:"Share on Facebook",target:"_blank","data-hook":"dropdown:close"},o.default.createElement("span",null,"Facebook"))),o.default.createElement("li",null,o.default.createElement("a",{href:"https://twitter.com/intent/tweet?url=".concat(e),className:"drop__menu-item dpi-twitter",title:"Share on Twitter",target:"_blank","data-hook":"dropdown:close"},o.default.createElement("span",null,"Twitter"))),o.default.createElement("li",null,o.default.createElement("a",{href:"https://www.linkedin.com/shareArticle?mini=true&url=".concat(e,"&title=").concat(i.appTitle),className:"drop__menu-item dpi-linkedin",title:"Share on LinkedIn",target:"_blank","data-hook":"dropdown:close"},o.default.createElement("span",null,"LinkedIn")))))}}],n&&c(r.prototype,n),a&&c(r,a),t}(o.default.PureComponent);r.default=f,"production"!==i.environment&&(f.propTypes={url:n.PropTypes.string})},{"../config":"/root/repo/app/assets/scripts/config.js","./dropdown":"/root/repo/app/assets/scripts/components/dropdown.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/app/assets/scripts/components/size-aware-element.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("react")),n=e("prop-types"),i=s(e("element-resize-event")),a=e("../config");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){function a(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,n=d(a).call(this,e),t=!n||"object"!==l(n)&&"function"!==typeof n?m(r):n,t.el=null,t.width=null,t.height=null,t.resizeListener=t.resizeListener.bind(m(m(t))),t}var t,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e),t=a,r=[{key:"getSize",value:function(){if(this.el){var e=this.el,t=e.clientHeight,r=e.clientWidth,n=getComputedStyle(this.el),a=n.paddingTop,o=n.paddingBottom,i=n.paddingLeft,s=n.paddingRight;return{width:r-parseFloat(i)-parseFloat(s),height:t-parseFloat(a)-parseFloat(o)}}}},{key:"resizeListener",value:function(){var e=this.getSize(),t=e.width,r=e.height;t===this.width&&r===this.height||(this.width=t,this.height=r,this.props.onChange({width:t,height:r}))}},{key:"componentDidMount",value:function(){(0,i.default)(this.el,this.resizeListener),this.resizeListener()}},{key:"render",value:function(){var t=this,e=this.props,r=e.element,n=e.children,a=u(e,["element","children"]);return o.default.createElement(r,c({ref:function(e){t.el=e}},a),n)}}],r&&p(t.prototype,r),n&&p(t,n),a}(o.default.Component);"production"!==a.environment&&(h.propTypes={onChange:n.PropTypes.func,element:n.PropTypes.string,children:n.PropTypes.node}),h.defaultProps={element:"div",onChange:function(){}};var y=h;r.default=y},{"../config":"/root/repo/app/assets/scripts/config.js","element-resize-event":"element-resize-event","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/app/assets/scripts/components/slider-controls.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SliderControlGroup=r.SliderControl=void 0;var s=o(e("react")),n=e("prop-types"),l=o(e("classnames")),c=o(e("react-slider")),a=e("../config"),d=e("../utils/math"),f=e("../utils/array");function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function h(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?b(e):t}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){_(t,e,r[e])})}return t}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e,t,r,n){return E({},e,_({},t,E({},e[t],_({},r,n))))},k=function(e){function r(e){var t;return u(this,r),t=h(this,y(r).call(this,e)),t.onLockClick=t.onLockClick.bind(b(b(t))),t}return g(r,e),m(r,[{key:"onLockClick",value:function(){var e=this.props,t=e.onLockChange,r=e.locked;t(!r)}},{key:"render",value:function(){var e=this.props,t=e.title,r=e.id,n=e.value,a=e.locked,o=e.className,i=e.onSliderChange;return s.default.createElement("div",{className:(0,l.default)("control",o,r)},s.default.createElement("h3",{className:"control__title"},t),s.default.createElement(c.default,{value:n,withBars:!0,disabled:a,onChange:i}),s.default.createElement("span",{className:(0,l.default)("slider-value",r)},(0,d.round)(n,0),"%"),s.default.createElement("label",{htmlFor:"switch-".concat(r),className:"form__option form__option--text-hidden form__option--switch fos-lock",title:"Toggle lock/unlock"},s.default.createElement("input",{type:"checkbox",name:"switch-".concat(r),id:"switch-".concat(r),checked:a,onChange:this.onLockClick}),s.default.createElement("span",{className:"form__option__ui"}),s.default.createElement("span",{className:"form__option__text"},"Lock")))}}]),r}(s.default.PureComponent);r.SliderControl=k,"production"!==a.environment&&(k.propTypes={title:n.PropTypes.string,id:n.PropTypes.string,className:n.PropTypes.string,value:n.PropTypes.number,locked:n.PropTypes.bool,onSliderChange:n.PropTypes.func,onLockChange:n.PropTypes.func});var j=function(e){function t(){return u(this,t),h(this,y(t).apply(this,arguments))}return g(t,e),m(t,[{key:"onLockChange",value:function(e,t){var r=this.props,n=r.values,a=r.onChange;a(w(n,e,"locked",t))}},{key:"onSliderChange",value:function(t,a){var e=this.props,r=e.values,n=e.onChange,o=w(r,t,"value",a),i=(0,f.objectToArray)(o),s=i.filter(function(e){return!e.locked&&e.__key!==t}),l=100-(0,d.sumBy)(i,"value"),c=(0,d.distributedDivision)(l,s.length);o=s.reduce(function(e,t,r){var n=Math.max(0,Math.min(t.value+c[r],100));return w(e,t.__key,"value",100===a?0:n)},o);var u=(0,d.sumBy)((0,f.objectToArray)(o),function(e){return e.__key===t?0:e.value}),p=100-u;o=w(o,t,"value",p),n(o)}},{key:"render",value:function(){var a=this,e=this.props,t=e.sliders,o=e.values;return t.map(function(e,t){var r=e.name,n=e.id;return s.default.createElement(k,{key:n,title:r,className:(0,l.default)({first:0===t}),value:o[n].value,locked:o[n].locked,id:"param-".concat(t+1),onLockChange:a.onLockChange.bind(a,n),onSliderChange:a.onSliderChange.bind(a,n)})})}}]),t}(s.default.PureComponent);r.SliderControlGroup=j,"production"!==a.environment&&(j.propTypes={sliders:n.PropTypes.array,values:n.PropTypes.object,onChange:n.PropTypes.func})},{"../config":"/root/repo/app/assets/scripts/config.js","../utils/array":"/root/repo/app/assets/scripts/utils/array.js","../utils/math":"/root/repo/app/assets/scripts/utils/math.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-slider":"react-slider"}],"/root/repo/app/assets/scripts/components/smart-link.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,o=(n=e("react"),n&&n.__esModule?n:{default:n}),a=e("prop-types"),i=e("react-router-dom"),s=e("../config");function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,t=e.to,r=u(e,["to"]);return/^https?:\/\//.test(t)?o.default.createElement("a",c({href:t},r,{target:"_blank"})):o.default.createElement(i.Link,c({to:t},r))}}],n&&p(r.prototype,n),a&&p(r,a),t}(o.default.PureComponent);r.default=h,"production"!==s.environment&&(h.propTypes={to:a.PropTypes.string})},{"../config":"/root/repo/app/assets/scripts/config.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/config.js":[function(a,o,e){(function(e){"use strict";var t;t=a("lodash.defaultsdeep"),t&&t.__esModule;var r={production:a("./config/production.js"),staging:a("./config/staging.js")},n=r.production||{};n.default.mbtoken="pk.eyJ1IjoiY2xpbWF0ZXNjb3BlIiwiYSI6ImNpdzJmb2dwcjBhMzQyenBia2E1azBjODUifQ.9I6shKgqM1xeBA13VX5a4g",n.default.gaTrackingID=e.env.GA_TRACKING_ID||n.default.gaTrackingID,n.default.mailchimpUrl=e.env.MAILCHIMP_URL||n.default.mailchimpUrl,o.exports=n.default}).call(this,a("_process"))},{"./config/production.js":"/root/repo/app/assets/scripts/config/production.js","./config/staging.js":"/root/repo/app/assets/scripts/config/staging.js",_process:"/root/repo/node_modules/process/browser.js","lodash.defaultsdeep":"lodash.defaultsdeep"}],"/root/repo/app/assets/scripts/config/production.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,r,n;t=a,r=e,n=o[e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return a}({},CS.config,{environment:"production",policyDbUrl:"https://services.bnef.com/public-api",mailchimpUrl:"https://global-climatescope.us14.list-manage.com/subscribe/post?u=f7420b38cc86494fc1ab6cb31&id=e17a5880bd",gaTrackingID:"UA-56170738-1",mbtoken:null});r.default=n},{}],"/root/repo/app/assets/scripts/config/staging.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default={environment:"staging",gaTrackingID:null}},{}],"/root/repo/app/assets/scripts/main.js":[function(e,t,r){"use strict";e("babel-polyfill"),e("isomorphic-fetch");var n=_(e("react")),a=_(e("react-ga")),o=e("react-dom"),i=e("react-redux"),s=e("react-router-dom"),l=e("./config"),c=_(e("./utils/store")),u=_(e("./utils/history")),p=_(e("./redirect-route")),d=_(e("./views/home")),f=_(e("./views/static-page")),m=_(e("./views/library")),h=_(e("./views/library-ctype")),y=_(e("./views/results")),g=_(e("./views/compare")),v=_(e("./views/geographies-page")),b=_(e("./views/playground")),E=_(e("./views/uhoh"));function _(e){return e&&e.__esModule?e:{default:e}}l.gaTrackingID&&(a.default.initialize(l.gaTrackingID),a.default.pageview(window.location.pathname+window.location.search),u.default.listen(function(e){return a.default.pageview(e.pathname+e.search)}));var w;(0,o.render)(n.default.createElement(function(){return n.default.createElement(i.Provider,{store:c.default},n.default.createElement(s.Router,{history:u.default},n.default.createElement(s.Switch,null,n.default.createElement(p.default,{path:"/en(/:path*)?"}),n.default.createElement(s.Route,{exact:!0,path:"/",component:d.default}),n.default.createElement(s.Route,{exact:!0,path:"/results",component:y.default}),n.default.createElement(s.Route,{exact:!0,path:"/results/:geoIso",component:v.default}),n.default.createElement(s.Route,{exact:!0,path:"/library/:ctypes/:page",component:f.default}),n.default.createElement(s.Route,{exact:!0,path:"/library/:ctypes",component:h.default}),n.default.createElement(s.Route,{exact:!0,path:"/library",component:m.default}),n.default.createElement(s.Route,{path:"/compare/:geoIsos*",component:g.default}),n.default.createElement(s.Route,{exact:!0,path:"/playground",component:b.default}),n.default.createElement(s.Route,{exact:!0,path:"/:page",component:f.default}),n.default.createElement(s.Route,{path:"*",component:E.default}))))},{store:c.default}),document.querySelector("#app-container")),w=[Element.prototype,CharacterData.prototype,DocumentType.prototype],w.forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})},{"./config":"/root/repo/app/assets/scripts/config.js","./redirect-route":"/root/repo/app/assets/scripts/redirect-route.js","./utils/history":"/root/repo/app/assets/scripts/utils/history.js","./utils/store":"/root/repo/app/assets/scripts/utils/store.js","./views/compare":"/root/repo/app/assets/scripts/views/compare.js","./views/geographies-page":"/root/repo/app/assets/scripts/views/geographies-page.js","./views/home":"/root/repo/app/assets/scripts/views/home.js","./views/library":"/root/repo/app/assets/scripts/views/library.js","./views/library-ctype":"/root/repo/app/assets/scripts/views/library-ctype.js","./views/playground":"/root/repo/app/assets/scripts/views/playground.js","./views/results":"/root/repo/app/assets/scripts/views/results.js","./views/static-page":"/root/repo/app/assets/scripts/views/static-page.js","./views/uhoh":"/root/repo/app/assets/scripts/views/uhoh.js","babel-polyfill":"babel-polyfill","isomorphic-fetch":"isomorphic-fetch",react:"react","react-dom":"react-dom","react-ga":"react-ga","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/redirect-route.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var n=l(e("react")),a=e("react-router-dom"),o=e("prop-types"),i=e("./config"),s=l(e("./views/uhoh"));function l(e){return e&&e.__esModule?e:{default:e}}var c={"/en":"/","/en/results":"/results","/en/contact":"/contact","/en/about":"/about","/en/methodology":"/methodology","/en/license":"/license","/en/compare":"/compare","/en/off-grid-data-hub":"/off-grid-data-hub","/en/clean-energy-investments":"/clean-energy-investments","/en/capacity-generation":"/capacity-generation","/en/download":"/library","/en/summary":"/key-findings","/en/country/argentina":"/results/ar","/en/country/armenia":"/results/am","/en/country/azerbaijan":"/results/az","/en/country/bahamas":"/results/bs","/en/country/bangladesh":"/results/bd","/en/country/barbados":"/results/bb","/en/country/belarus":"/results/by","/en/country/belize":"/results/bz","/en/country/bolivia":"/results/bo","/en/country/botswana":"/results/bw","/en/country/brazil":"/results/br","/en/country/cameroon":"/results/cm","/en/country/chile":"/results/cl","/en/country/mainland-china":"/results/cn","/en/country/colombia":"/results/co","/en/country/costa-rica":"/results/cr","/en/country/cote-ivoire":"/results/ci","/en/country/dominican-republic":"/results/do","/en/country/dr-congo":"/results/cd","/en/country/ecuador":"/results/ec","/en/country/egypt":"/results/eg","/en/country/el-salvador":"/results/sv","/en/country/ethiopia":"/results/et","/en/country/georgia":"/results/ge","/en/country/ghana":"/results/gh","/en/country/guatemala":"/results/gt","/en/country/guyana":"/results/gy","/en/country/haiti":"/results/ht","/en/country/honduras":"/results/hn","/en/country/india":"/results/in","/en/country/indonesia":"/results/id","/en/country/jamaica":"/results/jm","/en/country/jordan":"/results/jo","/en/country/kazakhstan":"/results/kz","/en/country/kenya":"/results/ke","/en/country/kyrgyzstan":"/results/kg","/en/country/lebanon":"/results/lb","/en/country/liberia":"/results/lr","/en/country/malawi":"/results/mw","/en/country/mexico":"/results/mx","/en/country/moldova":"/results/md","/en/country/mongolia":"/results/mn","/en/country/mozambique":"/results/mz","/en/country/myanmar":"/results/mm","/en/country/nepal":"/results/np","/en/country/nicaragua":"/results/ni","/en/country/nigeria":"/results/ng","/en/country/pakistan":"/results/pk","/en/country/panama":"/results/pa","/en/country/paraguay":"/results/py","/en/country/peru":"/results/pe","/en/country/russa":"/results/ru","/en/country/rwanda":"/results/rw","/en/country/senegal":"/results/sn","/en/country/sierra-leone":"/results/sl","/en/country/south-africa":"/results/za","/en/country/sri-lanka":"/results/lk","/en/country/suriname":"/results/sr","/en/country/tajikistan":"/results/tj","/en/country/tanzania":"/results/tz","/en/country/trinidad-and-tobago":"/results/tt","/en/country/turkey":"/results/tr","/en/country/turkmenistan":"/results/tm","/en/country/uganda":"/results/ug","/en/country/ukraine":"/results/ua","/en/country/uruguay":"/results/uy","/en/country/uzbekistan":"/results/uz","/en/country/venezuela":"/results/ve","/en/country/vietnam":"/results/vn","/en/country/zambia":"/results/zm","/en/country/zimbabwe":"/results/zw","/en/blog":"https://medium.com/climatescope","/en/blog/2017/11/28/PR":"https://medium.com/climatescope/solar-capacity-jumps-by-more-than-half-in-developing-nations-press-release-1eb8235a6c4","/en/blog/2017/11/06/PR":"https://medium.com/climatescope/efforts-to-address-climate-through-clean-energy-lag-in-emerging-markets-press-release-d5f0e6ca5bf0","/en/blog/2017/06/26/GSMA":"https://medium.com/climatescope/the-symbiotic-relationship-between-payg-solar-and-mobile-money-ecosystems-b98286df0e56","/en/blog/2017/05/31/powerforall":"https://medium.com/climatescope/tapping-into-data-to-tackle-electricity-poverty-46f213ec0793","/en/blog/2017/02/16/SEforAll-Africa-Hub":"https://medium.com/climatescope/a-growing-number-of-african-nations-take-concrete-steps-in-favour-of-renewables-with-the-support-70512624f57e","/en/blog/2017/02/01/Jordan%20MAAN/":"https://medium.com/climatescope/how-renewable-energy-can-bolster-the-economy-in-jordan-2e2421db5f90","/en/blog/2017/01/20/climatescope%20blog%20post-%20can-pay-go-solar-financed":"https://medium.com/climatescope/how-can-pay-as-go-solar-be-financed-f18791648a15","/en/blog/2017/01/16/Climatescope-in-the-media-Europe-and-US":"https://medium.com/climatescope/climatescope-in-the-media-europe-and-us-highlights-bbfd7d59197","/en/blog/2017/01/16/Climatescope-in-the-media-Asia":"https://medium.com/climatescope/climatescope-in-the-media-asia-highlights-a41eb6118f57","/en/blog/2017/01/16/Climatescope-in-the-media-Africa":"https://medium.com/climatescope/climatescope-in-the-media-africa-highlights-bc88aaa324df","/en/blog/2017/01/12/climatescope-blog-Senegal":"https://medium.com/climatescope/senegal-villages-light-up-fast-with-household-solar-products-41b58dca5037","/en/blog/2016/12/21/Climatescope-in-the-media-LAC":"https://medium.com/climatescope/climatescope-in-the-media-latin-america-highlights-f467197c1e4a","/en/blog/2016/12/21/Climatescope-2016-webinar":"https://medium.com/climatescope/climatescope-2016-webinar-clean-energy-in-emerging-markets-970ccd9a55e5","/en/blog/2016/12/20/compare-the-scores":"https://medium.com/climatescope/climatescope-2014-to-2016-compare-the-scores-46a00499166c","/en/blog/2016/12/15/Climatescope2016-launch":"https://medium.com/climatescope/press-release-with-new-pledges-and-new-projects-developing-countries-take-clean-energy-lead-dff167536eb2","/en/blog/2016/12/14/Climatescope2016-launch-pt":"https://medium.com/climatescope/press-release-com-novos-compromissos-e-projetos-pa%C3%ADses-em-desenvolvimento-assumem-a-lideran%C3%A7a-9d34b3c58c63","/en/blog/2016/12/14/Climatescope2016-launch-es":"https://medium.com/climatescope/press-release-con-nuevos-compromisos-y-proyectos-los-pa%C3%ADses-en-v%C3%ADas-de-desarrollo-adquieren-una-578c35c65c79","/en/blog/2016/12/13/Climatescope2015-data-visual":"https://medium.com/climatescope/discover-the-highlights-of-last-years-climatescope-80a3e33038c2","/en/blog/2016/06/02/climatescope-update-westafrica":"https://medium.com/climatescope/mixed-results-for-west-africa-in-climatescope-2015-7605ac6564b7","/en/blog/2016/03/15/climatescope-update-Uganda-GetFit":"https://medium.com/climatescope/how-ugandas-get-fit-policy-attracted-clean-energy-investors-160047604ed0","/en/blog/2016/02/24/climatescope-blog-South-Africa":"https://medium.com/climatescope/another-year-in-the-top-5-for-south-africa-df5b1b870236","/en/blog/2015/11/23/climatescope-2015-launches":"https://medium.com/climatescope/climatescope-2015-goes-live-928e544093ad","/en/insights/risk-management":"https://medium.com/climatescope/how-to-mitigate-renewables-risks-in-emerging-markets-514b6afade97","/en/insights/frontier-power":"https://medium.com/climatescope/distributed-energy-in-emerging-markets-a6319604e947","/en/insights/energy-policy":"https://medium.com/climatescope/policies-for-the-energy-transition-lessons-learned-in-emerging-markets-ff9aa3d78b78","/en/insights/emerging-markets-investment":"https://medium.com/climatescope/emerging-markets-clean-energy-investment-4b7b37f8e3de","/en/insights/climate-policy":"https://medium.com/climatescope/clean-energy-and-the-paris-promises-e5116c1c7000","/en/off-grid-quarterly/q4-2018":"https://medium.com/climatescope/4q-2018-off-grid-and-mini-grid-market-outlook-1dace7fc9087","/en/off-grid-quarterly/q3-2018":"https://medium.com/climatescope/3q-2018-off-grid-and-mini-grid-market-outlook-70ed47656c31","/en/off-grid-quarterly/q2-2018":"https://medium.com/climatescope/2q-2018-off-grid-and-mini-grid-market-outlook-4dcce9c0215e","/en/off-grid-quarterly/1q-2018":"https://medium.com/climatescope/1q-2018-off-grid-and-mini-grid-market-outlook-329335ed367f","/en/off-grid-quarterly/q4-2017":"https://medium.com/climatescope/4q-2017-off-grid-and-mini-grid-market-outlook-52da3e6826f1","/en/off-grid-quarterly/q3-2017":"https://medium.com/climatescope/3q-2017-off-grid-and-mini-grid-market-outlook-21c2542563d","/en/off-grid-quarterly/q2-2017":"https://medium.com/climatescope/2q-2017-off-grid-and-mini-grid-market-outlook-d35f54b66020","/en/off-grid-quarterly/q1-2017":"https://medium.com/climatescope/1q-2017-off-grid-and-mini-grid-market-outlook-4b6fd80d18eb"};function u(){return n.default.createElement(a.Route,{render:function(e){var t=e.location.pathname.replace(/\/$/,""),r=c[t];return r?r.match(/^https?:/)?(window.location=r,null):n.default.createElement(a.Redirect,{to:r}):n.default.createElement(s.default,null)}})}"production"!==i.environment&&(u.propTypes={location:o.PropTypes.object})},{"./config":"/root/repo/app/assets/scripts/config.js","./views/uhoh":"/root/repo/app/assets/scripts/views/uhoh.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/redux/geographies.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.invalidateGeographies=function(){return{type:d}},r.requestGeographies=f,r.receiveGeographies=m,r.fetchGeographies=function(){return(0,o.fetchDispatchCacheFactory)({statePath:"geographies.list",url:"".concat(i.baseurl,"/api/results.json"),requestFn:f,receiveFn:m})},r.invalidateGeography=function(e){return{type:v,id:e}},r.requestGeography=b,r.receiveGeography=E,r.fetchGeography=function(e){return(0,o.fetchDispatchCacheFactory)({statePath:["geographies","individualGeographies",e],url:"".concat(i.baseurl,"/api/results/").concat(e.toLowerCase(),".json"),requestFn:b.bind(this,e),receiveFn:E.bind(this,e)})},r.invalidateGeographiesMeta=function(){return{type:j}},r.requestGeographiesMeta=P,r.receiveGeographiesMeta=O,r.fetchGeographiesMeta=function(){return(0,o.fetchDispatchCacheFactory)({statePath:"geographies.meta",url:"".concat(i.baseurl,"/api/geographies.json"),requestFn:P,receiveFn:O,mutator:function(e){return e.map(function(e){if(!e.bbox)throw new Error("No bbox found for "+e.name);var t=e.bbox[0],r=e.bbox[1],n=e.bbox[2],a=e.bbox[3],o=[t,r],i=[t,a],s=[n,a],l=[n,r];return"ru"===e.iso?u({},e,{bounds:[o,s],center:[93.8671875,64.01449619484472]}):u({},e,{bounds:[o,s],center:(0,c.default)({type:"Feature",geometry:{type:"Polygon",coordinates:[[o,l,s,i,o]]}}).geometry.coordinates})})}})},r.invalidateChartsMeta=function(){return{type:C}},r.requestChartsMeta=x,r.receiveChartsMeta=A,r.fetchChartsMeta=function(){return(0,o.fetchDispatchCacheFactory)({statePath:"meta.charts",url:"".concat(i.baseurl,"/api/chart-meta.json"),requestFn:x,receiveFn:A})},r.default=r.INVALIDATE_CHARTS_META=r.RECEIVE_CHARTS_META=r.REQUEST_CHARTS_META=r.INVALIDATE_GEOGRAPHIES_META=r.RECEIVE_GEOGRAPHIES_META=r.REQUEST_GEOGRAPHIES_META=r.INVALIDATE_GEOGRAPHY=r.RECEIVE_GEOGRAPHY=r.REQUEST_GEOGRAPHY=r.INVALIDATE_GEOGRAPHIES=r.RECEIVE_GEOGRAPHIES=r.REQUEST_GEOGRAPHIES=void 0;var n,a=e("redux"),o=e("./utils"),i=e("../config"),c=(n=e("@turf/center"),n&&n.__esModule?n:{default:n});function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){s(t,e,r[e])})}return t}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l="REQUEST_GEOGRAPHIES";r.REQUEST_GEOGRAPHIES=l;var p="RECEIVE_GEOGRAPHIES";r.RECEIVE_GEOGRAPHIES=p;var d="INVALIDATE_GEOGRAPHIES";function f(){return{type:l}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:p,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_GEOGRAPHIES=d;var h={fetching:!1,fetched:!1,error:null,data:[]};var y="REQUEST_GEOGRAPHY";r.REQUEST_GEOGRAPHY=y;var g="RECEIVE_GEOGRAPHY";r.RECEIVE_GEOGRAPHY=g;var v="INVALIDATE_GEOGRAPHY";function b(e){return{type:y,id:e}}function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:g,id:e,data:t,error:r,receivedAt:Date.now()}}r.INVALIDATE_GEOGRAPHY=v;var _={};var w="REQUEST_GEOGRAPHIES_META";r.REQUEST_GEOGRAPHIES_META=w;var k="RECEIVE_GEOGRAPHIES_META";r.RECEIVE_GEOGRAPHIES_META=k;var j="INVALIDATE_GEOGRAPHIES_META";function P(){return{type:w}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:k,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_GEOGRAPHIES_META=j;var T={fetching:!1,fetched:!1,error:null,data:[]};var S="REQUEST_CHARTS_META";r.REQUEST_CHARTS_META=S;var N="RECEIVE_CHARTS_META";r.RECEIVE_CHARTS_META=N;var C="INVALIDATE_CHARTS_META";function x(){return{type:S}}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:N,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_CHARTS_META=C;var M={fetching:!1,fetched:!1,error:null,data:{}};var L=(0,a.combineReducers)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return(0,o.baseAPIReducer)(e,t,"GEOGRAPHIES")},individualGeographies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return(0,o.baseAPIReducer)(e,t,"GEOGRAPHY")},meta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return(0,o.baseAPIReducer)(e,t,"GEOGRAPHIES_META")},chartsMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;return(0,o.baseAPIReducer)(e,t,"CHARTS_META")}});r.default=L},{"../config":"/root/repo/app/assets/scripts/config.js","./utils":"/root/repo/app/assets/scripts/redux/utils.js","@turf/center":"@turf/center",redux:"redux"}],"/root/repo/app/assets/scripts/redux/index.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.reducers=void 0;var n=e("redux"),a=s(e("./static-page")),o=s(e("./geographies")),i=s(e("./libraryctypes"));function s(e){return e&&e.__esModule?e:{default:e}}var l={staticPages:a.default,geographies:o.default,libraryct:i.default};r.reducers=l;var c=(0,n.combineReducers)(l);r.default=c},{"./geographies":"/root/repo/app/assets/scripts/redux/geographies.js","./libraryctypes":"/root/repo/app/assets/scripts/redux/libraryctypes.js","./static-page":"/root/repo/app/assets/scripts/redux/static-page.js",redux:"redux"}],"/root/repo/app/assets/scripts/redux/libraryctypes.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.invalidateLibraryContentType=function(){return{type:c}},r.requestLibraryContentType=u,r.receiveLibraryContentType=p,r.fetchLibraryContentType=function(e){var n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){i(t,e,r[e])})}return t}({limit:50,offset:0,contentType:"all"},e);return(0,a.fetchDispatchCacheFactory)({statePath:["libraryct.list"],url:"".concat(o.baseurl,"/api/library/insights.json"),requestFn:u,receiveFn:p,mutator:function(e){"all"!==n.contentType&&(e=e.filter(function(e){return e.type.includes(n.contentType)}));var t=(0,a.paginateFake)(e,n.limit,n.offset/n.limit+1);t.forEach(function(e){e.url=e.url.replace("api/","").replace(".json","")});var r={total:e.length,page:n.offset/n.limit+1,limit:n.limit};return{results:t,meta:r}}})},r.default=r.INVALIDATE_LIBRARY_CONTENTTYPE=r.RECEIVE_LIBRARY_CONTENTTYPE=r.REQUEST_LIBRARY_CONTENTTYPE=void 0;var n=e("redux"),a=e("./utils"),o=e("../config");function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s="REQUEST_LIBRARY_CONTENTTYPE";r.REQUEST_LIBRARY_CONTENTTYPE=s;var l="RECEIVE_LIBRARY_CONTENTTYPE";r.RECEIVE_LIBRARY_CONTENTTYPE=l;var c="INVALIDATE_LIBRARY_CONTENTTYPE";function u(){return{type:s}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:l,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_LIBRARY_CONTENTTYPE=c;var d={fetching:!1,fetched:!1,error:null,data:{}};var f=(0,n.combineReducers)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return(0,a.baseAPIReducer)(e,t,"LIBRARY_CONTENTTYPE")}});r.default=f},{"../config":"/root/repo/app/assets/scripts/config.js","./utils":"/root/repo/app/assets/scripts/redux/utils.js",redux:"redux"}],"/root/repo/app/assets/scripts/redux/static-page.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.invalidatePage=function(e){return{type:s,id:e}},r.requestPage=l,r.receivePage=c,r.fetchPage=function(e){return(0,a.fetchDispatchCacheFactory)({statePath:["staticPages",e],url:"".concat(n.baseurl,"/api/").concat(e,".json"),requestFn:l.bind(this,e),receiveFn:c.bind(this,e)})},r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return(0,a.baseAPIReducer)(e,t,"PAGE")},r.INVALIDATE_PAGE=r.RECEIVE_PAGE=r.REQUEST_PAGE=void 0;var n=e("../config"),a=e("./utils"),o="REQUEST_PAGE";r.REQUEST_PAGE=o;var i="RECEIVE_PAGE";r.RECEIVE_PAGE=i;var s="INVALIDATE_PAGE";function l(e){return{type:o,id:e}}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:i,id:e,data:t,error:r,receivedAt:Date.now()}}r.INVALIDATE_PAGE=s;var u={}},{"../config":"/root/repo/app/assets/scripts/config.js","./utils":"/root/repo/app/assets/scripts/redux/utils.js"}],"/root/repo/app/assets/scripts/redux/utils.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fetchJSON=m,r.fetchDispatchCacheFactory=function(e){var i=e.statePath,s=e.url,l=e.requestFn,c=e.receiveFn,u=e.mutator,p=e.__devDelay;return u=u||function(e){return e},r=a(regeneratorRuntime.mark(function e(t,r){var n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,d.default)(r(),i),!n||!n.fetched||n.error){e.next=6;break}if(p)return e.next=5,f(p);e.next=5;break;case 5:return e.abrupt("return",t(c(n.data)));case 6:return t(l()),e.prev=7,e.next=10,m(s);case 10:if(a=e.sent,o=u(a),p)return e.next=15,f(p);e.next=15;break;case 15:return e.abrupt("return",t(c(o)));case 18:if(e.prev=18,e.t0=e.catch(7),p)return e.next=23,f(p);e.next=23;break;case 23:return console.log("error",e.t0),e.abrupt("return",t(c(null,e.t0)));case 25:case"end":return e.stop()}},e,this,[[7,18]])})),function(e,t){return r.apply(this,arguments)};var r},r.baseAPIReducer=function(e,t,r){var n="undefined"!==typeof t.id;switch(t.type){case"INVALIDATE_".concat(r):return n?i({},e,s({},t.id,e)):e;case"REQUEST_".concat(r):var a={fetching:!0,fetched:!1,data:{}};return n?i({},e,s({},t.id,a)):a;case"RECEIVE_".concat(r):var o={fetching:!1,fetched:!0,receivedAt:t.receivedAt,data:{},error:null};return t.error?o.error=t.error:o.data=t.data,n?i({},e,s({},t.id,o)):o}return e},r.paginateFake=function(e,t,r){return--r,e.slice(r*t,(r+1)*t)};var n,d=(n=e("lodash.get"),n&&n.__esModule?n:{default:n});function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){s(t,e,r[e])})}return t}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function a(s){return function(){var e=this,i=arguments;return new Promise(function(t,r){var n=s.apply(e,i);function a(e){l(n,t,r,a,o,"next",e)}function o(e){l(n,t,r,a,o,"throw",e)}a(void 0)})}}function f(t){return new Promise(function(e){setTimeout(e,t)})}function m(e,t){return o.apply(this,arguments)}function o(){return o=a(regeneratorRuntime.mark(function e(t,r){var n,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,r);case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,n.status>=400)throw o=a.message||n.statusText||"Error with code ".concat(n.status),i=new Error(o),i.statusCode=n.status,i.data=a,i;e.next=13;break;case 13:return e.abrupt("return",a);case 16:throw e.prev=16,e.t0=e.catch(0),console.log("fetchJSON error",e.t0),e.t0;case 20:case"end":return e.stop()}},e,this,[[0,16]])})),o.apply(this,arguments)}},{"lodash.get":"lodash.get"}],"/root/repo/app/assets/scripts/utils/array.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shuffleArray=function(e){var t=(a=e,function(e){if(Array.isArray(e))return e}(a)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),r=t.slice(0),n=r.length;var a;for(;n;){var o=Math.floor(Math.random()*n--),i=[r[o],r[n]];r[n]=i[0],r[o]=i[1]}return r},r.objectToArray=function(t){return Object.keys(t).map(function(e){return(0,n.isPlainObject)(t[e])?a({},t[e],{__key:e}):t[e]})},r.initializeArrayWithRange=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array.from({length:Math.ceil((e-r+1)/n)},function(e,t){return t*n+r})},r.reverse=function(e){return e.slice().reverse()},r.sort=function(e,t){return e.slice().sort(t)},r.splitArray=void 0;var n=e("./utils");function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){o(t,e,r[e])})}return t}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.splitArray=function(e,n){return e.reduce(function(e,t,r){return n(t,r)?a({},e,{left:e.left.concat(t)}):a({},e,{right:e.right.concat(t)})},{left:[],right:[]})}},{"./utils":"/root/repo/app/assets/scripts/utils/utils.js"}],"/root/repo/app/assets/scripts/utils/constants.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.languages=r.editions=r.tools=r.libraryCType=r.downloadData=r.regions=void 0;r.regions=[{id:"all",name:"All regions",bounds:[[-340.202242002562,-42.50272621540306],[406.49655977498696,63.19843012790582]]},{id:"asia",name:"Asia-Pacific",bounds:[[-147.09936650354584,-14.15191021774936],[345.53812145152574,57.674958540828726]]},{id:"africa",name:"Middle East & Africa",bounds:[[-199.8100381343629,-35.81433484642947],[259.83699099554127,38.00623857719981]]},{id:"eu",name:"Europe",bounds:[[-96.68677408937766,34.162360529975686],[228.33275716064105,67.54241707817937]]},{id:"lac",name:"Americas",bounds:[[-344.1508065387974,-54.042346370755524],[221.74106548508882,31.70087717612357]]}];r.downloadData={current:{report:{url:"/assets/data/reports/climatescope-2020-report-en.pdf",title:"Download full report in PDF",label:"2020",size:"5Mb"},model:{url:"/assets/data/model/climatescope-2020.xlsm",title:"Download Climatescope model in Excel format",label:"2020 (Excel)",size:"28Mb"}},previous:[{report:{url:"/assets/data/reports/climatescope-2019-report-en.pdf",title:"Download full report in PDF",label:"2019",size:"2Mb"},model:{url:"/assets/data/model/climatescope-2019.xlsm",title:"Download Climatescope model in Excel format",label:"2019 (Excel)",size:"17Mb"}},{report:{url:"/assets/data/reports/climatescope-2018-report-en.pdf",title:"Download full report in PDF",label:"2018",size:"3Mb"},model:{url:"/assets/data/model/climatescope-2018.xlsm",title:"Download Climatescope model in Excel format",label:"2018 (Excel)",size:"14Mb"}},{report:{url:"/assets/data/reports/climatescope-2017-report-en.pdf",title:"Download full report in PDF",label:"2017",size:"5Mb"},model:{url:"/assets/data/model/climatescope-2017.xlsm",title:"Download Climatescope model in Excel format",label:"2015 (Excel)",size:"8Mb"}},{report:{url:"/assets/data/reports/climatescope-2016-report-en.pdf",title:"Download full report in PDF",label:"2016",size:"9Mb"},model:{url:"/assets/data/model/climatescope-2016.xlsm",title:"Download Climatescope model in Excel format",label:"2016 (Excel)",size:"6Mb"}},{report:{url:"/assets/data/reports/climatescope-2015-report-en.pdf",title:"Download full report in PDF",label:"2015",size:"6Mb"},model:{url:"/assets/data/model/climatescope-2015.xlsm",title:"Download Climatescope model in Excel format",label:"2015 (Excel)",size:"6Mb"}},{report:{url:"/assets/data/reports/climatescope-2014-report-en.pdf",title:"Download full report in PDF",label:"2014",size:"6Mb"},model:{url:"/assets/data/model/climatescope-2014.xlsm",title:"Download Climatescope model in Excel format",label:"2014 (Excel)",size:"5Mb"}},{report:{url:"/assets/data/reports/climatescope-2013-report-en.pdf",title:"Download full report in PDF",label:"2013",size:"10Mb"},model:{url:"/assets/data/model/climatescope-2013.xlsm",title:"Download Climatescope model in Excel format",label:"2013 (Excel)",size:"1Mb"}},{report:{url:"/assets/data/reports/climatescope-2012-report-en.pdf",title:"Download full report in PDF",label:"2012",size:"9Mb"},model:null}]};r.libraryCType={pages:[{id:"off-grid",url:"/library/off-grid-quarterly",title:"View Off Grid Quarterly section",label:"Off Grid Quarterly",description:"BloombergNEF's quarterly review of business and policy activity in the off-grid and weak-grid sectors across the globe."},{id:"insight",url:"/library/insights",title:"View insights section",label:"Insights",description:"Series of research notes on what drives the energy transition globally with a focus on emerging markets. Read about how developers can mitigate risk, what tools governments have to accelerate renewables deployment, what role clean energy can play in increasing access to power, and more."},{id:"update",url:"/library/updates",title:"View updates section",label:"Updates",description:"Archive of updates and posts from BloombergNEF and partner organisations."}]};r.tools=[{url:"/compare",title:"View results side by side",label:"Geography Comparison",description:"Pick any two nations, see how they compare",image:"feat-tool-thumb--compare.jpg"},{url:"/clean-energy-investments",title:"Use the Clean Energy Investment",label:"Clean Energy Investment",description:"Tracking cross-border finance flows",image:"feat-tool-thumb--clean-energy-investments.jpg"},{url:"/capacity-generation",title:"Use the Capacity Generation",label:"Capacity & Generation",description:"Who has the most (and least) clean energy today?",image:"feat-tool-thumb--capacity-generation.jpg"}];r.editions=[{url:"http://2014.global-climatescope.org/en/",title:"View 2014 edition of Climatescope",label:"2014"},{url:"http://2015.global-climatescope.org/en/",title:"View 2015 edition of Climatescope",label:"2015"},{url:"http://2016.global-climatescope.org/en/",title:"View 2016 edition of Climatescope",label:"2016"},{url:"http://2017.global-climatescope.org/en/",title:"View 2017 edition of Climatescope",label:"2017"},{url:"http://2018.global-climatescope.org/",title:"View 2018 edition of Climatescope",label:"2018"},{url:"http://2019.global-climatescope.org/",title:"View 2019 edition of Climatescope",label:"2019"}];r.languages=[{id:"en",label:"English"},{id:"pt",label:"Portuguese"},{id:"es",label:"Spanish"},{id:"fr",label:"French"},{id:"cn",label:"Chinese"},{id:"ru",label:"Russian"},{id:"ko",label:"Korean"},{id:"ja",label:"Japanese"}]},{}],"/root/repo/app/assets/scripts/utils/geographies-layout.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compareLayoutDef=r.default=void 0;var n=["Biomass & Waste","Geothermal","Small Hydro","Solar","Wind"],a=[{id:"power-market",title:"Power Market",type:"linear",areaAlpha:[{id:"sectionHeader"}],areaBeta:[{id:"installedCapacity",size:"large",mainDataLayers:n},{id:"utilityPrivatisation",size:"small"},{id:"concentrationGeneration",size:"small"},{id:"powerPlantFleet",size:"small"},{id:"powerGeneration",size:"medium",mainDataLayers:n}]},{id:"clean-energy-policy",title:"Clean Energy Policy",type:"linear",areaAlpha:[{id:"sectionHeader"}],areaBeta:[{id:"gapToTarget",size:"small"},{id:"upcomingAuctions",size:"small"}]},{id:"clean-energy-investment",title:"Clean Energy Investment",type:"linear",areaAlpha:[{id:"sectionHeader"}],areaBeta:[{id:"cleanEnergyInvestment",size:"medium",mainDataLayers:[]},{id:"foreignInvestment",size:"small"}]},{id:"power-prices-and-lcoes",title:"Price environment",type:"linear",areaAlpha:[{id:"sectionHeader"}],areaBeta:[{id:"sectorWholesale",size:"small"},{id:"electricityPrice",size:"small"}]},{id:"doing-business",title:"Doing Business",type:"split",areaAlpha:[{id:"sectionHeader"},{id:"doingBusinessFeatures",size:"large"}],areaBeta:[]},{id:"barriers",title:"Barriers",type:"split",areaAlpha:[{id:"sectionHeader"},{id:"barriersFeatures",size:"large"}],areaBeta:[{id:"currencyVariation",size:"small"},{id:"offtakerRisk",size:"small"}]}];r.default=a;var o=[{id:"installedCapacity",size:"large",mainDataLayers:n},{id:"utilityPrivatisation",size:"large"},{id:"concentrationGeneration",size:"large"},{id:"powerPlantFleet",size:"large"},{id:"powerGeneration",size:"large",mainDataLayers:n},{id:"gapToTarget",size:"large"},{id:"upcomingAuctions",size:"large"},{id:"cleanEnergyInvestment",size:"large",mainDataLayers:[]},{id:"foreignInvestment",size:"large"},{id:"sectorWholesale",size:"large"},{id:"electricityPrice",size:"large"},{id:"currencyVariation",size:"large"},{id:"offtakerRisk",size:"large"}];r.compareLayoutDef=o},{}],"/root/repo/app/assets/scripts/utils/history.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("history"),a=(0,n.createBrowserHistory)();r.default=a},{history:"/root/repo/node_modules/history/index.js"}],"/root/repo/app/assets/scripts/utils/mapbox-react-control.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,a=(n=e("react"),n&&n.__esModule?n:{default:n}),o=e("react-dom");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),!e)throw new Error("Missing component");this.component=e,this.props=t,this._container=null}var e,t,n;return e=r,t=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,r,n;t=a,r=e,n=o[e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return a}({},this.props,e);(0,o.render)(a.default.createElement(this.component,t),this._container)}},{key:"onAdd",value:function(e){return this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl",this.render(),this._container}},{key:"onRemove",value:function(){(0,o.unmountComponentAtNode)(this._container),this._container.parentNode.removeChild(this._container)}}],t&&i(e.prototype,t),n&&i(e,n),r}();r.default=s},{react:"react","react-dom":"react-dom"}],"/root/repo/app/assets/scripts/utils/math.js":[function(e,t,r){"use strict";function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}Object.defineProperty(r,"__esModule",{value:!0}),r.sumBy=function(e,a){return e.reduce(function(e,t,r,n){return e+("function"===typeof a?a(t,r,n):t[a])},0)},r.round=c,r.distributedDivision=function(e,t){var r=Math.floor(e/t),n=e%t;return Array.from({length:t}).map(function(e,t){return t<n?r+1:r})},r.formatTousands=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(isNaN(e)||!e&&0!==e)return"--";var n=Number(c(e,t)).toString().split("."),a=(s=n,l=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=a[0],i=a[1];var s,l;return o=o.replace(/\B(?=(\d{3})+(?!\d))/g," "),i=(i||"").substr(0,t),i=r?"".concat(i).concat(function(e,t){for(var r="",n=0;n<t;n++)r+=e+"";return r}(0,t-i.length)):i,""!==i?"".concat(o,".").concat(i):o}},{}],"/root/repo/app/assets/scripts/utils/qs-state.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("qs")),c=n(e("lodash.set")),s=n(e("lodash.get"));function n(e){return e&&e.__esModule?e:{default:e}}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){u(t,e,r[e])})}return t}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.definition=e}var e,r,n;return e=t,r=[{key:"setDefinition",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.definition[e]=r?t:l({},this.definition[e],t),this}},{key:"getState",value:function(e){var s=this,l=i.default.parse(e),t=Object.keys(this.definition);return t.reduce(function(e,t){var r=s.definition[t],n=r.hydrator||function(e){return e},a=n(l[t]),o=function(e){return!!e};r.validator&&"function"===typeof r.validator.indexOf?o=function(e){return-1!==r.validator.indexOf(e)}:"function"===typeof r.validator&&(o=r.validator);var i=o(a)?a:r.default;return(0,c.default)(e,r.accessor,i)},{})}},{key:"getQs",value:function(a){var o=this,e=Object.keys(this.definition),t=e.reduce(function(e,t){var r=o.definition[t],n=(0,s.default)(a,r.accessor,r.default);return n!==r.default?l({},e,u({},t,n)):e},{});return i.default.stringify(t)}}],r&&a(e.prototype,r),n&&a(e,n),t}();r.default=o},{"lodash.get":"lodash.get","lodash.set":"lodash.set",qs:"qs"}],"/root/repo/app/assets/scripts/utils/store.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("redux"),a=l(e("redux-thunk")),o=e("redux-logger"),i=l(e("../config")),s=l(e("../redux"));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.createLogger)({level:"info",collapsed:!0,predicate:function(e,t){return"production"!==i.default.environment}}),u="production"!==i.default.environment&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.compose,p=(0,n.createStore)(s.default,{},u((0,n.applyMiddleware)(a.default,c))),d=p;r.default=d},{"../config":"/root/repo/app/assets/scripts/config.js","../redux":"/root/repo/app/assets/scripts/redux/index.js",redux:"redux","redux-logger":"redux-logger","redux-thunk":"redux-thunk"}],"/root/repo/app/assets/scripts/utils/string.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.padNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=e.toString();for(;e.length<t;)e="0".concat(e);return e},r.reactNl2Br=function(e){var r=/(\r\n|\r|\n)/g;{if("number"===typeof e)return e;if("string"!==typeof e)return""}return e.split(r).map(function(e,t){return e.match(r)?a.default.createElement("br",{key:t}):e})},r.equalsIgnoreCase=function(e,t){return e="string"===typeof e?e.toLowerCase():e,t="string"===typeof t?t.toLowerCase():t,e===t};var n,a=(n=e("react"),n&&n.__esModule?n:{default:n})},{react:"react"}],"/root/repo/app/assets/scripts/utils/utils.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPlainObject=function(e){return!!e&&"object"===o(e)&&e.constructor===Object},r.getFromState=function(e,t){return(0,a.default)(e,t,{fetched:!1,fetching:!1,data:{},error:null})},r.wrapApiResult=function(e){var t=e.fetched,r=e.fetching,n=e.data,a=e.error,o=t&&!r;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){i(t,e,r[e])})}return t}({raw:function(){return e},isReady:function(){return o},hasError:function(){return o&&!!a},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o?n.results||n:e},getMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o?n.meta:e}},e)},r.dateFromYear=void 0;var n,a=(n=e("lodash.get"),n&&n.__esModule?n:{default:n});function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}r.dateFromYear=function(e){return new Date("".concat(e,"-01-31"))}},{"lodash.get":"lodash.get"}],"/root/repo/app/assets/scripts/views/app.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),n=e("prop-types"),s=a(e("classnames")),l=a(e("react-tooltip")),c=e("../config"),u=a(e("../components/page-header")),p=a(e("../components/page-footer")),d=a(e("../components/meta-tags"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(e){this.props.location&&this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props,t=e.pageTitle,r=e.className,n=e.location,a=e.children,o=t?"".concat(t,"  "):"";return i.default.createElement("div",{className:(0,s.default)("page",r)},i.default.createElement(d.default,{title:"".concat(o).concat(c.appTitle," ").concat(c.appEdition),description:c.appDescription,imgUrl:"".concat(c.baseurl,"/assets/graphics/meta/default-meta-image.png")},i.default.createElement("meta",{name:"twitter:card",content:"summary"}),i.default.createElement("meta",{name:"twitter:site",content:"@BloombergNEF"}),i.default.createElement("meta",{property:"og:site_name",content:c.appTitle}),i.default.createElement("meta",{property:"og:url",content:c.baseurl}),i.default.createElement("meta",{property:"og:type",content:"website"})),i.default.createElement(u.default,{location:n}),i.default.createElement("main",{className:"page__body",role:"main"},a),i.default.createElement(l.default,{id:"popover-compact",effect:"solid",type:"custom",className:"popover popover--compact",wrapper:"article",getContent:function(e){return i.default.createElement("div",{className:"popover__contents"},e)}}),i.default.createElement(p.default,{location:n}))}}],n&&f(r.prototype,n),a&&f(r,a),t}(i.default.Component);"production"!==c.environment&&(g.propTypes={className:n.PropTypes.string,pageTitle:n.PropTypes.string,location:n.PropTypes.object,children:n.PropTypes.node});var v=g;r.default=v},{"../components/meta-tags":"/root/repo/app/assets/scripts/components/meta-tags.js","../components/page-footer":"/root/repo/app/assets/scripts/components/page-footer.js","../components/page-header":"/root/repo/app/assets/scripts/components/page-header.js","../config":"/root/repo/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-tooltip":"react-tooltip"}],"/root/repo/app/assets/scripts/views/compare.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var E=g(e("react")),n=e("prop-types"),a=e("react-redux"),o=e("react-router-dom"),_=g(e("classnames")),i=e("../config"),s=e("../redux/geographies"),l=e("../utils/utils"),c=e("../utils/array"),u=e("../utils/math"),p=e("../utils/string"),d=e("../utils/geographies-layout"),w=e("../components/geography-params"),f=g(e("./app")),m=g(e("../components/share")),h=g(e("../components/form-select-control")),y=e("../components/loading-skeleton"),k=g(e("../components/on-grid")),j=e("../components/parameters"),P=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(e("../components/area-chart"));function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){T(t,e,r[e])})}return t}function b(e){return b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),e}function A(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?R(e):t}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function L(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("/").map(function(e){return e.toLowerCase()});return[t[0]||"none",t[1]||"none"]},G=function(e){function r(e){var t;return N(this,r),t=A(this,M(r).call(this,e)),t.onCompareClick=t.onCompareClick.bind(R(R(t))),t.onCompareReset=t.onCompareReset.bind(R(R(t))),t.state=t.getInitialState(),t}return L(r,e),x(r,[{key:"getInitialState",value:function(){return{geographies:I()}}},{key:"componentDidMount",value:function(){var a=this;Promise.all([this.props.fetchChartsMeta(),this.props.fetchGeographies()]).then(function(){if(a.props.geographiesList.isReady()){var e,t,r=a.props.geographiesList.getData(),n=(e=r,t=a.props.match.params.geoIsos,I(t).map(function(t){return e.find(function(e){return e.iso===t})?t:"none"}));a.setState({geographies:n}),a.setCompareUrl(n,"replace"),n.forEach(function(e){"none"!==e&&a.props.fetchGeography(e)})}})}},{key:"setCompareUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";e.every(function(e){return"none"===e})?this.props.history[t]("/compare"):this.props.history[t]("/compare/".concat(e.join("/")))}},{key:"onGeoSelectValueChange",value:function(e,t){var r=t.target.value;this.setState({geographies:Object.assign(S(this.state.geographies),T({},e,r))})}},{key:"onCompareClick",value:function(e){var t=this;e.preventDefault(),this.setCompareUrl(this.state.geographies),this.state.geographies.forEach(function(e){"none"!==e&&t.props.fetchGeography(e)})}},{key:"onCompareReset",value:function(e){var t=this;e.preventDefault(),this.setState(this.getInitialState(),function(){t.setCompareUrl(t.state.geographies)})}},{key:"renderFatalError",value:function(){return this.props.geographiesList.hasError()?E.default.createElement("p",null,"Something went wrong. Try again later."):null}},{key:"renderControls",value:function(){var t=this;if(this.props.geographiesList.hasError())return null;var e=this.props.geographiesList.getData([]),r=[{value:"none",label:"Choose location"}].concat(S(e.map(function(e){return{value:e.iso,label:e.name}})));return E.default.createElement("form",{className:"form controls compare-controls"},(0,c.initializeArrayWithRange)(1).map(function(e){return E.default.createElement(h.default,{key:"geo-".concat(e),id:"geo-".concat(e),label:"Geography",options:r,selectedOption:t.state.geographies[e],onChange:t.onGeoSelectValueChange.bind(t,e)})}),E.default.createElement("div",{className:"form__actions"},E.default.createElement("button",{className:"controls__button-reset",onClick:this.onCompareReset,title:"Reset selection"},E.default.createElement("span",null,"Reset")),E.default.createElement("button",{className:"controls__button-submit",onClick:this.onCompareClick,title:"Apply selection"},E.default.createElement("span",null,"Compare"))))}},{key:"renderGeographies",value:function(){var e=this.props,t=e.match,r=e.geographiesList,n=e.geoA,a=e.geoB;if(r.hasError())return null;var o=I(t.params.geoIsos);return E.default.createElement(E.default.Fragment,null,E.default.createElement("div",{className:"col col--diptic prose"},E.default.createElement(H,{active:"none"!==o[0],error:n.hasError(),loading:!n.isReady(),source:n.getData(),target:a.getData(),chartsMeta:this.props.chartsMeta.getData([])})),E.default.createElement("div",{className:"col col--diptic prose"},E.default.createElement(H,{active:"none"!==o[1],error:a.hasError(),loading:!a.isReady(),source:a.getData(),target:n.getData(),chartsMeta:this.props.chartsMeta.getData([])})))}},{key:"render",value:function(){return E.default.createElement(f.default,null,E.default.createElement("section",{className:"inpage inpage--compare"},E.default.createElement("header",{className:"inpage__header"},E.default.createElement("div",{className:"inner"},E.default.createElement("div",{className:"inpage__headline"},E.default.createElement("h1",{className:"inpage__title"},"Compare")),E.default.createElement("div",{className:"inpage__actions"},E.default.createElement(m.default,{url:window.location.toString()})))),E.default.createElement("nav",{className:"inpage__nav",role:"navigation"},E.default.createElement("div",{className:"inner"},this.renderControls())),E.default.createElement("div",{className:"inpage__body"},E.default.createElement("div",{className:"inner"},this.renderFatalError(),this.renderGeographies()))))}}]),r}(E.default.Component);"production"!==i.environment&&(G.propTypes={fetchGeographies:n.PropTypes.func,fetchGeography:n.PropTypes.func,fetchChartsMeta:n.PropTypes.func,match:n.PropTypes.object,history:n.PropTypes.object,geographiesList:n.PropTypes.object,geoA:n.PropTypes.object,geoB:n.PropTypes.object,chartsMeta:n.PropTypes.object});var z=(0,a.connect)(function(e,t){var r=I(t.match.params.geoIsos);return{geographiesList:(0,l.wrapApiResult)(e.geographies.list),geoA:(0,l.wrapApiResult)((0,l.getFromState)(e.geographies.individualGeographies,r[0])),geoB:(0,l.wrapApiResult)((0,l.getFromState)(e.geographies.individualGeographies,r[1])),chartsMeta:(0,l.wrapApiResult)(e.geographies.chartsMeta)}},function(e){return{fetchGeographies:function(){return e(s.fetchGeographies.apply(void 0,arguments))},fetchGeography:function(){return e(s.fetchGeography.apply(void 0,arguments))},fetchChartsMeta:function(){return e(s.fetchChartsMeta.apply(void 0,arguments))}}})(G);r.default=z;var H=function(e){function r(e){var t;return N(this,r),t=A(this,M(r).call(this,e)),t.state={installedCapacity:t.getInitialChartTimeSeriesState(),powerGeneration:t.getInitialChartTimeSeriesState(),cleanEnergyInvestment:t.getInitialChartTimeSeriesState()},t}return L(r,e),x(r,[{key:"getInitialChartTimeSeriesState",value:function(){return{hover:!1,hoverDateValue:null}}},{key:"onInteractionEvent",value:function(e,t,r){switch(t){case"over":this.setState(T({},e,v({},this.state[e],{hover:!0})));break;case"out":this.setState(T({},e,v({},this.state[e],{hover:!1})));break;case"move":this.state[e].hoverDateValue&&this.state[e].hoverDateValue.getFullYear()===r.getFullYear()||this.setState(T({},e,{hover:!0,hoverDateValue:r}))}}},{key:"renderInactive",value:function(){return E.default.createElement("div",{className:"placeholder"},E.default.createElement("p",null,"Nothing to compare. Choose a Geography."))}},{key:"renderError",value:function(){return E.default.createElement("div",{className:"placeholder"},E.default.createElement("p",null,"An error occurred loading the geography. Try again."))}},{key:"renderLoading",value:function(){return E.default.createElement(y.LoadingSkeletonGroup,null,E.default.createElement(y.LoadingSkeleton,{width:1/6}),E.default.createElement(y.LoadingSkeleton,{type:"heading",width:1/3,size:"large",style:{marginBottom:"2rem"}}),E.default.createElement(y.LoadingSkeleton,{width:.5}),E.default.createElement(y.LoadingSkeleton,{width:.5}),E.default.createElement(y.LoadingSkeleton,{width:.5}))}},{key:"render",value:function(){var y=this,e=this.props,t=e.error,r=e.loading,n=e.active,g=e.source,v=e.target,b=e.chartsMeta;if(!n)return this.renderInactive();if(r)return this.renderLoading();if(t)return this.renderError();var a=g.topics.map(function(e){return{id:e.id,name:e.name,weight:e.weight,value:e.data[0].value}});return E.default.createElement(E.default.Fragment,null,E.default.createElement("div",{className:"compare--entry"},E.default.createElement("p",{className:"compare--entry__subtitle"},E.default.createElement(o.Link,{to:"/results?region=".concat(g.region.id),title:"View results for ".concat(g.region.name," region")},g.region.name)),E.default.createElement("h1",{className:"compare--entry__title"},E.default.createElement(o.Link,{to:"/results/".concat(g.iso),title:"View page"},g.name)," ",E.default.createElement(k.default,{grid:g.grid,noTip:!0})),E.default.createElement(j.ParameterBreakdown,{className:"legend par-legend legend--compare",data:a},E.default.createElement("dt",null,"Global rank"),E.default.createElement("dd",null,(0,p.padNumber)(g.score.data[0].rank,2)),E.default.createElement("dt",null,"Score"),E.default.createElement("dd",null,(0,u.round)(g.score.data[0].value))),E.default.createElement("div",{className:"par-section"},d.compareLayoutDef.map(function(t){try{var e=(0,w.getChartDef)(b,t.id),r=O(e,1),n=r[0];if("group"===n.type){var a=(0,w.getChartDef)(b,n.children,t.id),o=(0,w.getChildrenType)(n.id,a),i=(0,w.reconcileGroupChartData)(t,n,a,g.charts,g.iso);switch(o){case"answer":return(0,w.renderParCardAnswerGroup)(i);case"percent":return(0,w.renderParCardPercentGroup)(i);default:throw console.warn("Unable to render children type [".concat(o,"] for chart group [").concat(n.id,"]")),new Error("Unable to render children type [".concat(o,"] for chart group [").concat(n.id,"]"))}}else{var s=(0,w.reconcileChartData)(t,n,g.charts,g);switch(s.type){case"answer":return(0,w.renderParCardAnswer)(s);case"absolute":case"average":return(0,w.renderParCardAbsolute)(s);case"percent":return(0,w.renderParCardPercent)(s);case"range":return(0,w.renderParCardRange)(s);case"timeSeries":var l=(0,P.memoizedComputeAreaChartData)(s.data,s.mainDataLayers,"".concat(g.iso,"-").concat(n.id)),c=l.data.some(function(e){return e.values.some(function(e){return null!==e.value})}),u=l.yDomain;if(c&&v.iso){var p=(0,w.reconcileChartData)(t,n,v.charts,v),d=(0,P.memoizedComputeAreaChartData)(p.data,p.mainDataLayers,"".concat(v.iso,"-").concat(n.id)),f=O(d.yDomain,2),m=f[0],h=f[1];u=[Math.min(u[0],m||0),Math.max(u[1],h||0)]}return E.default.createElement(w.ParCard,{key:s.id,title:s.name,description:c&&s.description||null,size:s.size,className:(0,_.default)("chart-".concat(s.id),{"info-card--empty":!c})},!c&&E.default.createElement("p",null,"No data is available for this chart"),c&&E.default.createElement(P.default,{onBisectorEvent:y.onInteractionEvent.bind(y,s.id),interactionData:y.state[s.id],yLabel:l.yLabel,yDomain:u,xDomain:l.xDomain,data:l.data}));default:throw new Error("Unable to render chart type [".concat(s.type,"] for chart [").concat(s.id,"]"))}}}catch(e){return e.handled||console.error(e),(0,w.renderParCardError)(t,e.message)}}))))}}]),r}(E.default.PureComponent);"production"!==i.environment&&(H.propTypes={active:n.PropTypes.bool,error:n.PropTypes.bool,loading:n.PropTypes.bool,source:n.PropTypes.object,target:n.PropTypes.object,chartsMeta:n.PropTypes.array})},{"../components/area-chart":"/root/repo/app/assets/scripts/components/area-chart.js","../components/form-select-control":"/root/repo/app/assets/scripts/components/form-select-control.js","../components/geography-params":"/root/repo/app/assets/scripts/components/geography-params.js","../components/loading-skeleton":"/root/repo/app/assets/scripts/components/loading-skeleton.js","../components/on-grid":"/root/repo/app/assets/scripts/components/on-grid.js","../components/parameters":"/root/repo/app/assets/scripts/components/parameters.js","../components/share":"/root/repo/app/assets/scripts/components/share.js","../config":"/root/repo/app/assets/scripts/config.js","../redux/geographies":"/root/repo/app/assets/scripts/redux/geographies.js","../utils/array":"/root/repo/app/assets/scripts/utils/array.js","../utils/geographies-layout":"/root/repo/app/assets/scripts/utils/geographies-layout.js","../utils/math":"/root/repo/app/assets/scripts/utils/math.js","../utils/string":"/root/repo/app/assets/scripts/utils/string.js","../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","./app":"/root/repo/app/assets/scripts/views/app.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/views/geographies-page.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var p=k(e("react")),n=e("prop-types"),a=e("react-redux"),i=e("react-router-dom"),s=e("react-sticky"),o=e("react-scrollable-anchor"),l=e("../config"),c=e("../redux/geographies"),u=e("../utils/string"),d=e("../utils/utils"),f=e("../utils/array"),m=e("../utils/math"),h=k(e("../utils/geographies-layout")),y=k(e("./app")),g=k(e("./uhoh")),v=k(e("../components/geography-map")),b=e("../components/geography-params"),E=e("../components/loading-skeleton"),_=k(e("../components/on-grid")),w=k(e("../components/geography-nav-bar"));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){return j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(this,arguments)}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){T(t,e,r[e])})}return t}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}(0,o.configureAnchors)({offset:-76});var A=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=N(this,C(r).call(this,e)),t.state={installedCapacity:t.getInitialChartTimeSeriesState(),powerGeneration:t.getInitialChartTimeSeriesState(),cleanEnergyInvestment:t.getInitialChartTimeSeriesState()},t}var t,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(r,e),t=r,n=[{key:"getInitialChartTimeSeriesState",value:function(){return{hover:!1,hoverDateValue:null}}},{key:"componentDidMount",value:function(){this.props.fetchGeography(this.props.match.params.geoIso),this.props.fetchGeographiesMeta(),this.props.fetchChartsMeta()}},{key:"componentDidUpdate",value:function(e){e.match.params.geoIso!==this.props.match.params.geoIso&&this.props.fetchGeography(this.props.match.params.geoIso)}},{key:"onInteractionEvent",value:function(e,t,r){switch(t){case"over":this.setState(T({},e,O({},this.state[e],{hover:!0})));break;case"out":this.setState(T({},e,O({},this.state[e],{hover:!1})));break;case"move":this.state[e].hoverDateValue&&this.state[e].hoverDateValue.getFullYear()===r.getFullYear()||this.setState(T({},e,{hover:!0,hoverDateValue:r}))}}},{key:"getGeoBounds",value:function(t){var e=this.props.geoMeta,r=e.hasError,n=e.getData;if(r())return[];var a=n([]).find(function(e){return(0,u.equalsIgnoreCase)(e.iso,t)});return a?a.bounds:[]}},{key:"renderProfile",value:function(){var e=this.props.geography,t=e.isReady,r=e.getData,n=r();return p.default.createElement("ul",{className:"inpage__details"},t()&&p.default.createElement("li",null,p.default.createElement("strong",null,(0,u.padNumber)(n.score.data[0].rank,2),p.default.createElement("small",null,"/"),(0,m.round)(n.score.data[0].value)),p.default.createElement("span",null,"Global rank / Score")),t()&&n.topics.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("strong",null,(0,m.round)(e.data[0].value)),p.default.createElement("span",null,e.name," score"))}),t()&&n.profile.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("strong",null,(0,m.round)(e.value),p.default.createElement("sub",null,e.unit)),p.default.createElement("span",null,e.name))}),!t()&&(0,f.initializeArrayWithRange)(6).map(function(e){return p.default.createElement("li",{key:e},p.default.createElement("strong",null,p.default.createElement(E.LoadingSkeleton,{theme:"light",size:"large",width:.75})),p.default.createElement("span",null,p.default.createElement(E.LoadingSkeleton,{theme:"light",size:"small",width:1/3})))}))}},{key:"renderGeoSections",value:function(){var t=this,e=this.props.geography,r=e.isReady,n=e.hasError,a=e.getData,o=this.props.chartsMeta,i=o.isReady,s=o.hasError,l=o.getData;if(n()||s())return p.default.createElement("div",{className:"par-section"},p.default.createElement("div",{className:"par-section__contents"},p.default.createElement("p",null,"Something went wrong. Try again.")));if(!r()||!i())return(0,f.initializeArrayWithRange)(3).map(function(e){return p.default.createElement("div",{key:e,className:"par-section"},p.default.createElement("div",{className:"par-section-loading"},p.default.createElement(E.LoadingSkeletonGroup,null,p.default.createElement(E.LoadingSkeleton,{type:"heading",size:"large",width:1/3}),p.default.createElement(E.LoadingSkeleton,{size:"small",width:1}),p.default.createElement(E.LoadingSkeleton,{size:"small",width:1}),p.default.createElement(E.LoadingSkeleton,{size:"small",width:1}),p.default.createElement(E.LoadingSkeleton,{size:"small",width:.2}))))});var c=a(),u=l();return h.default.map(function(e){return p.default.createElement(b.ParSection,{key:e.id,id:e.id,type:e.type},(0,b.renderParArea)("alpha",e,u,c,t),(0,b.renderParArea)("beta",e,u,c,t))})}},{key:"render",value:function(){var t=this,e=this.props.geography,r=e.isReady,n=e.hasError,a=e.getData,o=a();return n()?p.default.createElement(g.default,null):p.default.createElement(y.default,{className:"page--has-hero",pageTitle:o.name||"Geograpghy"},p.default.createElement("article",{className:"inpage inpage--single inpage--results"},p.default.createElement("header",{className:"inpage__header"},p.default.createElement("div",{className:"inner"},p.default.createElement("div",{className:"inpage__headline"},p.default.createElement("p",{className:"inpage__subtitle"},p.default.createElement(i.Link,{to:"/results",title:"View results page"},"View all markets")),p.default.createElement("h1",{className:"inpage__title"},r()?o.name:p.default.createElement(E.LoadingSkeleton,{theme:"light",size:"large",type:"heading",inline:!0}),r()&&p.default.createElement(_.default,{grid:o.grid,theme:"negative",noTip:!0})),this.renderProfile())),"ru"===o.iso||"ua"===o.iso?p.default.createElement("figure",{className:"inpage__hero inpage__hero--cover"},p.default.createElement("div",{className:"inpage__hero-item"},p.default.createElement("img",{src:"../assets/graphics/layout/hero--cover.jpg",width:"1920",height:"1280",alt:"Illustration"})),p.default.createElement("figcaption",{className:"inpage__hero-caption visually-hidden"},"Cover image")):p.default.createElement(v.default,{geographyBounds:this.getGeoBounds(o.iso),geographyISO:r()?o.iso.toUpperCase():""})),p.default.createElement(s.StickyContainer,null,p.default.createElement(s.Sticky,null,function(e){return p.default.createElement(w.default,P({},e,{currentItem:t.props.location.hash.substr(1),geography:o}))}),p.default.createElement("div",{className:"inpage__body"},this.renderGeoSections()))))}}],n&&S(t.prototype,n),a&&S(t,a),r}(p.default.Component);"production"!==l.environment&&(A.propTypes={fetchGeography:n.PropTypes.func,fetchGeographiesMeta:n.PropTypes.func,fetchChartsMeta:n.PropTypes.func,match:n.PropTypes.object,geography:n.PropTypes.object,geoMeta:n.PropTypes.object});var M=(0,a.connect)(function(e,t){return{geography:(0,d.wrapApiResult)((0,d.getFromState)(e.geographies.individualGeographies,t.match.params.geoIso)),geoMeta:(0,d.wrapApiResult)(e.geographies.meta),chartsMeta:(0,d.wrapApiResult)(e.geographies.chartsMeta)}},function(e){return{fetchGeography:function(){return e(c.fetchGeography.apply(void 0,arguments))},fetchGeographiesMeta:function(){return e(c.fetchGeographiesMeta.apply(void 0,arguments))},fetchChartsMeta:function(){return e(c.fetchChartsMeta.apply(void 0,arguments))}}})(A);r.default=M},{"../components/geography-map":"/root/repo/app/assets/scripts/components/geography-map.js","../components/geography-nav-bar":"/root/repo/app/assets/scripts/components/geography-nav-bar.js","../components/geography-params":"/root/repo/app/assets/scripts/components/geography-params.js","../components/loading-skeleton":"/root/repo/app/assets/scripts/components/loading-skeleton.js","../components/on-grid":"/root/repo/app/assets/scripts/components/on-grid.js","../config":"/root/repo/app/assets/scripts/config.js","../redux/geographies":"/root/repo/app/assets/scripts/redux/geographies.js","../utils/array":"/root/repo/app/assets/scripts/utils/array.js","../utils/geographies-layout":"/root/repo/app/assets/scripts/utils/geographies-layout.js","../utils/math":"/root/repo/app/assets/scripts/utils/math.js","../utils/string":"/root/repo/app/assets/scripts/utils/string.js","../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","./app":"/root/repo/app/assets/scripts/views/app.js","./uhoh":"/root/repo/app/assets/scripts/views/uhoh.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom","react-scrollable-anchor":"react-scrollable-anchor","react-sticky":"react-sticky"}],"/root/repo/app/assets/scripts/views/home.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=f(e("react")),n=e("prop-types"),a=e("react-redux"),o=e("react-router-dom"),s=f(e("react-ga")),l=e("../config"),c=e("../utils/constants"),u=f(e("./app")),p=e("../components/lib-card"),d=f(e("../components/smart-link"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}var b=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=y(this,g(r).call(this,e)),t.state={},t}var t,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,e),t=r,n=[{key:"onDownloadClick",value:function(e){var t=e.split("/");s.default.event({category:"Data",action:"Download",label:t[t.length-1]})}},{key:"render",value:function(){var e=c.downloadData.current.report;return i.default.createElement(u.default,{className:"page--has-hero"},i.default.createElement("section",{className:"inpage inpage--home"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("h1",{className:"inpage__title"},"Which emerging market is the most attractive for clean energy investment?"),i.default.createElement("p",null,i.default.createElement(o.Link,{to:"/results",className:"home-cta-button",title:"View results"},i.default.createElement("span",null,"Ranking")),i.default.createElement(d.default,{to:l.baseurl+e.url,title:e.title,className:"home-cta-button",onClick:this.onDownloadClick.bind(this,e.url),target:"_blank"},i.default.createElement("span",null,"Full report")),i.default.createElement(o.Link,{to:"/key-findings",className:"home-cta-button",title:"View key findings"},i.default.createElement("span",null,"Key findings"))))),i.default.createElement("figure",{className:"inpage__hero inpage__hero--cover"},i.default.createElement("div",{className:"inpage__hero-item"},i.default.createElement("img",{src:"../assets/graphics/layout/hero--cover.jpg",width:"1920",height:"1280",alt:"Illustration"})),i.default.createElement("figcaption",{className:"inpage__hero-caption"},"Cover image"))),i.default.createElement("div",{className:"inpage__body"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"col--main"},i.default.createElement("ol",{className:"card-list"},c.tools.map(function(e){var t=e.url,r=e.title,n=e.label,a=e.description,o=e.image;return i.default.createElement("li",{key:t,className:"card-list__item"},i.default.createElement(p.ToolCard,{url:t,linkTitle:r,title:n,description:a,image:o}))})))),i.default.createElement("section",{className:"fold fold--editions"},i.default.createElement("div",{className:"fold__contents"},i.default.createElement("header",{className:"fold__header"},i.default.createElement("h1",{className:"fold__title"},"About Climatescope"),i.default.createElement("div",{className:"fold__lead"},i.default.createElement("p",null,"Climatescope is a snapshot of where clean energy policy and finance stand today, and a guide to what can happen in the future."))),i.default.createElement("div",{className:"fold__body"},i.default.createElement("h2",null,"View or download our previous reports"),i.default.createElement("ul",{className:"editions-menu"},c.editions.map(function(e){return i.default.createElement("li",{key:e.url,className:"editions-menu__item"},i.default.createElement("a",{href:e.url,title:e.title,className:"editions-menu__link"},i.default.createElement("span",null,e.label)))}))))))))}}],n&&h(t.prototype,n),a&&h(t,a),r}(i.default.Component);"production"!==l.environment&&(b.propTypes={location:n.PropTypes.object,history:n.PropTypes.object});var E=(0,a.connect)(function(e){},function(e){})(b);r.default=E},{"../components/lib-card":"/root/repo/app/assets/scripts/components/lib-card.js","../components/smart-link":"/root/repo/app/assets/scripts/components/smart-link.js","../config":"/root/repo/app/assets/scripts/config.js","../utils/constants":"/root/repo/app/assets/scripts/utils/constants.js","./app":"/root/repo/app/assets/scripts/views/app.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-ga":"react-ga","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/views/library-ctype.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=g(e("react")),n=e("prop-types"),a=e("react-redux"),c=g(e("classnames")),o=g(e("react-paginate")),i=g(e("../utils/qs-state")),s=e("../redux/libraryctypes"),u=e("../utils/utils"),p=e("../config"),d=e("../utils/constants"),f=g(e("./app")),m=g(e("../components/share")),h=e("../components/lib-card"),y=g(e("../components/dropdown"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k=d.libraryCType.pages,j=function(e){function a(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,n=E(a).call(this,e),t=!n||"object"!==v(n)&&"function"!==typeof n?w(r):n,t.onCTClick=t.onCTClick.bind(w(w(t))),t.onPageChange=t.onPageChange.bind(w(w(t))),t.qsState=new i.default({page:{accessor:"page",hydrator:function(e){return parseInt(e)},default:1,validator:function(e){return!isNaN(e)&&e>0}},type:{accessor:"contentType",default:"all",validator:["all"].concat(k.map(function(e){return e.id}))}}),t.state=function(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,r,n;t=a,r=e,n=o[e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return a}({},t.qsState.getState(t.props.location.search.substr(1))),t.fetchLibraryContentType(),t}var t,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e),t=a,r=[{key:"fetchLibraryContentType",value:function(){return this.props.fetchLibraryContentType({limit:11,offset:11*(this.state.page-1),contentType:this.state.contentType})}},{key:"updateUrlAndFetch",value:function(){var e=this.qsState.getQs(this.state);return this.props.history.push({search:e}),this.fetchLibraryContentType()}},{key:"onCTClick",value:function(e,t){var r=this;t.preventDefault(),this.setState({contentType:e,page:1},function(){var e=r.qsState.getQs(r.state);r.props.history.push({search:e}),r.fetchLibraryContentType()})}},{key:"onPageChange",value:function(e){var t=this,r=e.selected;this.setState({page:r+1},function(){t.updateUrlAndFetch()})}},{key:"renderTitle",value:function(){var t=this,e=k.find(function(e){return e.id===t.state.contentType}),r=e?e.label:"All insights";return l.default.createElement("h1",{className:"inpage__title"},l.default.createElement("span",null,"Viewing"),l.default.createElement("em",null,l.default.createElement(y.default,{className:"insights-drop",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret",triggerActiveClassName:"button--active",triggerText:r,triggerTitle:"Filter by content type",direction:"down",alignment:"left"},l.default.createElement("h6",{className:"drop__title"},"Select Insight"),l.default.createElement("ul",{className:"drop__menu drop__menu--select"},l.default.createElement("li",null,l.default.createElement("a",{href:"#",title:"View all articles",onClick:this.onCTClick.bind(this,"all"),"data-hook":"dropdown:close",className:(0,c.default)("drop__menu-item",{"drop__menu-item--active":"all"===this.state.contentType})},"All insights")),k.map(function(e){return l.default.createElement("li",{key:e.id},l.default.createElement("a",{href:"#",title:"View ".concat(e.label," articles"),onClick:t.onCTClick.bind(t,e.id),"data-hook":"dropdown:close",className:(0,c.default)("drop__menu-item",{"drop__menu-item--active":e.id===t.state.contentType})},e.label))})))))}},{key:"renderNoResults",value:function(){return this.props.libraryContenTypeList.isReady()?this.props.libraryContenTypeList.getData().length?void 0:l.default.createElement("p",null,"No posts available in this library."):null}},{key:"renderFatalError",value:function(){return this.props.libraryContenTypeList.hasError()?l.default.createElement("p",null,"Something went wrong. Try again later."):null}},{key:"renderMediumPosts",value:function(e){var t=this.state,i=t.contentType,s=t.page;return l.default.createElement("ol",{className:"card-list"},Array.from(e).map(function(t,e){var r=k.find(function(e){return e.id===t.type}),n=r?r.label:"Explore",a=t.date.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/),o=a?a[0]:null;return l.default.createElement("li",{key:t.id,className:(0,c.default)("card-list__item",{"card-list__item--hero":0===e&&"all"===i&&1===s})},l.default.createElement(h.MediumCard,{className:"card-medium--".concat(t.type),title:t.title,subtitle:n,url:t.url,date:o,description:t.description,tags:t.tags}))}))}},{key:"renderPagination",value:function(){if(!this.props.libraryContenTypeList.isReady())return null;var e=this.props.libraryContenTypeList.getMeta(),t=Math.ceil(e.total/e.limit);return t<=1?null:l.default.createElement("div",{className:"pagination-wrapper"},l.default.createElement(o.default,{previousLabel:l.default.createElement("span",null,"previous"),nextLabel:l.default.createElement("span",null,"next"),breakLabel:l.default.createElement("span",{className:"pages__page"},"..."),pageCount:t,forcePage:e.page-1,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.onPageChange,containerClassName:"pagination",subContainerClassName:"pages",pageClassName:"pages__wrapper",pageLinkClassName:"pages__page",activeClassName:"active"}))}},{key:"render",value:function(){var e=this.props.libraryContenTypeList.getData,t=e();return l.default.createElement(f.default,{pageTitle:"Content Library"},l.default.createElement("article",{className:"inpage inpage--library"},l.default.createElement("header",{className:"inpage__header"},l.default.createElement("div",{className:"inner"},l.default.createElement("div",{className:"inpage__headline"},this.renderTitle()),l.default.createElement("div",{className:"inpage__actions"},l.default.createElement(m.default,{url:window.location.toString()})))),l.default.createElement("div",{className:"inpage__body"},l.default.createElement("div",{className:"inner"},l.default.createElement("div",{className:"col--main"},this.renderFatalError(),this.renderNoResults(),this.renderMediumPosts(t),this.renderPagination())))))}}],r&&b(t.prototype,r),n&&b(t,n),a}(l.default.Component);"production"!==p.environment&&(j.propTypes={fetchLibraryContentType:n.PropTypes.func,filterLibraryContenType:n.PropTypes.func,libraryContenTypeList:n.PropTypes.object,location:n.PropTypes.object,history:n.PropTypes.object});var P=(0,a.connect)(function(e,t){return{libraryContenTypeList:(0,u.wrapApiResult)((0,u.getFromState)(e.libraryct,"list"))}},function(e){return{fetchLibraryContentType:function(){return e(s.fetchLibraryContentType.apply(void 0,arguments))}}})(j);r.default=P},{"../components/dropdown":"/root/repo/app/assets/scripts/components/dropdown.js","../components/lib-card":"/root/repo/app/assets/scripts/components/lib-card.js","../components/share":"/root/repo/app/assets/scripts/components/share.js","../config":"/root/repo/app/assets/scripts/config.js","../redux/libraryctypes":"/root/repo/app/assets/scripts/redux/libraryctypes.js","../utils/constants":"/root/repo/app/assets/scripts/utils/constants.js","../utils/qs-state":"/root/repo/app/assets/scripts/utils/qs-state.js","../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","./app":"/root/repo/app/assets/scripts/views/app.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-paginate":"react-paginate","react-redux":"react-redux"}],"/root/repo/app/assets/scripts/views/library.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=f(e("react")),n=e("prop-types"),a=f(e("classnames")),o=f(e("react-ga")),s=e("../config"),l=e("../utils/constants"),c=f(e("./app")),u=f(e("../components/share")),p=f(e("../components/smart-link")),d=e("../components/lib-card");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),e}function v(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var w=function(e){function t(){return h(this,t),v(this,b(t).apply(this,arguments))}return E(t,e),g(t,[{key:"onDownloadClick",value:function(e){var t=e.split("/");o.default.event({category:"Data",action:"Download",label:t[t.length-1]})}},{key:"render",value:function(){var e=this.props,t=e.isFeatured,r=e.report,n=e.model;return i.default.createElement("article",{className:(0,a.default)("card card--short insight",{"card--featured":t})},i.default.createElement("div",{className:"card__contents"},i.default.createElement("header",{className:"card__header"},i.default.createElement("div",{className:"card__headline"},i.default.createElement("h1",{className:"card__title"},r.label))),i.default.createElement("footer",null,r&&i.default.createElement(p.default,{to:s.baseurl+r.url,title:r.title,className:"card__download-link",onClick:this.onDownloadClick.bind(this,r.url),target:"_blank"},i.default.createElement("span",null,"Report (PDF)")),r&&n&&i.default.createElement("br",null),n&&i.default.createElement(p.default,{to:s.baseurl+n.url,title:n.title,className:"card__download-link",onClick:this.onDownloadClick.bind(this,n.url),target:"_blank"},i.default.createElement("span",null,"Model (Excel)")))))}}]),t}(i.default.PureComponent);"production"!==s.environment&&(w.propTypes={isFeatured:n.PropTypes.bool,report:n.PropTypes.object,model:n.PropTypes.object});var k=function(e){function t(){return h(this,t),v(this,b(t).apply(this,arguments))}return E(t,e),g(t,[{key:"render",value:function(){return i.default.createElement(c.default,{pageTitle:"Content Library"},i.default.createElement("article",{className:"inpage inpage--library"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("h1",{className:"inpage__title"},"Content library")),i.default.createElement("div",{className:"inpage__actions"},i.default.createElement(u.default,{url:window.location.toString()})))),i.default.createElement("div",{className:"inpage__body"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"col--main"},i.default.createElement("h2",null,"Tools"),i.default.createElement("ul",{className:"card-list"},l.tools.map(function(e){var t=e.url,r=e.title,n=e.label,a=e.description,o=e.image;return i.default.createElement("li",{key:t,className:"card-list__item"},i.default.createElement(d.ToolCard,{url:t,linkTitle:r,title:n,description:a,image:o}))})),i.default.createElement("h2",null,"Reports"),i.default.createElement("ul",{className:"card-list"},i.default.createElement("li",{className:"card-list__item"},i.default.createElement(w,{isFeatured:!0,report:l.downloadData.current.report,model:l.downloadData.current.model})),l.downloadData.previous.map(function(e){var t=e.report,r=e.model;return i.default.createElement("li",{key:t.url,className:"card-list__item"},i.default.createElement(w,{report:t,model:r}))})))))))}}]),t}(i.default.Component),j=k;r.default=j},{"../components/lib-card":"/root/repo/app/assets/scripts/components/lib-card.js","../components/share":"/root/repo/app/assets/scripts/components/share.js","../components/smart-link":"/root/repo/app/assets/scripts/components/smart-link.js","../config":"/root/repo/app/assets/scripts/config.js","../utils/constants":"/root/repo/app/assets/scripts/utils/constants.js","./app":"/root/repo/app/assets/scripts/views/app.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-ga":"react-ga"}],"/root/repo/app/assets/scripts/views/playground.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(e("react")),i=n(e("./app"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),r=t,n=[{key:"render",value:function(){return o.default.createElement(i.default,{className:"page--playground"},o.default.createElement("article",{className:"inpage"},o.default.createElement("header",{className:"inpage__header"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"inpage__headline"},o.default.createElement("h1",{className:"inpage__title"},"Playground")))),o.default.createElement("div",{className:"inpage__body"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"col col--main"},o.default.createElement("p",null,"Testing out new components."),o.default.createElement("article",{className:"popover popover--static",id:"marker-tip"},o.default.createElement("div",{className:"popover__contents"},o.default.createElement("header",{className:"popover__header"},o.default.createElement("div",{className:"popover__headline"},o.default.createElement("h1",{className:"popover__title"},o.default.createElement("a",{title:"View Philippines page",href:"/results/PH"},"Showcasing is a really long title")," ",o.default.createElement("small",{className:"label label--grid"},o.default.createElement("span",null,"On-grid")))),o.default.createElement("div",{className:"popover__header-toolbar"},o.default.createElement("a",{href:"#",title:"Close",className:"tba-xmark tba--text-hidden"},o.default.createElement("span",null,"Close")))),o.default.createElement("div",{className:"popover__body"},o.default.createElement("dl",{className:"legend par-legend"},o.default.createElement("dt",null,"Rank"),o.default.createElement("dd",null,"10"),o.default.createElement("dt",null,"Score"),o.default.createElement("dd",null,"2.16"),o.default.createElement("dt",{className:"legend__key--par-1"},"Fundamentals"),o.default.createElement("dd",null,"2.95 ",o.default.createElement("small",null,"50%")),o.default.createElement("dt",{className:"legend__key--par-2"},"Opportunities"),o.default.createElement("dd",null,"1.18 ",o.default.createElement("small",null,"25%")),o.default.createElement("dt",{className:"legend__key--par-3"},"Experience"),o.default.createElement("dd",null,"1.56 ",o.default.createElement("small",null,"25%")))),o.default.createElement("footer",{className:"popover__footer"},o.default.createElement("a",{className:"popover__cta",title:"View Philippines page",href:"/results/PH"},o.default.createElement("span",null,"View more"))))))))))}}],n&&s(r.prototype,n),a&&s(r,a),t}(o.default.Component);r.default=p},{"./app":"/root/repo/app/assets/scripts/views/app.js",react:"react"}],"/root/repo/app/assets/scripts/views/results.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=k(e("react")),n=e("prop-types"),a=e("react-redux"),o=k(e("classnames")),c=k(e("lodash.orderby")),u=k(e("lodash.get")),s=k(e("lodash.isequal")),l=e("react-sticky"),p=k(e("react-ga")),d=e("../config"),f=k(e("../utils/qs-state")),m=e("../redux/geographies"),h=e("../utils/utils"),y=e("../utils/constants"),g=k(e("./app")),v=e("../components/slider-controls"),b=k(e("../components/results-map")),E=k(e("../components/results-table")),_=k(e("../components/dropdown")),w=k(e("../components/share"));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){return j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){C(t,e,r[e])})}return t}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(e){return e.reduce(function(e,t){return N({},e,C({},t.id,{value:t.startingValue,locked:!1}))},{})},A=function(e){function a(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,n=O(a).call(this,e),t=!n||"object"!==j(n)&&"function"!==typeof n?S(r):n,t.onWeightsResetClick=t.onWeightsResetClick.bind(S(S(t))),t.onSliderGroupChange=t.onSliderGroupChange.bind(S(S(t))),t.onSortChange=t.onSortChange.bind(S(S(t))),t.onMarkerHighlightChange=t.onMarkerHighlightChange.bind(S(S(t))),t.qsState=new f.default({region:{accessor:"region",default:"all",validator:y.regions.map(function(e){return e.id})}}),t.state=N({},t.qsState.getState(t.props.location.search.substr(1)),{sliders:{},sort:{field:"rank",dir:"asc"},markersHighlight:"top",isDevelopedMarkets:!1}),t}var t,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e),t=a,r=[{key:"componentDidMount",value:function(){this.props.fetchGeographies(),this.props.fetchGeographiesMeta()}},{key:"onMarkerHighlightChange",value:function(e){this.setState({markersHighlight:e})}},{key:"onWeightsResetClick",value:function(e){e.preventDefault(),this.setState({sliders:x(this.props.sliders)})}},{key:"onSliderGroupChange",value:function(e){this.setState({sliders:e})}},{key:"onRegionClick",value:function(e,t){var r=this;t.preventDefault(),this.setState({region:e},function(){var e=r.qsState.getQs(r.state);r.props.history.push({search:e})})}},{key:"onSortChange",value:function(e,t){this.setState({sort:{field:e,dir:t}})}},{key:"onDownloadClick",value:function(){p.default.event({category:"Data",action:"Download",label:"Model from results"})}},{key:"getRankedGeographies",value:function(){var e=this.props.geographiesList,t=e.getData,r=e.hasError,n=this.state,a=n.sliders,o=n.region,i=n.isDevelopedMarkets;if(r())return[];var s=t([]).filter(function(e){return"all"===o||e.region.id===o}).filter(function(e){return!!i||"developing"===e.market}).map(function(e){var t=(e.topics||[]).map(function(e){var t=(0,u.default)(a,[e.id,"value"],0);return{id:e.id,name:e.name,value:e.data[0].value,weight:t}}),r="on"===e.grid||"off"!==e.grid&&null;return{iso:e.iso.toUpperCase(),name:e.name,market:e.market,grid:r,topics:t,score:t.reduce(function(e,t){return e+t.value*(t.weight/100)},0)}});s=(0,c.default)(s,"score","desc");var l=s.filter(function(e){return"developing"===e.market}).map(function(e){return e.iso});return s=s.map(function(t,e){return N({},t,{rank:e+1,developingRank:"developing"===t.market?l.findIndex(function(e){return e===t.iso})+1:null})}),s}},{key:"renderTitle",value:function(){var t=this,e=y.regions.find(function(e){return e.id===t.state.region}).name;return i.default.createElement("h1",{className:"inpage__title"},i.default.createElement("span",null,"Results for"),i.default.createElement("em",null,i.default.createElement(_.default,{className:"regions-drop",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret",triggerActiveClassName:"button--active",triggerText:e,triggerTitle:"Filter by region",direction:"down",alignment:"left"},i.default.createElement("h6",{className:"drop__title"},"Select region"),i.default.createElement("ul",{className:"drop__menu drop__menu--select"},y.regions.map(function(e){return i.default.createElement("li",{key:e.id},i.default.createElement("a",{href:"#",title:"view ".concat(e.name," results"),onClick:t.onRegionClick.bind(t,e.id),"data-hook":"dropdown:close",className:(0,o.default)("drop__menu-item",{"drop__menu-item--active":e.id===t.state.region})},e.name))})))))}},{key:"renderHeaderFn",value:function(e){var t=this,r=e.style,n=e.isSticky,a=this.state.isDevelopedMarkets;return i.default.createElement("nav",{className:(0,o.default)("inpage__nav nav",{"inpage__nav--sticky":n}),style:r,role:"navigation"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"par-controls"},i.default.createElement("div",{className:"par-controls__headline"},i.default.createElement("div",{className:"par-controls__action"},i.default.createElement("h2",{className:"par-controls__title"},"Calculate your own score"),i.default.createElement("a",{href:"#",className:"par-controls__reset-button",title:"Reset topic weights",onClick:this.onWeightsResetClick},i.default.createElement("span",null,"Reset"))),i.default.createElement("div",{className:"par-controls__action"},i.default.createElement("h2",{className:"par-controls__title"},"Developed markets"),i.default.createElement("label",{htmlFor:"switch-isDevelopedMarkets",className:"form__option form__option--text-hidden form__option--switch fos-eye",title:"Add developed markets to the Climatescope ranking"},i.default.createElement("input",{type:"checkbox",name:"switch-isDevelopedMarkets",id:"switch-isDevelopedMarkets",checked:a,onChange:function(){return t.setState({isDevelopedMarkets:!a})}}),i.default.createElement("span",{className:"form__option__ui"}),i.default.createElement("span",{className:"form__option__text"},a?"Hide developed markets":"Show developed markets")))),i.default.createElement(v.SliderControlGroup,{sliders:this.props.sliders,values:this.state.sliders||{},onChange:this.onSliderGroupChange}))))}},{key:"renderResultsTable",value:function(){var e=this.props.geographiesList.isReady;return i.default.createElement(E.default,{sortField:this.state.sort.field,sortDirection:this.state.sort.dir,data:this.getRankedGeographies(),onSort:this.onSortChange,loading:!e()})}},{key:"render",value:function(){var t=this,r=this.state.region,e=this.props.geographiesList.hasError;if(e())return i.default.createElement(g.default,{pageTitle:"Results"},i.default.createElement("section",{className:"inpage inpage--hub"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("h1",{className:"inpage__title"},"Results")))),i.default.createElement("div",{className:"inpage__body"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"col col--main prose"},i.default.createElement("p",null,"Something went wrong. Try again later."))))));var n=this.getRankedGeographies().filter(function(e){return"developing"===e.market}),a=n.map(function(e){return e.iso}),o=y.regions.find(function(e){return e.id===r});return i.default.createElement(g.default,{pageTitle:"Results"},i.default.createElement("section",{className:"inpage inpage--hub inpage--results"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},this.renderTitle()),i.default.createElement("div",{className:"inpage__actions"},i.default.createElement("a",{href:"".concat(d.baseurl).concat(y.downloadData.current.model.url),className:"ipa-download",title:"Download the interactive Climatescope model",onClick:this.onDownloadClick,target:"_blank"},i.default.createElement("span",null,"Download Model")),i.default.createElement(w.default,{url:window.location.toString()})))),i.default.createElement(l.StickyContainer,null,i.default.createElement(l.Sticky,null,function(e){return t.renderHeaderFn(e)}),i.default.createElement("div",{className:"inpage__body"},i.default.createElement(b.default,{bounds:o.bounds,highlightISO:a,meta:this.props.geoMeta.getData([]),data:n,onMarkerHighlightChange:this.onMarkerHighlightChange,markersHighlight:this.state.markersHighlight}),i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"col col--main"},this.renderResultsTable()))))))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return(0,s.default)(t.sliders,{})?{sliders:x(e.sliders)}:null}}],r&&P(t.prototype,r),n&&P(t,n),a}(i.default.Component);"production"!==d.environment&&(A.propTypes={history:n.PropTypes.object,location:n.PropTypes.object,fetchGeographies:n.PropTypes.func,fetchGeographiesMeta:n.PropTypes.func,geographiesList:n.PropTypes.object,geoMeta:n.PropTypes.object,sliders:n.PropTypes.array});var M=(0,a.connect)(function(e,t){var r=(0,h.wrapApiResult)(e.geographies.list),n=r.isReady,a=r.hasError,o=r.getData,i=[];if(n()&&!a()){var s=o()[0].topics;i=s.map(function(e){return{id:e.id,name:e.name,startingValue:100*e.weight}})}return{sliders:i,geographiesList:r,geoMeta:(0,h.wrapApiResult)(e.geographies.meta)}},function(e){return{fetchGeographies:function(){return e(m.fetchGeographies.apply(void 0,arguments))},fetchGeographiesMeta:function(){return e(m.fetchGeographiesMeta.apply(void 0,arguments))}}})(A);r.default=M},{"../components/dropdown":"/root/repo/app/assets/scripts/components/dropdown.js","../components/results-map":"/root/repo/app/assets/scripts/components/results-map.js","../components/results-table":"/root/repo/app/assets/scripts/components/results-table.js","../components/share":"/root/repo/app/assets/scripts/components/share.js","../components/slider-controls":"/root/repo/app/assets/scripts/components/slider-controls.js","../config":"/root/repo/app/assets/scripts/config.js","../redux/geographies":"/root/repo/app/assets/scripts/redux/geographies.js","../utils/constants":"/root/repo/app/assets/scripts/utils/constants.js","../utils/qs-state":"/root/repo/app/assets/scripts/utils/qs-state.js","../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","./app":"/root/repo/app/assets/scripts/views/app.js",classnames:"classnames","lodash.get":"lodash.get","lodash.isequal":"lodash.isequal","lodash.orderby":"lodash.orderby","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-ga":"react-ga","react-redux":"react-redux","react-sticky":"react-sticky"}],"/root/repo/app/assets/scripts/views/static-page.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=b(e("react")),n=e("prop-types"),a=e("react-redux"),o=e("react-router-dom"),s=b(e("classnames")),l=b(e("react-ga")),c=e("../config"),u=e("../redux/static-page"),p=e("../utils/utils"),d=b(e("./app")),f=b(e("./uhoh")),m=b(e("../components/dangerous-script-content")),h=e("../components/loading-skeleton"),y=b(e("../components/share")),g=b(e("../components/dropdown")),v=e("../utils/constants");function b(e){return e&&e.__esModule?e:{default:e}}function E(e){return E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}var P=function(e){return e.ctypes?"library/".concat(e.ctypes,"/").concat(e.page):e.page},O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,k(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){var e=P(this.props.match.params);this.props.fetchPage(e)}},{key:"componentDidUpdate",value:function(e){var t=P(e.match.params),r=P(this.props.match.params);t!==r&&this.props.fetchPage(r)}},{key:"renderLangSwitcher",value:function(){var e=this.props.page,t=e.getData,r=e.isReady;if(!r())return null;var n=t();if(!n.availableLanguages)return null;var a=v.languages.find(function(e){return e.id===n.language});return i.default.createElement(g.default,{className:"dropdown-content",triggerClassName:"ipa-language",triggerActiveClassName:"button--active",triggerText:a.label,triggerTitle:"Toggle language options",direction:"down",alignment:"right"},i.default.createElement("h2",{className:"drop__title"},"Also available in"),i.default.createElement("ul",{className:"drop__menu drop__menu--select"},n.availableLanguages.map(function(t){var e=v.languages.find(function(e){return e.id===t});return i.default.createElement("li",{key:e.id},i.default.createElement(o.Link,{to:"en"===t?"/".concat(n.id):"/".concat(n.id,"-").concat(e.id),className:(0,s.default)("drop__menu-item",{"drop__menu-item--active":e.id===a.id}),title:"View page in ".concat(e.label),"data-hook":"dropdown:close"},i.default.createElement("span",null,e.label)))})))}},{key:"onDownloadClick",value:function(){l.default.event({category:"Data",action:"Download",label:"Download file"})}},{key:"renderDownloadButton",value:function(){var e=this.props.page,t=e.getData,r=e.isReady;if(!r())return null;var n=t();return n.download_source?i.default.createElement("a",{href:"".concat(c.baseurl).concat(n.download_source),className:"ipa-download",title:"".concat(n.title),download:!0,onClick:this.onDownloadClick,target:"_blank"},i.default.createElement("span",null,"Download")):null}},{key:"render",value:function(){var e=this.props.page,t=e.hasError,r=e.getData,n=e.isReady,a=e.receivedAt;if(t())return i.default.createElement(f.default,null);var o=r();return i.default.createElement(d.default,{pageTitle:o.title},i.default.createElement("article",{className:"inpage inpage--single"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("h1",{className:"inpage__title"},n()?o.title:i.default.createElement(h.LoadingSkeleton,{width:2/3,size:"large",type:"heading",inline:!0}))),i.default.createElement("div",{className:"inpage__actions"},this.renderDownloadButton(),this.renderLangSwitcher(),i.default.createElement(y.default,{url:window.location.toString()})))),i.default.createElement("div",{className:"inpage__body"},i.default.createElement("div",{className:"inner"},n()?i.default.createElement(m.default,{key:a,dangerousContent:o.content,className:(0,s.default)("col",{"col--main prose":!o.embedded,"col--full":o.embedded})}):i.default.createElement("div",{className:(0,s.default)("col",{"col--main prose":!o.embedded,"col--full":o.embedded})},i.default.createElement(h.LoadingSkeletonGroup,null,i.default.createElement(h.LoadingSkeleton,{width:1/3}),i.default.createElement(h.LoadingSkeleton,null),i.default.createElement(h.LoadingSkeleton,null),i.default.createElement(h.LoadingSkeleton,null),i.default.createElement(h.LoadingSkeleton,{width:.75})))))))}}],n&&_(r.prototype,n),a&&_(r,a),t}(i.default.Component);"production"!==c.environment&&(O.propTypes={fetchPage:n.PropTypes.func,match:n.PropTypes.object,page:n.PropTypes.object});var T=(0,a.connect)(function(e,t){var r=P(t.match.params);return{page:(0,p.wrapApiResult)((0,p.getFromState)(e.staticPages,r))}},function(e){return{fetchPage:function(){return e(u.fetchPage.apply(void 0,arguments))}}})(O);r.default=T},{"../components/dangerous-script-content":"/root/repo/app/assets/scripts/components/dangerous-script-content.js","../components/dropdown":"/root/repo/app/assets/scripts/components/dropdown.js","../components/loading-skeleton":"/root/repo/app/assets/scripts/components/loading-skeleton.js","../components/share":"/root/repo/app/assets/scripts/components/share.js","../config":"/root/repo/app/assets/scripts/config.js","../redux/static-page":"/root/repo/app/assets/scripts/redux/static-page.js","../utils/constants":"/root/repo/app/assets/scripts/utils/constants.js","../utils/utils":"/root/repo/app/assets/scripts/utils/utils.js","./app":"/root/repo/app/assets/scripts/views/app.js","./uhoh":"/root/repo/app/assets/scripts/views/uhoh.js",classnames:"classnames","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react","react-ga":"react-ga","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/root/repo/app/assets/scripts/views/uhoh.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(e("react")),i=e("react-router-dom"),s=n(e("./app"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),r=t,n=[{key:"render",value:function(){return o.default.createElement(s.default,{pageTitle:"Page not found"},o.default.createElement("article",{className:"inpage"},o.default.createElement("header",{className:"inpage__header"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"inpage__headline"},o.default.createElement("h1",{className:"inpage__title"},"Page not found")))),o.default.createElement("div",{className:"inpage__body"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"col col--main prose"},o.default.createElement("p",null,"We were not able to find the page you're looking for. It may have been archived or removed."),o.default.createElement("p",null,"You might find an older snapshot of this page at the ",o.default.createElement("a",{href:"http://archive.org/web/",title:"Find on Internet Archive"},"Internet Archive"),".",o.default.createElement("br",null)," If you think this page should be here let us know via ",o.default.createElement("a",{href:"mailto:climatescope@bloomberg.net",title:"Send us an email"},"email"),"."),o.default.createElement("p",null,o.default.createElement(i.Link,{className:"button-prose-cta",to:"/",title:"View"},o.default.createElement("span",null,"Visit the homepage"))))))))}}],n&&l(r.prototype,n),a&&l(r,a),t}(o.default.Component);r.default=d},{"./app":"/root/repo/app/assets/scripts/views/app.js",react:"react","react-router-dom":"react-router-dom"}],"/root/repo/node_modules/history/DOMUtils.js":[function(e,t,r){"use strict";r.__esModule=!0;r.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),r.addEventListener=function(e,t,r){return e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)},r.removeEventListener=function(e,t,r){return e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)},r.getConfirmation=function(e,t){return t(window.confirm(e))},r.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},r.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},r.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},r.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},{}],"/root/repo/node_modules/history/LocationUtils.js":[function(e,t,r){"use strict";r.__esModule=!0,r.locationsAreEqual=r.createLocation=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=e("resolve-pathname"),i=c(n),a=e("value-equal"),s=c(a),l=e("./PathUtils");function c(e){return e&&e.__esModule?e:{default:e}}r.createLocation=function(e,t,r,n){var a=void 0;"string"===typeof e?(a=(0,l.parsePath)(e),a.state=t):(a=o({},e),void 0===a.pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return r&&(a.key=r),n?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.default)(a.pathname,n.pathname)):a.pathname=n.pathname:a.pathname||(a.pathname="/"),a},r.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,s.default)(e.state,t.state)}},{"./PathUtils":"/root/repo/node_modules/history/PathUtils.js","resolve-pathname":"/root/repo/node_modules/resolve-pathname/cjs/index.js","value-equal":"/root/repo/node_modules/value-equal/cjs/index.js"}],"/root/repo/node_modules/history/PathUtils.js":[function(e,t,r){"use strict";r.__esModule=!0;r.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},r.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e};var n=r.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)};r.stripBasename=function(e,t){return n(e,t)?e.substr(t.length):e},r.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},r.parsePath=function(e){var t=e||"/",r="",n="",a=t.indexOf("#");-1!==a&&(n=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(r=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}},r.createPath=function(e){var t=e.pathname,r=e.search,n=e.hash,a=t||"/";return r&&"?"!==r&&(a+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(a+="#"===n.charAt(0)?n:"#"+n),a}},{}],"/root/repo/node_modules/history/createBrowserHistory.js":[function(e,t,r){"use strict";r.__esModule=!0;var S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=e("warning"),C=i(n),a=e("invariant"),x=i(a),A=e("./LocationUtils"),M=e("./PathUtils"),o=e("./createTransitionManager"),L=i(o),D=e("./DOMUtils");function i(e){return e&&e.__esModule?e:{default:e}}var R="hashchange",I=function(){try{return window.history.state||{}}catch(e){return{}}};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,x.default)(D.canUseDOM,"Browser history needs a DOM");var s=window.history,l=(0,D.supportsHistory)(),t=!(0,D.supportsPopStateOnHashChange)(),r=e.forceRefresh,c=void 0!==r&&r,n=e.getUserConfirmation,a=void 0===n?D.getConfirmation:n,o=e.keyLength,i=void 0===o?6:o,u=e.basename?(0,M.stripTrailingSlash)((0,M.addLeadingSlash)(e.basename)):"",p=function(e){var t=e||{},r=t.key,n=t.state,a=window.location,o=a.pathname,i=a.search,s=a.hash,l=o+i+s;return(0,C.default)(!u||(0,M.hasBasename)(l,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+l+'" to begin with "'+u+'".'),u&&(l=(0,M.stripBasename)(l,u)),(0,A.createLocation)(l,n,r)},d=function(){return Math.random().toString(36).substr(2,i)},f=(0,L.default)(),m=function(e){N(T,e),T.length=s.length,f.notifyListeners(T.location,T.action)},h=function(e){(0,D.isExtraneousPopstateEvent)(e)||v(p(e.state))},y=function(){v(p(I()))},g=!1,v=function(t){g?(g=!1,m()):f.confirmTransitionTo(t,"POP",a,function(e){e?m({action:"POP",location:t}):b(t)})},b=function(e){var t=T.location,r=_.indexOf(t.key);-1===r&&(r=0);var n=_.indexOf(e.key);-1===n&&(n=0);var a=r-n;a&&(g=!0,k(a))},E=p(I()),_=[E.key],w=function(e){return u+(0,M.createPath)(e)},k=function(e){s.go(e)},j=0,P=function(e){j+=e,1===j?((0,D.addEventListener)(window,"popstate",h),t&&(0,D.addEventListener)(window,R,y)):0===j&&((0,D.removeEventListener)(window,"popstate",h),t&&(0,D.removeEventListener)(window,R,y))},O=!1,T={length:s.length,action:"POP",location:E,createHref:w,push:function(e,t){(0,C.default)(!("object"===("undefined"===typeof e?"undefined":S(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,A.createLocation)(e,t,d(),T.location);f.confirmTransitionTo(i,"PUSH",a,function(e){if(e){var t=w(i),r=i.key,n=i.state;if(l)if(s.pushState({key:r,state:n},null,t),c)window.location.href=t;else{var a=_.indexOf(T.location.key),o=_.slice(0,-1===a?0:a+1);o.push(i.key),_=o,m({action:"PUSH",location:i})}else(0,C.default)(void 0===n,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function(e,t){(0,C.default)(!("object"===("undefined"===typeof e?"undefined":S(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,A.createLocation)(e,t,d(),T.location);f.confirmTransitionTo(o,"REPLACE",a,function(e){if(e){var t=w(o),r=o.key,n=o.state;if(l)if(s.replaceState({key:r,state:n},null,t),c)window.location.replace(t);else{var a=_.indexOf(T.location.key);-1!==a&&(_[a]=o.key),m({action:"REPLACE",location:o})}else(0,C.default)(void 0===n,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:k,goBack:function(){return k(-1)},goForward:function(){return k(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=f.setPrompt(e);return O||(P(1),O=!0),function(){return O&&(O=!1,P(-1)),t()}},listen:function(e){var t=f.appendListener(e);return P(1),function(){P(-1),t()}}};return T}},{"./DOMUtils":"/root/repo/node_modules/history/DOMUtils.js","./LocationUtils":"/root/repo/node_modules/history/LocationUtils.js","./PathUtils":"/root/repo/node_modules/history/PathUtils.js","./createTransitionManager":"/root/repo/node_modules/history/createTransitionManager.js",invariant:"/root/repo/node_modules/invariant/browser.js",warning:"/root/repo/node_modules/history/node_modules/warning/browser.js"}],"/root/repo/node_modules/history/createHashHistory.js":[function(e,t,r){"use strict";r.__esModule=!0;var S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=e("warning"),N=i(n),a=e("invariant"),C=i(a),x=e("./LocationUtils"),A=e("./PathUtils"),o=e("./createTransitionManager"),M=i(o),L=e("./DOMUtils");function i(e){return e&&e.__esModule?e:{default:e}}var D="hashchange",R={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,A.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:A.stripLeadingSlash,decodePath:A.addLeadingSlash},slash:{encodePath:A.addLeadingSlash,decodePath:A.addLeadingSlash}},I=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},G=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,C.default)(L.canUseDOM,"Hash history needs a DOM");var t=window.history,r=(0,L.supportsGoWithoutReloadUsingHash)(),n=e.getUserConfirmation,a=void 0===n?L.getConfirmation:n,o=e.hashType,i=void 0===o?"slash":o,l=e.basename?(0,A.stripTrailingSlash)((0,A.addLeadingSlash)(e.basename)):"",s=R[i],c=s.encodePath,u=s.decodePath,p=function(){var e=u(I());return(0,N.default)(!l||(0,A.hasBasename)(e,l),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+l+'".'),l&&(e=(0,A.stripBasename)(e,l)),(0,x.createLocation)(e)},d=(0,M.default)(),f=function(e){S(T,e),T.length=t.length,d.notifyListeners(T.location,T.action)},m=!1,h=null,y=function(){var e=I(),t=c(e);if(e!==t)G(t);else{var r=p(),n=T.location;if(!m&&(0,x.locationsAreEqual)(n,r))return;if(h===(0,A.createPath)(r))return;h=null,g(r)}},g=function(t){m?(m=!1,f()):d.confirmTransitionTo(t,"POP",a,function(e){e?f({action:"POP",location:t}):v(t)})},v=function(e){var t=T.location,r=w.lastIndexOf((0,A.createPath)(t));-1===r&&(r=0);var n=w.lastIndexOf((0,A.createPath)(e));-1===n&&(n=0);var a=r-n;a&&(m=!0,k(a))},b=I(),E=c(b);b!==E&&G(E);var _=p(),w=[(0,A.createPath)(_)],k=function(e){(0,N.default)(r,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},j=0,P=function(e){j+=e,1===j?(0,L.addEventListener)(window,D,y):0===j&&(0,L.removeEventListener)(window,D,y)},O=!1,T={length:t.length,action:"POP",location:_,createHref:function(e){return"#"+c(l+(0,A.createPath)(e))},push:function(e,t){(0,N.default)(void 0===t,"Hash history cannot push state; it is ignored");var s=(0,x.createLocation)(e,void 0,void 0,T.location);d.confirmTransitionTo(s,"PUSH",a,function(e){if(e){var t,r=(0,A.createPath)(s),n=c(l+r),a=I()!==n;if(a){h=r,t=n,window.location.hash=t;var o=w.lastIndexOf((0,A.createPath)(T.location)),i=w.slice(0,-1===o?0:o+1);i.push(r),w=i,f({action:"PUSH",location:s})}else(0,N.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),f()}})},replace:function(e,t){(0,N.default)(void 0===t,"Hash history cannot replace state; it is ignored");var o=(0,x.createLocation)(e,void 0,void 0,T.location);d.confirmTransitionTo(o,"REPLACE",a,function(e){if(e){var t=(0,A.createPath)(o),r=c(l+t),n=I()!==r;n&&(h=t,G(r));var a=w.indexOf((0,A.createPath)(T.location));-1!==a&&(w[a]=t),f({action:"REPLACE",location:o})}})},go:k,goBack:function(){return k(-1)},goForward:function(){return k(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=d.setPrompt(e);return O||(P(1),O=!0),function(){return O&&(O=!1,P(-1)),t()}},listen:function(e){var t=d.appendListener(e);return P(1),function(){P(-1),t()}}};return T}},{"./DOMUtils":"/root/repo/node_modules/history/DOMUtils.js","./LocationUtils":"/root/repo/node_modules/history/LocationUtils.js","./PathUtils":"/root/repo/node_modules/history/PathUtils.js","./createTransitionManager":"/root/repo/node_modules/history/createTransitionManager.js",invariant:"/root/repo/node_modules/invariant/browser.js",warning:"/root/repo/node_modules/history/node_modules/warning/browser.js"}],"/root/repo/node_modules/history/createMemoryHistory.js":[function(e,t,r){"use strict";r.__esModule=!0;var y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=e("warning"),v=o(n),b=e("./PathUtils"),E=e("./LocationUtils"),a=e("./createTransitionManager"),_=o(a);function o(e){return e&&e.__esModule?e:{default:e}}var w=function(e,t,r){return Math.min(Math.max(e,t),r)};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getUserConfirmation,t=e.initialEntries,r=void 0===t?["/"]:t,a=e.initialIndex,o=void 0===a?0:a,i=e.keyLength,s=void 0===i?6:i,l=(0,_.default)(),c=function(e){g(h,e),h.length=h.entries.length,l.notifyListeners(h.location,h.action)},u=function(){return Math.random().toString(36).substr(2,s)},p=w(o,0,r.length-1),d=r.map(function(e){return"string"===typeof e?(0,E.createLocation)(e,void 0,u()):(0,E.createLocation)(e,void 0,e.key||u())}),f=b.createPath,m=function(e){var t=w(h.index+e,0,h.entries.length-1),r=h.entries[t];l.confirmTransitionTo(r,"POP",n,function(e){e?c({action:"POP",location:r,index:t}):c()})},h={length:d.length,action:"POP",location:d[p],index:p,entries:d,createHref:f,push:function(e,t){(0,v.default)(!("object"===("undefined"===typeof e?"undefined":y(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,E.createLocation)(e,t,u(),h.location);l.confirmTransitionTo(a,"PUSH",n,function(e){if(e){var t=h.index,r=t+1,n=h.entries.slice(0);n.length>r?n.splice(r,n.length-r,a):n.push(a),c({action:"PUSH",location:a,index:r,entries:n})}})},replace:function(e,t){(0,v.default)(!("object"===("undefined"===typeof e?"undefined":y(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,E.createLocation)(e,t,u(),h.location);l.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(h.entries[h.index]=r,c({action:"REPLACE",location:r}))})},go:m,goBack:function(){return m(-1)},goForward:function(){return m(1)},canGo:function(e){var t=h.index+e;return t>=0&&t<h.entries.length},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return h}},{"./LocationUtils":"/root/repo/node_modules/history/LocationUtils.js","./PathUtils":"/root/repo/node_modules/history/PathUtils.js","./createTransitionManager":"/root/repo/node_modules/history/createTransitionManager.js",warning:"/root/repo/node_modules/history/node_modules/warning/browser.js"}],"/root/repo/node_modules/history/createTransitionManager.js":[function(e,t,r){"use strict";r.__esModule=!0;var n,a=e("warning"),i=(n=a,n&&n.__esModule?n:{default:n});r.default=function(){var o=null,n=[];return{setPrompt:function(e){return(0,i.default)(null==o,"A history supports only one prompt at a time"),o=e,function(){o===e&&(o=null)}},confirmTransitionTo:function(e,t,r,n){if(null!=o){var a="function"===typeof o?o(e,t):o;"string"===typeof a?"function"===typeof r?r(a,n):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),n(!0)):n(!1!==a)}else n(!0)},appendListener:function(e){var t=!0,r=function(){t&&e.apply(void 0,arguments)};return n.push(r),function(){t=!1,n=n.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach(function(e){return e.apply(void 0,t)})}}}},{warning:"/root/repo/node_modules/history/node_modules/warning/browser.js"}],"/root/repo/node_modules/history/index.js":[function(e,t,r){"use strict";r.__esModule=!0,r.createPath=r.parsePath=r.locationsAreEqual=r.createLocation=r.createMemoryHistory=r.createHashHistory=r.createBrowserHistory=void 0;var n=e("./LocationUtils");Object.defineProperty(r,"createLocation",{enumerable:!0,get:function(){return n.createLocation}}),Object.defineProperty(r,"locationsAreEqual",{enumerable:!0,get:function(){return n.locationsAreEqual}});var a=e("./PathUtils");Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return a.parsePath}}),Object.defineProperty(r,"createPath",{enumerable:!0,get:function(){return a.createPath}});var o=e("./createBrowserHistory"),i=p(o),s=e("./createHashHistory"),l=p(s),c=e("./createMemoryHistory"),u=p(c);function p(e){return e&&e.__esModule?e:{default:e}}r.createBrowserHistory=i.default,r.createHashHistory=l.default,r.createMemoryHistory=u.default},{"./LocationUtils":"/root/repo/node_modules/history/LocationUtils.js","./PathUtils":"/root/repo/node_modules/history/PathUtils.js","./createBrowserHistory":"/root/repo/node_modules/history/createBrowserHistory.js","./createHashHistory":"/root/repo/node_modules/history/createHashHistory.js","./createMemoryHistory":"/root/repo/node_modules/history/createMemoryHistory.js"}],"/root/repo/node_modules/history/node_modules/warning/browser.js":[function(e,t,r){"use strict";var n=function(){};t.exports=n},{}],"/root/repo/node_modules/invariant/browser.js":[function(e,t,r){"use strict";t.exports=function(e,t,r,n,a,o,i,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,a,o,i,s],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}},{}],"/root/repo/node_modules/object-assign/index.js":[function(e,t,r){"use strict";var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var i in r=Object(arguments[o]),r)c.call(r,i)&&(a[i]=r[i]);if(l){n=l(r);for(var s=0;s<n.length;s++)u.call(r,n[s])&&(a[n[s]]=r[n[s]])}}return a}},{}],"/root/repo/node_modules/process/browser.js":[function(e,t,r){var n,a,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{a="function"===typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var c,u=[],p=!1,d=-1;function f(){p&&c&&(p=!1,c.length?u=c.concat(u):d=-1,u.length&&m())}function m(){if(!p){var e=l(f);p=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,p=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||p||l(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],"/root/repo/node_modules/prop-types/checkPropTypes.js":[function(e,t,r){"use strict";t.exports=function(e,t,r,n,a){}},{"./lib/ReactPropTypesSecret":"/root/repo/node_modules/prop-types/lib/ReactPropTypesSecret.js"}],"/root/repo/node_modules/prop-types/factoryWithThrowingShims.js":[function(e,t,r){"use strict";var s=e("./lib/ReactPropTypesSecret");function n(){}t.exports=function(){function e(e,t,r,n,a,o){if(o!==s){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},{"./lib/ReactPropTypesSecret":"/root/repo/node_modules/prop-types/lib/ReactPropTypesSecret.js"}],"/root/repo/node_modules/prop-types/factoryWithTypeCheckers.js":[function(e,t,r){"use strict";var h=e("object-assign"),y=e("./lib/ReactPropTypesSecret"),a=e("./checkPropTypes"),g=function(){};function v(){return null}t.exports=function(s,c){var o="function"===typeof Symbol&&Symbol.iterator,i="@@iterator";var u="<<anonymous>>",e={array:t("array"),bool:t("boolean"),func:t("function"),number:t("number"),object:t("object"),string:t("string"),symbol:t("symbol"),any:r(v),arrayOf:function(c){return r(function(e,t,r,n,a){if("function"!==typeof c)return new d("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var o=e[t];if(!Array.isArray(o)){var i=f(o);return new d("Invalid "+n+" `"+a+"` of type `"+i+"` supplied to `"+r+"`, expected an array.")}for(var s=0;s<o.length;s++){var l=c(o,s,r,n,a+"["+s+"]",y);if(l instanceof Error)return l}return null})},element:r(function(e,t,r,n,a){var o=e[t];if(s(o))return null;var i=f(o);return new d("Invalid "+n+" `"+a+"` of type `"+i+"` supplied to `"+r+"`, expected a single ReactElement.")}),instanceOf:function(l){return r(function(e,t,r,n,a){if(e[t]instanceof l)return null;var o=l.name||u,i=(s=e[t],s.constructor&&s.constructor.name?s.constructor.name:u);var s;return new d("Invalid "+n+" `"+a+"` of type `"+i+"` supplied to `"+r+"`, expected instance of `"+o+"`.")})},node:r(function(e,t,r,n,a){return l(e[t])?null:new d("Invalid "+n+" `"+a+"` supplied to `"+r+"`, expected a ReactNode.")}),objectOf:function(c){return r(function(e,t,r,n,a){if("function"!==typeof c)return new d("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var o=e[t],i=f(o);if("object"!==i)return new d("Invalid "+n+" `"+a+"` of type `"+i+"` supplied to `"+r+"`, expected an object.");for(var s in o)if(o.hasOwnProperty(s)){var l=c(o,s,r,n,a+"."+s,y);if(l instanceof Error)return l}return null})},oneOf:function(l){if(!Array.isArray(l))return v;return r(function(e,t,r,n,a){for(var o=e[t],i=0;i<l.length;i++)if(p(o,l[i]))return null;var s=JSON.stringify(l);return new d("Invalid "+n+" `"+a+"` of value `"+o+"` supplied to `"+r+"`, expected one of "+s+".")})},oneOfType:function(s){if(!Array.isArray(s))return v;for(var e=0;e<s.length;e++){var t=s[e];if("function"!==typeof t)return g("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+n(t)+" at index "+e+"."),v}return r(function(e,t,r,n,a){for(var o=0;o<s.length;o++){var i=s[o];if(null==i(e,t,r,n,a,y))return null}return new d("Invalid "+n+" `"+a+"` supplied to `"+r+"`.")})},shape:function(u){return r(function(e,t,r,n,a){var o=e[t],i=f(o);if("object"!==i)return new d("Invalid "+n+" `"+a+"` of type `"+i+"` supplied to `"+r+"`, expected `object`.");for(var s in u){var l=u[s];if(l){var c=l(o,s,r,n,a+"."+s,y);if(c)return c}}return null})},exact:function(p){return r(function(e,t,r,n,a){var o=e[t],i=f(o);if("object"!==i)return new d("Invalid "+n+" `"+a+"` of type `"+i+"` supplied to `"+r+"`, expected `object`.");var s=h({},e[t],p);for(var l in s){var c=p[l];if(!c)return new d("Invalid "+n+" `"+a+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(p),null,"  "));var u=c(o,l,r,n,a+"."+l,y);if(u)return u}return null})}};function p(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function d(e){this.message=e,this.stack=""}function r(l){function e(e,t,r,n,a,o,i){if((n=n||u,o=o||r,i!==y)&&c){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}return null==t[r]?e?null===t[r]?new d("The "+a+" `"+o+"` is marked as required in `"+n+"`, but its value is `null`."):new d("The "+a+" `"+o+"` is marked as required in `"+n+"`, but its value is `undefined`."):null:l(t,r,n,a,o)}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function t(c){return r(function(e,t,r,n,a,o){var i=e[t],s=f(i);if(s===c)return null;var l=m(i);return new d("Invalid "+n+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `"+c+"`.")})}function l(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(l);if(null===e||s(e))return!0;var t=function(e){var t=e&&(o&&e[o]||e[i]);if("function"===typeof t)return t}(e);if(!t)return!1;var r,n=t.call(e);if(t!==e.entries){for(;!(r=n.next()).done;)if(!l(r.value))return!1}else for(;!(r=n.next()).done;){var a=r.value;if(a&&!l(a[1]))return!1}return!0;default:return!1}}function f(e){var t,r,n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=n,r=e,"symbol"===t||"Symbol"===r["@@toStringTag"]||"function"===typeof Symbol&&r instanceof Symbol?"symbol":n)}function m(e){if("undefined"===typeof e||null===e)return""+e;var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function n(e){var t=m(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return d.prototype=Error.prototype,e.checkPropTypes=a,e.PropTypes=e,e}},{"./checkPropTypes":"/root/repo/node_modules/prop-types/checkPropTypes.js","./lib/ReactPropTypesSecret":"/root/repo/node_modules/prop-types/lib/ReactPropTypesSecret.js","object-assign":"/root/repo/node_modules/object-assign/index.js"}],"/root/repo/node_modules/prop-types/index.js":[function(e,t,r){t.exports=e("./factoryWithThrowingShims")()},{"./factoryWithThrowingShims":"/root/repo/node_modules/prop-types/factoryWithThrowingShims.js","./factoryWithTypeCheckers":"/root/repo/node_modules/prop-types/factoryWithTypeCheckers.js"}],"/root/repo/node_modules/prop-types/lib/ReactPropTypesSecret.js":[function(e,t,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],"/root/repo/node_modules/resolve-pathname/cjs/index.js":[function(e,t,r){"use strict";function f(e){return"/"===e.charAt(0)}function m(e,t){for(var r=t,n=r+1,a=e.length;n<a;r+=1,n+=1)e[r]=e[n];e.pop()}r.__esModule=!0,r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e&&e.split("/")||[],n=t&&t.split("/")||[],a=e&&f(e),o=t&&f(t),i=a||o;if(e&&f(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var s=void 0;if(n.length){var l=n[n.length-1];s="."===l||".."===l||""===l}else s=!1;for(var c=0,u=n.length;u>=0;u--){var p=n[u];"."===p?m(n,u):".."===p?(m(n,u),c++):c&&(m(n,u),c--)}if(!i)for(;c--;c)n.unshift("..");!i||""===n[0]||n[0]&&f(n[0])||n.unshift("");var d=n.join("/");return s&&"/"!==d.substr(-1)&&(d+="/"),d},t.exports=r.default},{}],"/root/repo/node_modules/value-equal/cjs/index.js":[function(e,t,r){"use strict";r.__esModule=!0;var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.default=function r(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(e,t){return r(e,n[t])});var e="undefined"===typeof t?"undefined":c(t),a="undefined"===typeof n?"undefined":c(n);if(e!==a)return!1;if("object"!==e)return!1;var o=t.valueOf(),i=n.valueOf();if(o!==t||i!==n)return r(o,i);var s=Object.keys(t),l=Object.keys(n);return s.length===l.length&&s.every(function(e){return r(t[e],n[e])})},t.exports=r.default},{}]},{},["/root/repo/app/assets/scripts/main.js"]);