(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{28238:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/[slug]",function(){return t(13975)}])},13975:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return ei},default:function(){return ec}});var n=t(85893),a=t(65079),l=t(22338),s=t(96702),o=t(41296),i=t(57747),c=t(22757),d=t(14e3),u=t(79078),x=t(49289),h=t(89734),m=t.n(h),g=t(11628),p=t(67294),j=t(41731),f=t(11163),y=t(64529),k=t(11752),v=t.n(k),b=t(9089);let{publicRuntimeConfig:M}=v()(),w=M.basePath;function S(e,r){let t=r.filter(e=>e.indicators).flatMap(e=>e.indicators.filter(e=>e.domain).map(e=>({indicator:e.indicator,...e.domain})));return e.map(e=>{let r=t.filter(r=>r.indicator.toLowerCase()===e.indicator.toLowerCase()),n=(0,b.Z)(r.flatMap(e=>e.x)),a=(0,b.Z)(r.flatMap(e=>e.y));return{...e,x:n,y:[Math.min(0,Math.floor(a[0])),Math.ceil(a[1])]}})}let C=(0,y.Ue)((e,r)=>({currentMarket:{},setCurrentMarket:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nl",n=r().currentMarket.iso;if(n===t)return;let a=await g.HS.json()("".concat(w,"/data/markets/").concat(t,".json")),l=S(r().domains,[a,...r().comparisonMarkets]);e({currentMarket:a,domains:l})},comparisonMarkets:[{},{}],setComparisonMarkets:async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t){e(e=>{let t=e.comparisonMarkets.reduce((e,r,t)=>t===n?[...e,{}]:[...e,r],[]),a=S(r().domains,[r().currentMarket,...t]);return{comparisonMarkets:t,domains:a}});return}let a=await g.HS.json()("".concat(w,"/data/markets/").concat(t,".json"));e(e=>{let t=e.comparisonMarkets.reduce((e,r,t)=>t===n?[...e,a]:t===n?a?[...e,a]:e:[...e,r],[]),l=S(r().domains,[r().currentMarket,...t]);return{comparisonMarkets:t,domains:l}})},domains:[{indicator:"Electricity Prices",x:[0,0],y:[0,0]},{indicator:"Installed capacity",x:[0,0],y:[0,0]},{indicator:"Cumulative generation",x:[0,0],y:[0,0]},{indicator:"Investment Clean energy",x:[0,0],y:[0,0]}]}));var W=t(7739),z=t.n(W),_=t(24491),E=t(44446),F=t(86492),P=t(65386),R=t(48940),T=t(27239),A=t(68249),I=e=>{let{data:r,sector:t,compact:a}=e,{colors:l}=(0,R.F)(),o=r.filter(e=>e.sector===t).map(e=>({text:e.policy,isSelected:"Available"===e.answer.trim()}));return o.length?(0,n.jsxs)(s.K,{spacing:6,children:[(0,n.jsx)(c.X,{fontSize:"xl",children:"".concat(t," policies")}),(0,n.jsx)(_.Z,{columns:a?1:[1,2,null,3],gridColumnGap:5,gridRowGap:5,children:o.length&&o.map((e,r)=>{let{text:t,isSelected:a}=e;return(0,n.jsxs)(i.xu,{position:"relative",p:4,border:"0.125rem solid",borderRadius:"md",fontWeight:600,lineHeight:"shorter",style:{color:a?l.purple[900]:l.gray[700],background:a?l.purple[100]:l.gray[50],borderColor:a?l.purple[500]:l.gray[50]},children:[(0,n.jsx)(T.M,{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)",w:"1.75rem",h:"1.75rem",bg:"gray.200",borderRadius:"full",border:"0.125rem solid white",color:"white",children:(0,n.jsx)(A.Tw,{size:"1.25rem"})}),t,a&&(0,n.jsx)(T.M,{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)",w:"1.75rem",h:"1.75rem",bg:"purple.500",borderRadius:"full",border:"0.125rem solid white",color:"white",children:(0,n.jsx)(A.nQ,{size:"1.25rem"})})]},r)})})]}):(0,n.jsx)(i.xu,{p:4,bg:"gray.50",textAlign:"center",borderRadius:"md",children:"No ".concat(t.toLowerCase()," policies")})};let L=e=>null==e?void 0:e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1}),Z=e=>null==e?void 0:e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1});var G=e=>{let{slot:r="reference",...t}=e,a=r&&"reference"!==r?0:[-3,null,-4,null,-5],l=r&&1!==r?0:[-3,null,-4,null,-5],s=r?["calc(100% + 0.75rem)",null,"calc(100% + 1rem)",null,"calc(100% + 1.25rem)"]:["calc(100% + 1.5rem)",null,"calc(100% + 2rem)",null,"calc(100% + 2.5rem)"];return(0,n.jsx)(i.xu,{children:(0,n.jsx)(x.i,{mr:a,ml:l,w:s,...t})})},H=t(96854),K=t(12054),N=e=>{let{slot:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(G,{slot:r}),(0,n.jsxs)(_.Z,{columns:2,px:5,children:[(0,n.jsxs)(s.K,{spacing:1,children:[(0,n.jsx)(c.X,{textTransform:"uppercase",fontSize:"xs",color:"gray.500",isTruncated:!0,children:"Global rank"}),(0,n.jsx)(H.O,{h:"1.625rem",startColor:"gray.50",endColor:"gray.100"})]}),(0,n.jsxs)(s.K,{spacing:1,children:[(0,n.jsx)(c.X,{textTransform:"uppercase",fontSize:"xs",color:"gray.500",isTruncated:!0,children:"Global score"}),(0,n.jsx)(H.O,{h:"1.625rem",startColor:"gray.50",endColor:"gray.100"})]})]}),(0,n.jsx)(G,{slot:r}),(0,n.jsxs)(s.K,{px:5,spacing:10,children:[(0,n.jsx)(H.O,{alignSelf:"flex-start",w:"4rem",h:"3rem",startColor:"gray.50",endColor:"gray.100"}),(0,n.jsx)(T.M,{children:(0,n.jsx)(K.s,{w:"14rem",h:"14rem",startColor:"gray.50",endColor:"gray.100"})})]})]})},O=e=>{let{market:r,allMarkets:t,slot:a="reference"}=e,l=C(e=>e.domains);if(!r||!r.name)return(0,n.jsx)(N,{slot:a});let o=r.indicators||[],u=z()(o.filter(e=>e.indicator&&(e.subindicators||e.data)),e=>e.indicator.toLowerCase().split(" ").join("_"))||{},{electricity_prices:x,cumulative_generation:h,installed_capacity:m,investment_clean_energy:g}=u,p=g?{indicator:"Investment",subindicators:g.map(e=>({subindicator:e.indicator,units:"M USD",data:e.data}))}:null,j={power:L(r.sectors[0].data[0].value),global:"1.00",transport:"1.00",buildings:"1.00"};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(G,{slot:a}),(0,n.jsxs)(_.Z,{columns:2,px:5,children:[(0,n.jsxs)(s.K,{spacing:1,children:[(0,n.jsx)(c.X,{textTransform:"uppercase",fontSize:"xs",color:"gray.500",isTruncated:!0,children:"Power rank"}),(0,n.jsxs)(d.x,{fontSize:"xl",fontWeight:700,lineHeight:"shorter",children:[Z(r.sectors[0].data[0].rank),(0,n.jsx)(d.x,{color:"gray.500",as:"span",lineHeight:"inherit",children:"/".concat(t.length)})]})]}),(0,n.jsxs)(s.K,{spacing:1,children:[(0,n.jsx)(c.X,{textTransform:"uppercase",fontSize:"xs",color:"gray.500",isTruncated:!0,children:"Power score"}),(0,n.jsxs)(d.x,{fontSize:"xl",fontWeight:700,lineHeight:"shorter",children:[j.power,(0,n.jsx)(d.x,{color:"gray.500",as:"span",lineHeight:"inherit",children:"/5"})]})]})]}),(0,n.jsx)(G,{slot:a}),(0,n.jsxs)(s.K,{px:5,spacing:10,alignItems:"center",children:[(0,n.jsx)(d.x,{fontSize:"2xl",fontWeight:600,textAlign:"center",children:"Power"}),(0,n.jsx)(E.Z,{sector:"power",market:r,padding:40,maxWidth:"14rem"}),(0,n.jsx)(d.x,{fontSize:"md",lineHeight:"shorter",fontWeight:600,color:"gray.500",textAlign:"center",children:j.power&&"".concat(j.power,"/5")})]}),(0,n.jsx)(G,{slot:a}),(0,n.jsx)(i.xu,{children:(0,n.jsx)(I,{data:r.policies,sector:"Power",compact:!0})}),(0,n.jsx)(G,{slot:a}),(0,n.jsx)(i.xu,{children:x&&x[0]?(0,n.jsx)(P.Z,{data:x&&x[0]||null,domainX:l[0].x,domainY:l[0].y}):(0,n.jsx)(X,{title:"Electricity Prices"})}),(0,n.jsx)(G,{slot:a}),(0,n.jsx)(i.xu,{children:m&&m[0]?(0,n.jsx)(F.Z,{data:m&&m[0]||null,domainX:l[1].x,domainY:l[1].y}):(0,n.jsx)(X,{title:"Installed Capacity"})}),(0,n.jsx)(G,{slot:a}),(0,n.jsx)(i.xu,{children:h&&h[0]?(0,n.jsx)(F.Z,{data:h&&h[0]||null,domainX:l[2].x,domainY:l[2].y}):(0,n.jsx)(X,{title:"Electricity Generation"})}),(0,n.jsx)(G,{slot:a}),(0,n.jsx)(i.xu,{children:p?(0,n.jsx)(P.Z,{data:p,domainX:l[3].x,domainY:l[3].y}):(0,n.jsx)(X,{title:"Investment"})}),(0,n.jsx)(G,{slot:a}),(0,n.jsx)(i.xu,{children:(0,n.jsx)(I,{data:r.policies,sector:"Transport",compact:!0})})]})};function X(e){let{title:r="Chart placeholder"}=e;return(0,n.jsxs)(s.K,{spacing:5,children:[(0,n.jsx)(c.X,{fontSize:"xl",color:"gray.200",children:r}),(0,n.jsx)("svg",{viewBox:"0 0 16 9"})]})}let D=e=>{let{allMarkets:r}=e,t=(0,f.useRouter)(),a=C(e=>e.currentMarket),l=C(e=>e.setCurrentMarket),{market:s}=t.query;(0,p.useEffect)(()=>{(s||!a.iso)&&l(s)},[s]);let o=a.iso||"";return(0,n.jsx)(j.P,{size:"lg",variant:"filled",colorScheme:"gray",fontWeight:600,bg:"gray.50",_focus:{boxShadow:"outline"},value:o,onChange:e=>{t.replace("/tools/geography-comparison"),l(e.target.value)},children:r.map(e=>{let{iso:r,name:t}=e;return(0,n.jsx)("option",{value:r,children:t},r)})})},U=e=>{let{allMarkets:r}=e,t=C(e=>e.currentMarket);return(0,n.jsx)(O,{market:t,allMarkets:r,slot:"reference"})},B=e=>{let{allMarkets:r,slot:t=0}=e,a=C(e=>e.currentMarket),l=C(e=>e.comparisonMarkets),s=l[t],o=C(e=>e.setComparisonMarkets),i=s.iso||"",c=t?!l[0].name:!a.name;return(0,n.jsxs)(j.P,{size:"lg",variant:"filled",colorScheme:"gray",fontWeight:600,bg:"gray.50",_focus:{boxShadow:"outline"},value:i,onChange:e=>{o(e.target.value,t)},isDisabled:c,children:[(0,n.jsx)("option",{value:"",children:"Select a market"}),a.similar&&(0,n.jsx)("optgroup",{label:"Suggested markets",children:a.similar.map(e=>{let{iso:r,name:t}=e;return(0,n.jsx)("option",{value:r.toLowerCase(),children:t},"suggested-".concat(r))})}),(0,n.jsx)("optgroup",{label:"All markets",children:r.map(e=>{let{iso:r,name:t}=e;return(0,n.jsx)("option",{value:r.toLowerCase(),children:t},r)})})]})},V=e=>{let{allMarkets:r,slot:t=0}=e,a=C(e=>e.comparisonMarkets[t]);return(0,n.jsx)(O,{market:a,allMarkets:r,slot:t})};var Y=()=>{let{data:e}=(0,g.WP)("/data/results-2023.json",{},e=>m()(e,e=>e.name)),r=e||[];return(0,n.jsx)(i.xu,{children:(0,n.jsxs)(u.r,{gridTemplateColumns:["1fr",null,"1fr 0.0625rem 1fr","1fr 0.0625rem 1fr 0.0625rem 1fr"],gridColumnGap:[3,null,4,null,5],gridTemplateRows:"9.6875rem auto",children:[(0,n.jsxs)(s.K,{spacing:5,gridRow:"1 / -1",pb:5,children:[(0,n.jsx)(D,{allMarkets:r}),(0,n.jsx)(U,{allMarkets:r})]}),(0,n.jsx)(x.i,{orientation:"vertical",bg:"gray.100",gridRow:"2 / -1",display:["none",null,"block"]}),(0,n.jsxs)(s.K,{spacing:5,gridRow:"1 / -1",pb:5,display:["none",null,"flex"],children:[(0,n.jsx)(B,{allMarkets:r,slot:0}),(0,n.jsx)(V,{slot:0,allMarkets:r})]}),(0,n.jsx)(x.i,{orientation:"vertical",bg:"gray.100",gridRow:"2 / -1",display:["none",null,null,"block"]}),(0,n.jsxs)(s.K,{spacing:5,gridRow:"1 / -1",pb:5,display:["none",null,null,"flex"],children:[(0,n.jsx)(B,{allMarkets:r,slot:1}),(0,n.jsx)(V,{slot:1,allMarkets:r})]})]})})},q=t(34292),Q=t(5674);let J=(0,y.Ue)(e=>({selectedMarket:"nl",hoveredMarket:"",setSelectedMarket:r=>e({selectedMarket:r}),setHoveredMarket:r=>e({hoveredMarket:r}),selectedMarketGroup:"",setSelectedMarketGroup:r=>e({selectedMarketGroup:r}),selectedRegion:"",setSelectedRegion:r=>e({selectedRegion:r})})),$=[{key:"",label:"All markets"},{key:"emerging",label:"Emerging markets"},{key:"developed",label:"Developed markets"}];function ee(e){let{market:r}=e,{colors:t}=(0,R.F)(),a=J(e=>e.selectedMarket),l=J(e=>e.hoveredMarket),s=a===r.iso,o=l===r.iso,i=J(e=>e.setSelectedMarket),c=J(e=>e.setHoveredMarket);return(0,n.jsx)(T.M,{h:"1rem",style:{background:s?t.teal[700]:o?t.gray[300]:t.gray[100],zIndex:s?3:o?2:1},cursor:"pointer",onMouseEnter:()=>{c(r.iso)},onMouseLeave:()=>{c("")},onClick:()=>{i(a===r.iso?"":r.iso)},children:(s||o)&&(0,n.jsx)(T.M,{w:"2.5rem",h:"2.5rem",bg:"teal.700",color:"white",borderRadius:"full",fontWeight:600,style:{display:s||o?"flex":"none",background:s?t.teal[700]:t.gray[300]},children:r.rank})})}function er(e){let{market:r}=e,{colors:t}=(0,R.F)(),a=J(e=>e.hoveredMarket),l=J(e=>e.selectedMarket),s=J(e=>e.setSelectedMarket),o=J(e=>e.setHoveredMarket),c=l===r.iso,d=a===r.iso;return(0,n.jsxs)(q.U,{h:"1rem",cursor:"pointer",onMouseEnter:()=>{o(r.iso)},onMouseLeave:()=>{o("")},onClick:()=>{s(l===r.iso?"":r.iso)},style:{color:c?t.teal[700]:d?t.gray[800]:t.gray[500],background:d?t.gray[100]:"white"},children:[(0,n.jsx)(i.xu,{fontSize:"xs",textTransform:"uppercase",fontWeight:600,flex:"none",children:r.rank}),(0,n.jsxs)(i.xu,{fontSize:"xs",textTransform:"uppercase",fontWeight:600,flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:[r.geography||r.iso,r.isNew?"*":""]}),(0,n.jsx)(i.xu,{fontSize:"xs",fontWeight:600,flex:"none",children:r.latestScoreValue.toLocaleString("en-us",{minimumFractionDigits:2})})]})}function et(e){let{data:r,regions:t}=e,a=J(e=>e.selectedRegion),l=J(e=>e.setSelectedRegion),o=J(e=>e.selectedMarketGroup),c=J(e=>e.setSelectedMarketGroup),{years:u,newMarkets:x}=(0,p.useMemo)(()=>{let e=[2021,2022,2023].map(e=>{let t=r.map(r=>({...r,rank:r[e]||0})).filter(e=>e.rank&&(!a||e.regionName===a)&&(!o||e.market===o)),n=m()(t,e=>e.rank).map((e,r)=>({...e,rank:r+1}));return{year:e,markets:n}}),t=r.filter(e=>e.isNew);return{years:e,newMarkets:t}},[a,o]);return(0,n.jsxs)(i.xu,{children:[(0,n.jsxs)(q.U,{spacing:3,mb:3,children:[(0,n.jsx)(i.xu,{color:"gray.500",fontWeight:600,children:"Filter by"}),(0,n.jsx)(i.xu,{children:(0,n.jsx)(j.P,{value:a,onChange:e=>{l(e.target.value)},variant:"filled",colorScheme:"gray",children:t.map(e=>(0,n.jsx)("option",{value:e,children:e||"All regions"},e))})}),(0,n.jsx)(i.xu,{children:(0,n.jsx)(j.P,{value:o,onChange:e=>{c(e.target.value)},variant:"filled",colorScheme:"gray",children:$.map(e=>(0,n.jsx)("option",{value:e.key,children:e.label},e.key))})})]}),(0,n.jsxs)(Q.M,{columns:4,position:"sticky",top:0,zIndex:10,bg:"white",mb:3,children:[u.map(e=>{let{year:r}=e;return(0,n.jsx)(T.M,{h:"3rem",fontWeight:600,borderBottom:"0.125rem solid",borderColor:"gray.200",children:r},r)}),(0,n.jsxs)(q.U,{spacing:3,h:"3rem",fontWeight:600,borderBottom:"0.125rem solid",borderColor:"gray.200",justifyContent:"space-between",children:[(0,n.jsx)(i.xu,{children:"2023 Rank"}),(0,n.jsx)(i.xu,{children:"2023 Score"})]})]}),(0,n.jsxs)(Q.M,{columns:4,children:[u.map(e=>{let{year:r,markets:t}=e;return(0,n.jsx)(s.K,{spacing:1,children:t.map(e=>(0,n.jsx)(ee,{market:e},e.iso))},r)}),(0,n.jsx)(s.K,{spacing:1,children:u.slice(-1)[0].markets.map(e=>(0,n.jsx)(er,{market:e},e.iso))})]}),(0,n.jsx)(d.x,{mt:5,fontSize:"sm",lineHeight:"short",fontWeight:600,color:"gray.500",children:"*".concat(x.map((e,r)=>(r===x.length-1?" and ":"")+e.geography).join(", ")," were added to the Climatescope power ranking in 2023. They do not have scores and ranks for the previous years.")})]})}let{publicRuntimeConfig:en}=v()(),ea=en.basePath;function el(){let{data:e}=(0,g.WP)("".concat(ea,"/data/ranks-over-time.json")),r=m()(["",...Object.keys(z()(e,e=>e.regionName)).filter(e=>e)]);return(0,n.jsx)("div",{children:(null==e?void 0:e.length)&&(0,n.jsx)(et,{data:e,regions:r})})}var es=()=>((0,p.useEffect)(()=>{var e=document.getElementById("viz1701216492462").getElementsByTagName("object")[0];e.style.width="100%",e.style.height="1027px";var r=document.createElement("script");r.src="https://public.tableau.com/javascripts/api/viz_v1.js",e.parentNode.insertBefore(r,e)},[]),(0,n.jsx)("div",{className:"tableauPlaceholder",id:"viz1701216492462",style:{position:"relative",width:"100%"},children:(0,n.jsxs)("object",{className:"tableauViz",style:{display:"none"},children:[(0,n.jsx)("param",{name:"host_url",value:"https%3A%2F%2Fpublic.tableau.com%2F"}),(0,n.jsx)("param",{name:"embed_code_version",value:"3"}),(0,n.jsx)("param",{name:"site_root",value:""}),(0,n.jsx)("param",{name:"name",value:"EnergyCapacityGenerationinEmergingMarkets_17011920152870/CapacityGeneration"}),(0,n.jsx)("param",{name:"tabs",value:"no"}),(0,n.jsx)("param",{name:"toolbar",value:"yes"}),(0,n.jsx)("param",{name:"animate_transition",value:"yes"}),(0,n.jsx)("param",{name:"display_static_image",value:"yes"}),(0,n.jsx)("param",{name:"display_spinner",value:"yes"}),(0,n.jsx)("param",{name:"display_overlay",value:"yes"}),(0,n.jsx)("param",{name:"display_count",value:"yes"}),(0,n.jsx)("param",{name:"language",value:"en-GB"})]})})),eo={RankOverTime:e=>(0,n.jsx)(i.xu,{w:"100%",children:(0,n.jsx)(el,{...e})}),GeographyComparison:e=>(0,n.jsx)(i.xu,{w:"100%",children:(0,n.jsx)(Y,{...e})}),TableauWidget:e=>(0,n.jsx)(i.xu,{w:"100%",children:(0,n.jsx)(es,{...e})}),h1:e=>(0,n.jsx)(c.X,{as:"h1",w:"100%",fontSize:["3xl",null,"5xl"],maxW:"container.sm",sx:{"h1 + p":{fontSize:["lg",null,"2xl"],lineHeight:"short",fontWeight:500}},...e}),p:e=>(0,n.jsx)(d.x,{as:"p",w:"100%",variant:"subtitle",maxW:"container.sm",sx:{a:{color:"teal.700",_hover:{textDecoration:"underline"},_focus:{textDecoration:"underline"}}},...e})},ei=!0;function ec(e){let{source:r}=e,{frontmatter:t}=r,i="centered"===t.layout;return(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{...t}),(0,n.jsx)(l.W,{as:"main",children:(0,n.jsx)(s.K,{spacing:10,pt:10,pb:20,alignItems:i?"center":"flex-start",textAlign:i?"center":"left",children:(0,n.jsx)(a.R,{...r,components:eo})})})]})}},44446:function(e,r,t){"use strict";var n=t(85893),a=t(67294),l=t(42770),s=t(168),o=t(10233),i=t(14119),c=t(93587),d=t(48940),u=t(57747),x=t(32568),h=t(96702),m=t(14e3),g=t(57171),p=t(23279),j=t.n(p);let f=["fundamentals","opportunities","experience"],y=e=>{let{market:r,sector:t="power",max:p=5,size:j=300,strokeWidth:y=1,colorScheme:k="brand",dotSize:v,padding:b=0,maxWidth:M="12rem"}=e,{colors:w}=(0,d.F)(),S=j+b,[C,W]=(0,a.useState)({}),{topics:z}=r,_=Math.floor(p),E=2*Math.PI,F=(0,a.useMemo)(()=>{let e="all"===t?["power","transport","buildings"].map((e,r)=>f.map((t,n)=>({id:"".concat(e.split(" ").join("-"),"-").concat(t),x:3*r+n,y:0}))).flat():f.map((e,r)=>({id:"".concat(t.split(" ").join("-"),"-").concat(e),x:r,y:0}));return e.map(r=>{let t=z.find(e=>e.id===r.id),n=E/e.length*r.x;return{id:r.id,name:t.name,sector:t.sector,x:n,y:t.data[0].value||0}})},[z,E,t,j]),P=(0,a.useCallback)((0,c.Z)().domain([0,p]).range([0,j/2]),[p,j]),R=(0,a.useCallback)((0,l.Z)().angle(e=>e.x).radius(e=>P(e.y)).curve(s.Z),[P]),T=(0,a.useMemo)(()=>R(F),[F]),A=(0,a.useMemo)(()=>F.map((e,r)=>{let t=2*Math.PI/F.length*r,n=P(e.y)*Math.cos(t-Math.PI/2),a=2*Math.PI/F.length*r,l=P(e.y)*Math.sin(a-Math.PI/2);return{...e,cx:n,cy:l}}),[P,F]),I=(0,a.useMemo)(()=>F.map((e,r)=>{let t=2*Math.PI/F.length*r,n=P(_)*Math.cos(t-Math.PI/2),a=2*Math.PI/F.length*r,l=P(_)*Math.sin(a-Math.PI/2);return{key:r,x1:0,y1:0,x2:n,y2:l,label:e.name}}),[P,F,_]),L=(0,a.useMemo)(()=>Array(_).fill(1).map((e,r)=>({key:r+e,r:P(r+e)})),[P,_]),Z=(0,a.useMemo)(()=>{let e=(0,o.Z)().innerRadius(0).outerRadius(j/2),r=F.map(e=>({value:1,label:e.name,sector:e.sector,originalValue:e.y}));return(0,i.Z)().startAngle(-45).value(e=>e.value)(r).map((r,t)=>({key:t,label:r.data.label,sector:r.data.sector,originalValue:r.data.originalValue,d:e({startAngle:r.startAngle,endAngle:r.endAngle})}))},[F]),G=e=>{let{label:r,sector:t,originalValue:n}=e;return()=>{n&&W({label:r,label:r,sector:t,originalValue:n})}},H=()=>{W({})};return(0,n.jsx)(u.xu,{w:"100%",maxW:M,height:"auto",position:"relative",children:(0,n.jsxs)("svg",{style:{color:w[k][800],userSelect:"none",width:"100%",height:"auto"},viewBox:"0 0 ".concat(S," ").concat(S),children:[L.map(e=>{let r=j<140;return(0,n.jsxs)("g",{children:[(0,n.jsx)("circle",{cx:S/2,cy:S/2,r:e.r,stroke:w.gray[100],strokeWidth:y,fill:"none",vectorEffect:"non-scaling-stroke",strokeDasharray:r?[]:[3,3]}),r?null:(0,n.jsx)("text",{x:S/2,y:S/2+e.r+4,fontSize:"12",fontWeight:600,textAnchor:"middle",stroke:"#FFF",strokeWidth:5,strokeLinejoin:"round",strokeLinecap:"round",paintOrder:"stroke fill",fill:w.gray[300],children:e.key})]},e.key)}),(0,n.jsxs)("g",{transform:"translate(".concat(S/2," ").concat(S/2,")"),children:[I.map(e=>{let{key:r,x1:t,x2:a,y1:l,y2:s}=e;return(0,n.jsx)("line",{x1:t,y1:l,x2:a,y2:s,stroke:"#FFF",strokeWidth:6*y,strokeLinecap:"square",vectorEffect:"non-scaling-stroke"},r)}),I.map(e=>{let{key:r,x1:t,x2:a,y1:l,y2:s}=e;return(0,n.jsx)("line",{x1:t,y1:l,x2:a,y2:s,stroke:w.gray[100],strokeWidth:y,vectorEffect:"non-scaling-stroke"},r)}),I.map(e=>{let{key:r,x2:t,y2:a,label:l}=e,s=j<140;return(0,n.jsx)("g",{transform:"translate(".concat(t," ").concat(a,")"),children:(0,n.jsx)("text",{x:(s?[0,12,-12]:[0,24,-24])[r],y:[-6,14,14][r],fontSize:10,fontWeight:600,textAnchor:["middle","end","start"][r],fill:l===C.label?w.brand[800]:w.gray[500],stroke:"#FFF",strokeWidth:4,paintOrder:"stroke fill",children:s?l.slice(0,r?3:4).toUpperCase()+".":l.toUpperCase()})},r)}),(0,n.jsx)("path",{d:T,fill:"currentcolor",fillOpacity:.1,stroke:"currentcolor",strokeWidth:2*y,vectorEffect:"non-scaling-stroke",strokeLinejoin:"round"}),0!==v&&A.map((e,r)=>e.y?(0,n.jsx)(g.E.circle,{animate:{cx:e.cx,cy:e.cy},r:v||j/60*y*(e.name===C.label?2:1),fill:"currentcolor",stroke:"#FFF",strokeWidth:2*y,vectorEffect:"non-scaling-stroke",paintOrder:"stroke fill"},r):null),Z.map(e=>{let{key:r,d:t,label:a,sector:l,originalValue:s}=e;return(0,n.jsx)(x.u,{bg:"white",borderRadius:"md",border:"0.0625rem solid",borderColor:"gray.25",boxShadow:"lg",label:s?(0,n.jsxs)(h.K,{spacing:0,textAlign:"center",py:1,px:2,children:[(0,n.jsx)(m.x,{fontSize:"0.625rem",lineHeight:"shorter",color:"gray.500",textTransform:"uppercase",fontWeight:600,children:l}),(0,n.jsx)(m.x,{fontWeight:600,lineHeight:"shorter",color:"gray.900",children:a}),(0,n.jsxs)(m.x,{fontFamily:"mono",fontSize:"xs",lineHeight:"shorter",fontWeight:600,color:"gray.500",children:[s<.01?"<0.01":s.toLocaleString("en-US",{maximumFractionDigits:2}),"/5"]})]}):null,gutter:-8,placement:r?"bottom":"top",children:(0,n.jsx)("path",{d:t,fill:w.brand[800],fillOpacity:a===C.label?.05:0,onMouseEnter:G({label:a,sector:l,originalValue:s}),onMouseLeave:H})},r)})]})]})})};r.Z=e=>{let{market:r,sector:t="power",max:l=5,size:s=300,strokeWidth:o=1,colorScheme:i="brand",dotSize:c,padding:d=0,maxWidth:u="12rem",isVisible:x=!0}=e,h=(0,a.useRef)(),[m,g]=(0,a.useState)(!1),[p,f]=(0,a.useState)();return(0,a.useEffect)(()=>{g(!0)},[]),(0,a.useEffect)(()=>{if(!m||!h.current)return;let e=()=>{let e=h.current.getBoundingClientRect().width;f(e)},r=j()(()=>e(),500);return e(),window.removeEventListener("resize",r),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[m,x]),m?(0,n.jsx)("div",{ref:h,children:(0,n.jsx)(y,{market:r,sector:t,max:l,size:p,strokeWidth:o,colorScheme:i,dotSize:c,padding:d,maxWidth:u})}):(0,n.jsx)("svg",{viewBox:"0 0 ".concat(s," ").concat(s),style:{width:"100%",maxWidth:u,height:"auto"}})}},11628:function(e,r,t){"use strict";t.d(r,{HS:function(){return l},WP:function(){return s}});var n=t(16180),a=t(82531);let l={json:e=>function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return fetch(...t).then(e=>e.json()).then(r=>e?e(r):r)},csv:e=>function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return fetch(...t).then(e=>e.text()).then(r=>e?e((0,a.ue)(r)):(0,a.ue)(r))}},s=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,a=e.split(".").slice(-1)[0],s=l[a];return(0,n.Z)(e,s(t),r)}}},function(e){e.O(0,[184,646,52,587,847,493,945,462,774,888,179],function(){return e(e.s=28238)}),_N_E=e.O()}]);