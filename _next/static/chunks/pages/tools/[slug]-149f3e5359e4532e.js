(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{28238:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/[slug]",function(){return r(96720)}])},96720:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return ed},default:function(){return eu}});var n=r(85893),a=r(65079),l=r(22338),i=r(96702),o=r(41296),s=r(57747),c=r(22757),d=r(14e3),u=r(79078),h=r(49289),x=r(89734),m=r.n(x),g=r(11628),p=r(67294),j=r(41731),f=r(11163),y=r(64529),k=r(11752),v=r.n(k),b=r(9089);let{publicRuntimeConfig:w}=v()(),M=w.basePath;function S(e,t){let r=t.filter(e=>e.indicators).flatMap(e=>e.indicators.filter(e=>e.domain).map(e=>({indicator:e.indicator,...e.domain})));return e.map(e=>{let t=r.filter(t=>t.indicator.toLowerCase()===e.indicator.toLowerCase()),n=(0,b.Z)(t.flatMap(e=>e.x)),a=(0,b.Z)(t.flatMap(e=>e.y));return{...e,x:n,y:[Math.min(0,Math.floor(a[0])),Math.ceil(a[1])]}})}let F=(0,y.Ue)((e,t)=>({currentMarket:{},setCurrentMarket:async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nl",n=t().currentMarket.iso;if(n===r)return;let a=await g.HS.json()("".concat(M,"/data/markets/").concat(r,".json")),l=S(t().domains,[a,...t().comparisonMarkets]);e({currentMarket:a,domains:l})},comparisonMarkets:[{},{}],setComparisonMarkets:async function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!r){e(e=>{let r=e.comparisonMarkets.reduce((e,t,r)=>r===n?[...e,{}]:[...e,t],[]),a=S(t().domains,[t().currentMarket,...r]);return{comparisonMarkets:r,domains:a}});return}let a=await g.HS.json()("".concat(M,"/data/markets/").concat(r,".json"));e(e=>{let r=e.comparisonMarkets.reduce((e,t,r)=>r===n?[...e,a]:r===n?a?[...e,a]:e:[...e,t],[]),l=S(t().domains,[t().currentMarket,...r]);return{comparisonMarkets:r,domains:l}})},domains:[{indicator:"Electricity Prices",x:[0,0],y:[0,0]},{indicator:"Installed capacity",x:[0,0],y:[0,0]},{indicator:"Cumulative generation",x:[0,0],y:[0,0]},{indicator:"Investment Clean energy",x:[0,0],y:[0,0]}]}));var W=r(7739),C=r.n(W),_=r(24491),z=r(44446),E=r(86492),P=r(65386),A=r(48940),I=r(27239),R=r(68249),Z=e=>{let{data:t,sector:r,compact:a}=e,{colors:l}=(0,A.F)(),o=t.filter(e=>e.sector===r).map(e=>({text:e.policy,isSelected:"Available"===e.answer.trim()}));return o.length?(0,n.jsxs)(i.K,{spacing:6,children:[(0,n.jsx)(c.X,{fontSize:"xl",children:"".concat(r," policies")}),(0,n.jsx)(_.Z,{columns:a?1:[1,2,null,3],gridColumnGap:5,gridRowGap:5,children:o.length&&o.map((e,t)=>{let{text:r,isSelected:a}=e;return(0,n.jsxs)(s.xu,{position:"relative",p:4,border:"0.125rem solid",borderRadius:"md",fontWeight:600,lineHeight:"shorter",style:{color:a?l.purple[900]:l.gray[700],background:a?l.purple[100]:l.gray[50],borderColor:a?l.purple[500]:l.gray[50]},children:[(0,n.jsx)(I.M,{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)",w:"1.75rem",h:"1.75rem",bg:"gray.200",borderRadius:"full",border:"0.125rem solid white",color:"white",children:(0,n.jsx)(R.Tw,{size:"1.25rem"})}),r,a&&(0,n.jsx)(I.M,{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)",w:"1.75rem",h:"1.75rem",bg:"purple.500",borderRadius:"full",border:"0.125rem solid white",color:"white",children:(0,n.jsx)(R.nQ,{size:"1.25rem"})})]},t)})})]}):(0,n.jsx)(s.xu,{p:4,bg:"gray.50",textAlign:"center",borderRadius:"md",children:"No ".concat(r.toLowerCase()," policies")})};let L=e=>null==e?void 0:e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1}),H=e=>null==e?void 0:e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1});var T=e=>{let{slot:t="reference",...r}=e,a=t&&"reference"!==t?0:[-3,null,-4,null,-5],l=t&&1!==t?0:[-3,null,-4,null,-5],i=t?["calc(100% + 0.75rem)",null,"calc(100% + 1rem)",null,"calc(100% + 1.25rem)"]:["calc(100% + 1.5rem)",null,"calc(100% + 2rem)",null,"calc(100% + 2.5rem)"];return(0,n.jsx)(s.xu,{children:(0,n.jsx)(h.i,{mr:a,ml:l,w:i,...r})})},B=r(96854),G=r(12054),K=e=>{let{slot:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T,{slot:t}),(0,n.jsxs)(_.Z,{columns:2,px:5,children:[(0,n.jsxs)(i.K,{spacing:1,children:[(0,n.jsx)(c.X,{textTransform:"uppercase",fontSize:"xs",color:"gray.500",isTruncated:!0,children:"Global rank"}),(0,n.jsx)(B.O,{h:"1.625rem",startColor:"gray.50",endColor:"gray.100"})]}),(0,n.jsxs)(i.K,{spacing:1,children:[(0,n.jsx)(c.X,{textTransform:"uppercase",fontSize:"xs",color:"gray.500",isTruncated:!0,children:"Global score"}),(0,n.jsx)(B.O,{h:"1.625rem",startColor:"gray.50",endColor:"gray.100"})]})]}),(0,n.jsx)(T,{slot:t}),(0,n.jsxs)(i.K,{px:5,spacing:10,children:[(0,n.jsx)(B.O,{alignSelf:"flex-start",w:"4rem",h:"3rem",startColor:"gray.50",endColor:"gray.100"}),(0,n.jsx)(I.M,{children:(0,n.jsx)(G.s,{w:"14rem",h:"14rem",startColor:"gray.50",endColor:"gray.100"})})]})]})},X=e=>{let{market:t,allMarkets:r,slot:a="reference"}=e,l=F(e=>e.domains);if(!t||!t.name)return(0,n.jsx)(K,{slot:a});let o=t.indicators||[],u=C()(o.filter(e=>e.indicator&&(e.subindicators||e.data)),e=>e.indicator.toLowerCase().split(" ").join("_"))||{},{electricity_prices:h,cumulative_generation:x,installed_capacity:m,investment_clean_energy:g}=u,p=g?{indicator:"Investment",subindicators:g.map(e=>({subindicator:e.indicator,units:"M USD",data:e.data}))}:null,j={power:L(t.sectors[0].data[0].value),global:"1.00",transport:"1.00",buildings:"1.00"};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T,{slot:a}),(0,n.jsxs)(_.Z,{columns:2,px:5,children:[(0,n.jsxs)(i.K,{spacing:1,children:[(0,n.jsx)(c.X,{textTransform:"uppercase",fontSize:"xs",color:"gray.500",isTruncated:!0,children:"Power rank"}),(0,n.jsxs)(d.x,{fontSize:"xl",fontWeight:700,lineHeight:"shorter",children:[H(t.sectors[0].data[0].rank),(0,n.jsx)(d.x,{color:"gray.500",as:"span",lineHeight:"inherit",children:"/".concat(r.length)})]})]}),(0,n.jsxs)(i.K,{spacing:1,children:[(0,n.jsx)(c.X,{textTransform:"uppercase",fontSize:"xs",color:"gray.500",isTruncated:!0,children:"Power score"}),(0,n.jsxs)(d.x,{fontSize:"xl",fontWeight:700,lineHeight:"shorter",children:[j.power,(0,n.jsx)(d.x,{color:"gray.500",as:"span",lineHeight:"inherit",children:"/5"})]})]})]}),(0,n.jsx)(T,{slot:a}),(0,n.jsxs)(i.K,{px:5,spacing:10,alignItems:"center",children:[(0,n.jsx)(d.x,{fontSize:"2xl",fontWeight:600,textAlign:"center",children:"Power"}),(0,n.jsx)(z.Z,{sector:"power",market:t,padding:40,maxWidth:"14rem"}),(0,n.jsx)(d.x,{fontSize:"md",lineHeight:"shorter",fontWeight:600,color:"gray.500",textAlign:"center",children:j.power&&"".concat(j.power,"/5")})]}),(0,n.jsx)(T,{slot:a}),(0,n.jsx)(s.xu,{children:(0,n.jsx)(Z,{data:t.policies,sector:"Power",compact:!0})}),(0,n.jsx)(T,{slot:a}),(0,n.jsx)(s.xu,{children:h&&h[0]?(0,n.jsx)(P.Z,{data:h&&h[0]||null,domainX:l[0].x,domainY:l[0].y}):(0,n.jsx)(D,{title:"Electricity Prices"})}),(0,n.jsx)(T,{slot:a}),(0,n.jsx)(s.xu,{children:m&&m[0]?(0,n.jsx)(E.Z,{data:m&&m[0]||null,domainX:l[1].x,domainY:l[1].y}):(0,n.jsx)(D,{title:"Installed Capacity"})}),(0,n.jsx)(T,{slot:a}),(0,n.jsx)(s.xu,{children:x&&x[0]?(0,n.jsx)(E.Z,{data:x&&x[0]||null,domainX:l[2].x,domainY:l[2].y}):(0,n.jsx)(D,{title:"Electricity Generation"})}),(0,n.jsx)(T,{slot:a}),(0,n.jsx)(s.xu,{children:p?(0,n.jsx)(P.Z,{data:p,domainX:l[3].x,domainY:l[3].y}):(0,n.jsx)(D,{title:"Investment"})}),(0,n.jsx)(T,{slot:a}),(0,n.jsx)(s.xu,{children:(0,n.jsx)(Z,{data:t.policies,sector:"Transport",compact:!0})})]})};function D(e){let{title:t="Chart placeholder"}=e;return(0,n.jsxs)(i.K,{spacing:5,children:[(0,n.jsx)(c.X,{fontSize:"xl",color:"gray.200",children:t}),(0,n.jsx)("svg",{viewBox:"0 0 16 9"})]})}let O=e=>{let{allMarkets:t}=e,r=(0,f.useRouter)(),a=F(e=>e.currentMarket),l=F(e=>e.setCurrentMarket),{market:i}=r.query;(0,p.useEffect)(()=>{(i||!a.iso)&&l(i)},[i]);let o=a.iso||"";return(0,n.jsx)(j.P,{size:"lg",variant:"filled",colorScheme:"gray",fontWeight:600,bg:"gray.50",_focus:{boxShadow:"outline"},value:o,onChange:e=>{r.replace("/tools/geography-comparison"),l(e.target.value)},children:t.map(e=>{let{iso:t,name:r}=e;return(0,n.jsx)("option",{value:t,children:r},t)})})},N=e=>{let{allMarkets:t}=e,r=F(e=>e.currentMarket);return(0,n.jsx)(X,{market:r,allMarkets:t,slot:"reference"})},U=e=>{let{allMarkets:t,slot:r=0}=e,a=F(e=>e.currentMarket),l=F(e=>e.comparisonMarkets),i=l[r],o=F(e=>e.setComparisonMarkets),s=i.iso||"",c=r?!l[0].name:!a.name;return(0,n.jsxs)(j.P,{size:"lg",variant:"filled",colorScheme:"gray",fontWeight:600,bg:"gray.50",_focus:{boxShadow:"outline"},value:s,onChange:e=>{o(e.target.value,r)},isDisabled:c,children:[(0,n.jsx)("option",{value:"",children:"Select a market"}),a.similar&&(0,n.jsx)("optgroup",{label:"Suggested markets",children:a.similar.map(e=>{let{iso:t,name:r}=e;return(0,n.jsx)("option",{value:t.toLowerCase(),children:r},"suggested-".concat(t))})}),(0,n.jsx)("optgroup",{label:"All markets",children:t.map(e=>{let{iso:t,name:r}=e;return(0,n.jsx)("option",{value:t.toLowerCase(),children:r},t)})})]})},V=e=>{let{allMarkets:t,slot:r=0}=e,a=F(e=>e.comparisonMarkets[r]);return(0,n.jsx)(X,{market:a,allMarkets:t,slot:r})};var Y=()=>{let{data:e}=(0,g.WP)("/data/results-2023.json",{},e=>m()(e,e=>e.name)),t=e||[];return(0,n.jsx)(s.xu,{children:(0,n.jsxs)(u.r,{gridTemplateColumns:["1fr",null,"1fr 0.0625rem 1fr","1fr 0.0625rem 1fr 0.0625rem 1fr"],gridColumnGap:[3,null,4,null,5],gridTemplateRows:"9.6875rem auto",children:[(0,n.jsxs)(i.K,{spacing:5,gridRow:"1 / -1",pb:5,children:[(0,n.jsx)(O,{allMarkets:t}),(0,n.jsx)(N,{allMarkets:t})]}),(0,n.jsx)(h.i,{orientation:"vertical",bg:"gray.100",gridRow:"2 / -1",display:["none",null,"block"]}),(0,n.jsxs)(i.K,{spacing:5,gridRow:"1 / -1",pb:5,display:["none",null,"flex"],children:[(0,n.jsx)(U,{allMarkets:t,slot:0}),(0,n.jsx)(V,{slot:0,allMarkets:t})]}),(0,n.jsx)(h.i,{orientation:"vertical",bg:"gray.100",gridRow:"2 / -1",display:["none",null,null,"block"]}),(0,n.jsxs)(i.K,{spacing:5,gridRow:"1 / -1",pb:5,display:["none",null,null,"flex"],children:[(0,n.jsx)(U,{allMarkets:t,slot:1}),(0,n.jsx)(V,{slot:1,allMarkets:t})]})]})})},q=r(5678),Q=r(51526),J=r(57171),Text=r(32024);let $=(0,y.Ue)(e=>({highlighted:"",setHighlighted:t=>e({highlighted:t})})),ee=e=>{let{d:t,rowHeight:r,segmentWidth:n}=e;return(0,p.useMemo)(()=>{let e=["2021","2022","2023"].map(e=>t[e]),a=e.map((e,a)=>{let l=a*n+r/2||0,i=(e-1)*r+r/2||0;return{rank:e,x:l,y:i,latestScoreValue:t.latestScoreValue}}).filter(e=>e.rank),l="M"+a.map(e=>"".concat(e.x,",").concat(e.y)).join("L");return{points:a,path:l}},[t,n,r])},et={bh:"Bahrain",ve:"Venezuela",is:"Iceland",me:"Montenegro"};var er=function(e){let{d:t,width:r,rowHeight:a,glow:l=!1,segmentWidth:i,colors:o={circleFill:"#DDD",circleStroke:"#FFF",pathStroke:"#999",rankFill:"#333"}}=e,s=(0,f.useRouter)(),c=$(e=>e.setHighlighted),{points:d,path:u}=ee({d:t,segmentWidth:i,rowHeight:a}),h=()=>c(t),x=()=>c(null),m=d.slice(-1)[0],g=()=>{s.push("/markets/".concat(t.iso))};return(0,n.jsxs)("g",{onMouseEnter:h,onMouseLeave:x,style:{userSelect:"none"},children:[(0,n.jsx)("path",{d:u,fill:"none",stroke:"#FFF",strokeWidth:3}),(0,n.jsx)("path",{d:u,fill:"none",stroke:l?o.pathStroke:"transparent",strokeWidth:12,opacity:.3}),(0,n.jsx)("path",{d:u,fill:"none",stroke:o.pathStroke,strokeWidth:2}),d.map((e,t)=>{let{rank:r,x:l,y:i}=e;return(0,n.jsxs)("g",{transform:"translate(".concat(l," ").concat(i,")"),children:[(0,n.jsx)("circle",{r:a/2-5,fill:o.circleFill,stroke:o.circleStroke,strokeWidth:4,paintOrder:"stroke fill"}),(0,n.jsx)("text",{textAnchor:"middle",alignmentBaseline:"central",fontSize:12,fontWeight:600,fill:o.rankFill,children:r})]},t)}),(0,n.jsx)(Text.Z,{y:m.y,x:m.x+a/2+8,width:r-(m.x+a/2+8)-56,verticalAnchor:"middle",fontWeight:600,tabIndex:0,style:{cursor:"pointer",outline:"none"},onClick:g,onFocus:h,onBlur:x,children:t.geography||et[t.iso]||""}),(0,n.jsx)(Text.Z,{y:m.y,x:r-40,width:40,verticalAnchor:"middle",fontWeight:600,tabIndex:0,style:{cursor:"pointer",outline:"none"},onClick:g,onFocus:h,onBlur:x,opacity:.5,children:m.latestScoreValue})]})};function en(e){let{data:t,width:r}=e,{colors:a}=(0,A.F)(),l=m()(t,e=>e["2023"]),i=44*l.length+40,o=r<600?r/3.8:r<1e3?r/3.1:r<1200?r/2.8:r/2.6,s=["2021","2022","2023"].map((e,t)=>{let r=t*o+22||0;return{x:r,label:e}}),c={left:2,right:4,top:0,bottom:0},d=r+c.left+c.right,u=i+c.top+c.bottom;return(0,n.jsx)("div",{children:(0,n.jsx)("svg",{viewBox:"0 0 ".concat(d," ").concat(u),width:d,height:u,style:{width:"100%",height:"auto"},children:(0,n.jsxs)("g",{transform:"translate(".concat(c.left," ").concat(c.top,")"),children:[s.map(e=>(0,n.jsxs)("g",{transform:"translate(".concat(e.x," ").concat(20,")"),children:[(0,n.jsx)("text",{textAnchor:"middle",fontWeight:600,children:e.label}),(0,n.jsx)("line",{x1:0,x2:0,y1:10,y2:i,stroke:a.gray[200],strokeWidth:2})]},e.label)),(0,n.jsxs)("g",{transform:"translate(0 ".concat(40,")"),children:[l.map(e=>(0,n.jsx)(er,{d:e,width:r,rowHeight:44,segmentWidth:o,colors:{circleFill:a.gray[200],circleStroke:"#FFF",pathStroke:a.gray[200],rankFill:a.gray[800]}},e.iso)),(0,n.jsx)(Q.M,{children:(0,n.jsx)(ea,{width:r,height:i,rowHeight:44,segmentWidth:o})})]})]})})})}function ea(e){let{width:t,height:r,rowHeight:a,segmentWidth:l}=e,{colors:i}=(0,A.F)(),o=$(e=>e.highlighted);return o?(0,n.jsxs)(J.E.g,{style:{pointerEvents:"none"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,n.jsx)("rect",{width:t,height:r,fill:"#FFF",opacity:.75}),(0,n.jsx)(er,{d:o,width:t,rowHeight:a,segmentWidth:l,glow:!0,colors:{circleFill:i.teal[500],circleStroke:"#FFF",pathStroke:i.teal[500],rankFill:"#FFF"}})]}):null}let{publicRuntimeConfig:el}=v()(),ei=el.basePath;function eo(){let{data:e}=(0,g.WP)("".concat(ei,"/data/ranks-over-time.json")),[t,r]=(0,q.h4)(),{width:a}=r;return(0,n.jsx)("div",{ref:t,children:(null==e?void 0:e.length)&&a&&(0,n.jsx)(en,{data:e,width:a})})}var es=()=>((0,p.useEffect)(()=>{var e=document.getElementById("viz1701216492462").getElementsByTagName("object")[0];e.style.width="100%",e.style.height="1027px";var t=document.createElement("script");t.src="https://public.tableau.com/javascripts/api/viz_v1.js",e.parentNode.insertBefore(t,e)},[]),(0,n.jsx)("div",{className:"tableauPlaceholder",id:"viz1701216492462",style:{position:"relative",width:"100%"},children:(0,n.jsxs)("object",{className:"tableauViz",style:{display:"none"},children:[(0,n.jsx)("param",{name:"host_url",value:"https%3A%2F%2Fpublic.tableau.com%2F"}),(0,n.jsx)("param",{name:"embed_code_version",value:"3"}),(0,n.jsx)("param",{name:"site_root",value:""}),(0,n.jsx)("param",{name:"name",value:"EnergyCapacityGenerationinEmergingMarkets_17011920152870/CapacityGeneration"}),(0,n.jsx)("param",{name:"tabs",value:"no"}),(0,n.jsx)("param",{name:"toolbar",value:"yes"}),(0,n.jsx)("param",{name:"animate_transition",value:"yes"}),(0,n.jsx)("param",{name:"display_static_image",value:"yes"}),(0,n.jsx)("param",{name:"display_spinner",value:"yes"}),(0,n.jsx)("param",{name:"display_overlay",value:"yes"}),(0,n.jsx)("param",{name:"display_count",value:"yes"}),(0,n.jsx)("param",{name:"language",value:"en-GB"})]})})),ec={RankOverTime:e=>(0,n.jsx)(s.xu,{w:"100%",children:(0,n.jsx)(eo,{...e})}),GeographyComparison:e=>(0,n.jsx)(s.xu,{w:"100%",children:(0,n.jsx)(Y,{...e})}),TableauWidget:e=>(0,n.jsx)(s.xu,{w:"100%",children:(0,n.jsx)(es,{...e})}),h1:e=>(0,n.jsx)(c.X,{as:"h1",w:"100%",fontSize:["3xl",null,"5xl"],maxW:"container.sm",sx:{"h1 + p":{fontSize:["lg",null,"2xl"],lineHeight:"short",fontWeight:500}},...e}),p:e=>(0,n.jsx)(d.x,{as:"p",w:"100%",variant:"subtitle",maxW:"container.sm",sx:{a:{color:"teal.700",_hover:{textDecoration:"underline"},_focus:{textDecoration:"underline"}}},...e})},ed=!0;function eu(e){let{source:t}=e,{frontmatter:r}=t,s="centered"===r.layout;return(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{...r}),(0,n.jsx)(l.W,{as:"main",children:(0,n.jsx)(i.K,{spacing:10,pt:10,pb:20,alignItems:s?"center":"flex-start",textAlign:s?"center":"left",children:(0,n.jsx)(a.R,{...t,components:ec})})})]})}},44446:function(e,t,r){"use strict";var n=r(85893),a=r(67294),l=r(42770),i=r(168),o=r(10233),s=r(14119),c=r(93587),d=r(48940),u=r(57747),h=r(32568),x=r(96702),m=r(14e3),g=r(57171),p=r(23279),j=r.n(p);let f=["fundamentals","opportunities","experience"],y=e=>{let{market:t,sector:r="power",max:p=5,size:j=300,strokeWidth:y=1,colorScheme:k="brand",dotSize:v,padding:b=0,maxWidth:w="12rem"}=e,{colors:M}=(0,d.F)(),S=j+b,[F,W]=(0,a.useState)({}),{topics:C}=t,_=Math.floor(p),z=2*Math.PI,E=(0,a.useMemo)(()=>{let e="all"===r?["power","transport","buildings"].map((e,t)=>f.map((r,n)=>({id:"".concat(e.split(" ").join("-"),"-").concat(r),x:3*t+n,y:0}))).flat():f.map((e,t)=>({id:"".concat(r.split(" ").join("-"),"-").concat(e),x:t,y:0}));return e.map(t=>{let r=C.find(e=>e.id===t.id),n=z/e.length*t.x;return{id:t.id,name:r.name,sector:r.sector,x:n,y:r.data[0].value||0}})},[C,z,r,j]),P=(0,a.useCallback)((0,c.Z)().domain([0,p]).range([0,j/2]),[p,j]),A=(0,a.useCallback)((0,l.Z)().angle(e=>e.x).radius(e=>P(e.y)).curve(i.Z),[P]),I=(0,a.useMemo)(()=>A(E),[E]),R=(0,a.useMemo)(()=>E.map((e,t)=>{let r=2*Math.PI/E.length*t,n=P(e.y)*Math.cos(r-Math.PI/2),a=2*Math.PI/E.length*t,l=P(e.y)*Math.sin(a-Math.PI/2);return{...e,cx:n,cy:l}}),[P,E]),Z=(0,a.useMemo)(()=>E.map((e,t)=>{let r=2*Math.PI/E.length*t,n=P(_)*Math.cos(r-Math.PI/2),a=2*Math.PI/E.length*t,l=P(_)*Math.sin(a-Math.PI/2);return{key:t,x1:0,y1:0,x2:n,y2:l,label:e.name}}),[P,E,_]),L=(0,a.useMemo)(()=>Array(_).fill(1).map((e,t)=>({key:t+e,r:P(t+e)})),[P,_]),H=(0,a.useMemo)(()=>{let e=(0,o.Z)().innerRadius(0).outerRadius(j/2),t=E.map(e=>({value:1,label:e.name,sector:e.sector,originalValue:e.y}));return(0,s.Z)().startAngle(-45).value(e=>e.value)(t).map((t,r)=>({key:r,label:t.data.label,sector:t.data.sector,originalValue:t.data.originalValue,d:e({startAngle:t.startAngle,endAngle:t.endAngle})}))},[E]),T=e=>{let{label:t,sector:r,originalValue:n}=e;return()=>{n&&W({label:t,label:t,sector:r,originalValue:n})}},B=()=>{W({})};return(0,n.jsx)(u.xu,{w:"100%",maxW:w,height:"auto",position:"relative",children:(0,n.jsxs)("svg",{style:{color:M[k][800],userSelect:"none",width:"100%",height:"auto"},viewBox:"0 0 ".concat(S," ").concat(S),children:[L.map(e=>{let t=j<140;return(0,n.jsxs)("g",{children:[(0,n.jsx)("circle",{cx:S/2,cy:S/2,r:e.r,stroke:M.gray[100],strokeWidth:y,fill:"none",vectorEffect:"non-scaling-stroke",strokeDasharray:t?[]:[3,3]}),t?null:(0,n.jsx)("text",{x:S/2,y:S/2+e.r+4,fontSize:"12",fontWeight:600,textAnchor:"middle",stroke:"#FFF",strokeWidth:5,strokeLinejoin:"round",strokeLinecap:"round",paintOrder:"stroke fill",fill:M.gray[300],children:e.key})]},e.key)}),(0,n.jsxs)("g",{transform:"translate(".concat(S/2," ").concat(S/2,")"),children:[Z.map(e=>{let{key:t,x1:r,x2:a,y1:l,y2:i}=e;return(0,n.jsx)("line",{x1:r,y1:l,x2:a,y2:i,stroke:"#FFF",strokeWidth:6*y,strokeLinecap:"square",vectorEffect:"non-scaling-stroke"},t)}),Z.map(e=>{let{key:t,x1:r,x2:a,y1:l,y2:i}=e;return(0,n.jsx)("line",{x1:r,y1:l,x2:a,y2:i,stroke:M.gray[100],strokeWidth:y,vectorEffect:"non-scaling-stroke"},t)}),Z.map(e=>{let{key:t,x2:r,y2:a,label:l}=e,i=j<140;return(0,n.jsx)("g",{transform:"translate(".concat(r," ").concat(a,")"),children:(0,n.jsx)("text",{x:(i?[0,12,-12]:[0,24,-24])[t],y:[-6,14,14][t],fontSize:10,fontWeight:600,textAnchor:["middle","end","start"][t],fill:l===F.label?M.brand[800]:M.gray[500],stroke:"#FFF",strokeWidth:4,paintOrder:"stroke fill",children:i?l.slice(0,t?3:4).toUpperCase()+".":l.toUpperCase()})},t)}),(0,n.jsx)("path",{d:I,fill:"currentcolor",fillOpacity:.1,stroke:"currentcolor",strokeWidth:2*y,vectorEffect:"non-scaling-stroke",strokeLinejoin:"round"}),0!==v&&R.map((e,t)=>e.y?(0,n.jsx)(g.E.circle,{animate:{cx:e.cx,cy:e.cy},r:v||j/60*y*(e.name===F.label?2:1),fill:"currentcolor",stroke:"#FFF",strokeWidth:2*y,vectorEffect:"non-scaling-stroke",paintOrder:"stroke fill"},t):null),H.map(e=>{let{key:t,d:r,label:a,sector:l,originalValue:i}=e;return(0,n.jsx)(h.u,{bg:"white",borderRadius:"md",border:"0.0625rem solid",borderColor:"gray.25",boxShadow:"lg",label:i?(0,n.jsxs)(x.K,{spacing:0,textAlign:"center",py:1,px:2,children:[(0,n.jsx)(m.x,{fontSize:"0.625rem",lineHeight:"shorter",color:"gray.500",textTransform:"uppercase",fontWeight:600,children:l}),(0,n.jsx)(m.x,{fontWeight:600,lineHeight:"shorter",color:"gray.900",children:a}),(0,n.jsxs)(m.x,{fontFamily:"mono",fontSize:"xs",lineHeight:"shorter",fontWeight:600,color:"gray.500",children:[i<.01?"<0.01":i.toLocaleString("en-US",{maximumFractionDigits:2}),"/5"]})]}):null,gutter:-8,placement:t?"bottom":"top",children:(0,n.jsx)("path",{d:r,fill:M.brand[800],fillOpacity:a===F.label?.05:0,onMouseEnter:T({label:a,sector:l,originalValue:i}),onMouseLeave:B})},t)})]})]})})};t.Z=e=>{let{market:t,sector:r="power",max:l=5,size:i=300,strokeWidth:o=1,colorScheme:s="brand",dotSize:c,padding:d=0,maxWidth:u="12rem",isVisible:h=!0}=e,x=(0,a.useRef)(),[m,g]=(0,a.useState)(!1),[p,f]=(0,a.useState)();return(0,a.useEffect)(()=>{g(!0)},[]),(0,a.useEffect)(()=>{if(!m||!x.current)return;let e=()=>{let e=x.current.getBoundingClientRect().width;f(e)},t=j()(()=>e(),500);return e(),window.removeEventListener("resize",t),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[m,h]),m?(0,n.jsx)("div",{ref:x,children:(0,n.jsx)(y,{market:t,sector:r,max:l,size:p,strokeWidth:o,colorScheme:s,dotSize:c,padding:d,maxWidth:u})}):(0,n.jsx)("svg",{viewBox:"0 0 ".concat(i," ").concat(i),style:{width:"100%",maxWidth:u,height:"auto"}})}},11628:function(e,t,r){"use strict";r.d(t,{HS:function(){return l},WP:function(){return i}});var n=r(16180),a=r(82531);let l={json:e=>function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return fetch(...r).then(e=>e.json()).then(t=>e?e(t):t)},csv:e=>function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return fetch(...r).then(e=>e.text()).then(t=>e?e((0,a.ue)(t)):(0,a.ue)(t))}},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=e.split(".").slice(-1)[0],i=l[a];return(0,n.Z)(e,i(r),t)}}},function(e){e.O(0,[797,821,587,847,678,493,63,462,774,888,179],function(){return e(e.s=28238)}),_N_E=e.O()}]);