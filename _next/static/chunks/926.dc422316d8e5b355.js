"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{64926:function(e,t,n){n.r(t),n.d(t,{default:function(){return eu}});var i=n(85893),l=n(67294),r=n(55281),a=n(57747),s=n(22338),o=n(47710),c=n(66712),d=n(91170),h=n(14225),u=n(4040),g=n(1991),x=n(88667),p=n(48204),f=n(31993),j=n(7739),m=n(73303),y=n(89734),b=n(45578);function v(e){let{capacity:t,generation:n,year:i,grouping:l,sectors:r,regions:a,countries:s}=e,o=Object.keys(t[0]).filter(e=>e.startsWith("val_")).map(e=>"".concat(e.split("_")[1]).trim()).filter(e=>parseInt(e)>=2010).filter(e=>i.includes("all")||i.includes(e)),c=["Storage","undefined"],d=Object.entries(j(t,e=>e[l])).map(e=>{let[t,n]=e;return{key:t,items:n}}).filter(e=>!c.includes(e.key)),h=Object.entries(j(n,e=>e[l])).map(e=>{let[t,n]=e;return{key:t,items:n}}).filter(e=>!c.includes(e.key));return{capacity:o.map(e=>{let t=y(d.map(t=>{let{key:n,items:i}=t;return{key:n,value:m(i.filter(e=>{let t=null==r||!r.length||r.includes(e.sector),n=null==a||!a.length||a.includes(e.region_id),i=null==s||!s.length||s.includes(e.market),l=(null==s?void 0:s.length)&&(null==a?void 0:a.length)?n||i:i&&n;return t&&l}),t=>parseFloat(t["val_".concat(e)])||0)}}),e=>e.value),n={key:"Total",value:m(t,e=>e.value)};return{year:e,data:t,total:n}}),generation:o.map(e=>{let t=y(h.map(t=>{let{key:n,items:i}=t;return{key:n,value:m(i.filter(e=>{let t=null==r||!r.length||r.includes(e.sector),n=null==a||!a.length||a.includes(e.region_id),i=null==s||!s.length||s.includes(e.market),l=(null==s?void 0:s.length)&&(null==a?void 0:a.length)?n||i:i&&n;return t&&l}),t=>parseFloat(t["val_".concat(e)])||0)}}),e=>e.value),n={key:"Total",value:m(t,e=>e.value)};return{year:e,data:t,total:n}})}}let k=(0,f.U)((e,t)=>({year:["all"],setYear:t=>{e(e=>({year:t,filteredData:v({capacity:e.data.capacity,generation:e.data.generation,year:t,grouping:e.grouping,regions:e.regions,sectors:e.sectors,countries:e.countries})}))},grouping:"sector",setGrouping:t=>{e(e=>({grouping:t,filteredData:v({capacity:e.data.capacity,generation:e.data.generation,year:e.year,grouping:t,regions:e.regions,sectors:e.sectors,countries:e.countries})}))},capacityUnit:"MW",generationUnit:"GWh",setInitialData:(n,i)=>{let l=i.reduce((e,t)=>(e[t.iso2.toLowerCase()]=t,e),{}),r=["Power exports","Power imports","Storage"],a=n.map(e=>{let{region_id:t,region_name:n}=l[e.iso]||{};return{...e,region_id:t,region_name:n}}).filter(e=>!r.includes(e.sector)).filter(e=>!!e.region_id),[s,o]=["installed capacity","electricity generation"].map(e=>a.filter(t=>t.measure===e)),c=s[0].units||s[0].unit||"MW",d=o[0].units||o[0].unit||"GWh",h=v({capacity:s,generation:o,year:t().year,grouping:t().grouping});e({data:{capacity:s,generation:o},filteredData:h,allRegions:b(a.map(e=>({key:e.region_id,label:e.region_name})),e=>e.key),capacityUnit:c,generationUnit:d,allSectors:b(a.map(e=>({key:e.sector,label:e.sector})),e=>e.key),allCountries:b(a.map(e=>({key:e.iso,label:e.market,region_id:e.region_id})),e=>e.key)})},view:"capgen",setView:t=>e({view:t}),data:{capacity:[],generation:[]},filteredData:{capacity:[],generation:[]},regions:[],sectors:[],countries:[],allSectors:[],allRegions:[],allCountries:[],setPostFilters:t=>{let{regions:n,countries:i,sectors:l}=t;e(e=>{let t=v({capacity:e.data.capacity,generation:e.data.generation,year:e.year,grouping:e.grouping,regions:n||e.regions,sectors:l||e.sectors,countries:i||e.countries});return{regions:n||e.regions,sectors:l||e.sectors,countries:i||e.countries,filteredData:t}})}})),S=[{value:"capgen",label:"Capacity and generation"},{value:"capacity",label:"Installed capacity"},{value:"generation",label:"Eletricity generation"}],w=[{value:"sector",label:"Sector"},{value:"region_id",label:"Region"}];function C(){let e=k(e=>e.view),t=k(e=>e.setView),n=k(e=>e.grouping),l=k(e=>e.setGrouping);return(0,i.jsx)(a.xu,{py:10,children:(0,i.jsx)(s.W,{children:(0,i.jsxs)(o.E,{spacing:4,children:[(0,i.jsx)(o.U,{w:["100%",null,"auto"],children:(0,i.jsxs)(c.v,{placement:"bottom-start",matchWidth:!0,children:[(0,i.jsx)(d.j,{as:h.z,variant:"solid",colorScheme:"gray",h:16,fontSize:"3xl",fontWeight:700,rightIcon:(0,i.jsx)(p.v,{boxSize:10}),textAlign:"left",overflow:"hidden",w:"100%",sx:{span:{overflow:"hidden",textOverflow:"ellipsis"}},children:S.find(t=>t.value===e).label}),(0,i.jsx)(u.q,{minW:[null,null,"24rem"],motionProps:{variants:{enter:{visibility:"visible",y:0,opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},y:8,opacity:0,scale:1,transition:{duration:.1,easings:"easeOut"}}}},children:(0,i.jsx)(g._,{type:"radio",value:e,onChange:e=>t(e),children:S.map(e=>{let{value:t,label:n}=e;return(0,i.jsx)(x.i,{value:t,children:n},t)})})})]})}),(0,i.jsx)(o.U,{flex:"none",alignSelf:"center",fontSize:"3xl",lineHeight:"short",fontWeight:700,pl:["1.0625rem",null,0],children:"by"}),(0,i.jsx)(o.U,{flex:[1,null,"none"],children:(0,i.jsxs)(c.v,{placement:"bottom-start",matchWidth:!0,children:[(0,i.jsx)(d.j,{as:h.z,variant:"solid",colorScheme:"gray",h:16,flex:1,fontSize:"3xl",fontWeight:700,rightIcon:(0,i.jsx)(p.v,{boxSize:10}),textAlign:"left",overflow:"hidden",w:"100%",sx:{span:{overflow:"hidden",textOverflow:"ellipsis"}},children:w.find(e=>e.value===n).label}),(0,i.jsx)(u.q,{minW:[null,null,"24rem"],motionProps:{variants:{enter:{visibility:"visible",y:0,opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},y:8,opacity:0,scale:1,transition:{duration:.1,easings:"easeOut"}}}},children:(0,i.jsx)(g._,{type:"radio",value:n,onChange:e=>l(e),children:w.map(e=>{let{value:t,label:n}=e;return(0,i.jsx)(x.i,{value:t,children:n},t)})})})]})})]})})})}var W=n(34292),z=n(20967),F=n(27239),_=n(55083),M=n(19778),U=n(85335),E=n(66205),K=n(64859),X=n(22757),D=n(54346),V=n(82215),O=n(88087),R=n(64071),A=n(87334),Y=n(53891),B=n(49269),I=n(66371),P=n(5674),G=n(14253),H=n(45162),N=n(5301);function Z(){let{isOpen:e,onOpen:t,onClose:n}=(0,z.q)(),a=(0,l.useRef)(),s=k(e=>e.allSectors),o=k(e=>e.allRegions),c=k(e=>e.allCountries),d=k(e=>e.sectors),u=k(e=>e.regions),g=k(e=>e.countries),x=k(e=>e.setPostFilters),p=(0,H.Z)(14).map(e=>"".concat(2010+e)),f=k(e=>e.year),j=k(e=>e.setYear),m=f.filter(e=>"all"!==e).length+u.length+d.length;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.z,{ref:a,colorScheme:"gray",onClick:t,rightIcon:(0,i.jsx)(N.k1,{size:"1.25rem"}),children:["Filters",m?(0,i.jsx)(F.M,{w:5,h:5,bg:"brand.500",color:"brand.1000",ml:2,borderRadius:"full",fontSize:"xs",fontWeight:600,children:m}):null]}),(0,i.jsxs)(_.d,{isOpen:e,onClose:n,placement:"right",finalFocusRef:a,size:"md",children:[(0,i.jsx)(M.Z,{}),(0,i.jsxs)(U.s,{children:[(0,i.jsx)(E.o,{top:3,right:3}),(0,i.jsx)(K.x,{py:4,fontWeight:700,children:(0,i.jsxs)(W.U,{gap:3,children:[(0,i.jsx)(X.X,{children:"Filters"}),m?(0,i.jsx)(F.M,{w:5,h:5,bg:"gray.200",borderRadius:"full",fontSize:"xs",fontWeight:600,children:m}):null]})}),(0,i.jsx)(D.f,{px:0,py:0,children:(0,i.jsxs)(V.U,{allowMultiple:!0,children:[(0,i.jsxs)(O.Q,{children:[(0,i.jsxs)(R.K,{children:[(0,i.jsxs)(W.U,{gap:3,children:[(0,i.jsx)(X.X,{as:"h3",fontWeight:600,children:"Regions"}),u.length?(0,i.jsx)(F.M,{w:5,h:5,bg:"gray.200",borderRadius:"full",fontSize:"xs",fontWeight:600,children:u.length}):null]}),(0,i.jsx)(A.X,{boxSize:6})]}),(0,i.jsx)(Y.H,{children:(0,i.jsx)(B.c,{defaultValue:[],value:u,onChange:e=>{x({regions:e})},children:(0,i.jsx)(r.K,{gap:1,children:o.filter(e=>e.label).map(e=>(0,i.jsx)(I.X,{value:e.key,fontWeight:600,isDisabled:!1,children:e.label},e.key))})})})]}),(0,i.jsxs)(O.Q,{children:[(0,i.jsxs)(R.K,{children:[(0,i.jsxs)(W.U,{gap:3,children:[(0,i.jsx)(X.X,{as:"h3",fontWeight:600,children:"Markets"}),g.length?(0,i.jsx)(F.M,{w:5,h:5,bg:"gray.200",borderRadius:"full",fontSize:"xs",fontWeight:600,children:g.length}):null]}),(0,i.jsx)(A.X,{boxSize:6})]}),(0,i.jsx)(Y.H,{children:(0,i.jsx)(B.c,{defaultValue:[],value:g,onChange:e=>{x({countries:e})},children:(0,i.jsx)(r.K,{gap:1,children:c.filter(e=>e.label).map(e=>(0,i.jsx)(I.X,{value:e.label,fontWeight:600,isDisabled:!1,children:e.label},e.key))})})})]}),(0,i.jsxs)(O.Q,{children:[(0,i.jsxs)(R.K,{children:[(0,i.jsxs)(W.U,{gap:3,children:[(0,i.jsx)(X.X,{as:"h3",fontWeight:600,children:"Sectors"}),d.length?(0,i.jsx)(F.M,{w:5,h:5,bg:"gray.200",borderRadius:"full",fontSize:"xs",fontWeight:600,children:d.length}):null]}),(0,i.jsx)(A.X,{boxSize:6})]}),(0,i.jsx)(Y.H,{children:(0,i.jsx)(B.c,{defaultValue:[],value:d,onChange:e=>{x({sectors:e})},children:(0,i.jsx)(P.M,{gridGap:2,columns:2,children:s.filter(e=>e.label).map(e=>(0,i.jsx)(I.X,{value:e.key,fontWeight:600,children:e.label},e.key))})})})]}),(0,i.jsxs)(O.Q,{children:[(0,i.jsxs)(R.K,{children:[(0,i.jsxs)(W.U,{gap:3,children:[(0,i.jsx)(X.X,{as:"h3",fontWeight:600,children:"Years"}),f.filter(e=>"all"!==e).length?(0,i.jsx)(F.M,{w:5,h:5,bg:"gray.200",borderRadius:"full",fontSize:"xs",fontWeight:600,children:f.length}):null]}),(0,i.jsx)(A.X,{boxSize:6})]}),(0,i.jsx)(Y.H,{children:(0,i.jsx)(B.c,{defaultValue:f.filter(e=>"all"!==e),value:f.filter(e=>"all"!==e),onChange:e=>{e.length?j(e):j(["all"])},children:(0,i.jsxs)(P.M,{columns:2,gridGap:2,children:[(0,i.jsx)(r.K,{gap:2,style:{fontVariantNumeric:"tabular-nums"},children:p.slice(0,p.length/2).map(e=>(0,i.jsx)(I.X,{value:e,fontWeight:600,children:e},e))}),(0,i.jsx)(r.K,{gap:2,style:{fontVariantNumeric:"tabular-nums"},children:p.slice(p.length/2).map(e=>(0,i.jsx)(I.X,{value:e,fontWeight:600,children:e},e))})]})})})]})]})}),(0,i.jsx)(G.m,{children:(0,i.jsxs)(r.K,{gap:3,w:"100%",children:[(0,i.jsx)(h.z,{w:"100%",colorScheme:"gray",onClick:()=>{j(["all"]),x({regions:[],sectors:[],countries:[]})},children:"Reset"}),(0,i.jsx)(h.z,{w:"100%",onClick:n,children:"Apply filters"})]})})]})]})]})}var T=n(71293),L=n(8371);function Q(){let e=k(e=>e.regions),t=k(e=>e.sectors),n=k(e=>e.countries),l=k(e=>e.year),r=k(e=>e.setYear),a=k(e=>e.setPostFilters),s=e.length+t.length+n.length+l.filter(e=>"all"!==e).length,o={mena:"Middle East",emea:"Europe",amer:"Northern America",latam:"Latin America",ssa:"Africa",apac:"Asia-Pacific"};return(0,i.jsxs)(W.U,{spacing:2,flex:1,overflow:"hidden",py:1,children:[!s&&(0,i.jsx)(T.x,{fontSize:"sm",color:"gray.500",fontWeight:600,children:"Showing all"}),e.map(t=>(0,i.jsxs)(L.Vp,{children:[(0,i.jsx)(L.Sn,{children:o[t]||t}),(0,i.jsx)(L.SD,{onClick:()=>{a({regions:e.filter(e=>e!==t)})}})]},t)),t.map(e=>(0,i.jsxs)(L.Vp,{children:[(0,i.jsx)(L.Sn,{children:e}),(0,i.jsx)(L.SD,{onClick:()=>{a({sectors:t.filter(t=>t!==e)})}})]},e)),n.map(e=>(0,i.jsxs)(L.Vp,{children:[(0,i.jsx)(L.Sn,{children:e}),(0,i.jsx)(L.SD,{onClick:()=>{a({countries:n.filter(t=>t!==e)})}})]},e)),l.filter(e=>"all"!==e).map(e=>(0,i.jsxs)(L.Vp,{children:[(0,i.jsx)(L.Sn,{children:e}),(0,i.jsx)(L.SD,{onClick:()=>{r(1===l.length?["all"]:l.filter(t=>t!==e))}})]},e))]})}function q(){return(0,i.jsx)(a.xu,{children:(0,i.jsx)(s.W,{children:(0,i.jsxs)(W.U,{spacing:6,py:3,borderY:"0.0625rem solid",borderColor:"gray.200",children:[(0,i.jsx)(Q,{}),(0,i.jsx)(Z,{})]})})})}var J=n(79078),$=n(48940),ee=n(32568),et=n(49289),en=n(9443),ei=n(18776),el=n(57584),er=n(13114);let ea=(0,el.E)(J.r),es=(0,el.E)(r.K),eo=(0,el.E)(a.xu);function ec(){let e=k(e=>e.view),t=k(e=>e.year),n=k(e=>e.grouping),l=k(e=>e.regions),o=k(e=>e.sectors),c=k(e=>e.countries),d=k(e=>e.capacityUnit),h=k(e=>e.generationUnit),{capacity:u,generation:g}=k(e=>e.filteredData),{colors:x}=(0,$.F)(),p=Math.max(1,Math.ceil((0,ei.Z)(u,e=>e.total.value))),f=Math.pow(10,"".concat(p).length-2),j=Math.ceil(p/f)*f,m=(0,en.Z)().domain([0,j]).range([0,30]),y=Math.max(1,Math.ceil((0,ei.Z)(g,e=>e.total.value))),b=Math.pow(10,"".concat(y).length-2),v=Math.ceil(y/b)*b,S=(0,en.Z)().domain([0,v]).range([0,30]),w={mena:"Middle East",emea:"Europe",amer:"Northern America",latam:"Latin America",ssa:"Africa",apac:"Asia-Pacific"},C=o.join("-")+"-"+l.join("-")+c.join("-");return(0,i.jsx)(s.W,{children:(0,i.jsx)(er.M,{mode:"wait",children:(0,i.jsxs)(P.M,{gridTemplateColumns:["1fr",null,null,"var(--custom-col-count)"],gridGap:20,py:16,style:{"--custom-col-count":"capgen"===e?"repeat(2, 1fr)":"1fr"},children:[(0,i.jsxs)(r.K,{gap:10,children:[(0,i.jsx)(X.X,{as:"h2",textStyle:"previewCardHeading",children:"Installed capacity (".concat(d,")")}),["capgen","capacity"].includes(e)&&(0,i.jsxs)(ea,{style:{gridTemplateColumns:"repeat(".concat(u.length,", 1fr)")},gridGap:2,position:"relative",children:[(0,i.jsx)(a.xu,{borderBottom:"0.0625rem dashed",borderColor:"gray.200",bottom:"100%",position:"absolute",left:0,right:0,fontSize:"sm",lineHeight:"short",color:"gray.500",mb:"0.0625rem",fontWeight:600,children:j?"".concat(j.toLocaleString("en-US")," ").concat(d):""}),j?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.xu,{top:"25%",left:0,right:0,borderBottom:"0.0625rem dashed",borderColor:"gray.200",position:"absolute"}),(0,i.jsx)(a.xu,{top:"50%",left:0,right:0,borderBottom:"0.0625rem dashed",borderColor:"gray.200",position:"absolute"}),(0,i.jsx)(a.xu,{top:"75%",left:0,right:0,borderBottom:"0.0625rem dashed",borderColor:"gray.200",position:"absolute"}),(0,i.jsx)(a.xu,{top:"100%",left:0,right:0,mt:"0.0625rem",borderBottom:"0.0625rem solid",borderColor:"gray.200",position:"absolute"})]}):null,u.map((e,t)=>(0,i.jsx)(r.K,{gap:0,justifyContent:"flex-end",style:{height:m(j)+"rem"},children:(0,i.jsx)(ee.u,{p:0,bg:"white",color:"black",label:(0,i.jsxs)(r.K,{gap:2,p:3,children:[(0,i.jsx)(a.xu,{flex:1,fontWeight:600,children:"".concat(e.year," installed capacity (").concat(d,")")}),(0,i.jsx)(et.i,{}),e.data.map(e=>"sector"===n&&o.length&&!o.includes(e.key)||"region_id"===n&&l.length&&!l.includes(e.key)?null:(0,i.jsxs)(W.U,{gap:10,children:[(0,i.jsxs)(W.U,{flex:1,gap:3,children:[(0,i.jsx)(a.xu,{w:3,h:3,flex:"none",style:{background:x.indicators[e.key]}}),(0,i.jsx)(T.x,{children:w[e.key]||e.key})]}),(0,i.jsx)(a.xu,{style:{fontVariantNumeric:"tabular-nums"},children:e.value.toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2})})]},e.key))]}),placement:t<u.length/2?"right-start":"left-start",children:(0,i.jsxs)(es,{tabIndex:0,bg:"gray.50",gap:0,justifyContent:"flex-end",transformOrigin:"bottom",initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},transition:{delay:.01*t,duration:.3,bounce:0,type:"spring"},position:"relative",_hover:{outline:"0.125rem solid #000",outlineOffset:"0.125rem"},_focusVisible:{outline:"0.125rem solid #000",outlineOffset:"0.125rem"},children:[e.data.map(e=>{let t=x.indicators[e.key]||"#FFF";if(!e.value)return null;let n=m(e.value);return(0,i.jsx)(eo,{flex:"none",style:{height:"".concat(n,"rem"),background:t,borderTop:n>.125?"0.0625rem solid #FFF":"none"}},e.key)}),(0,i.jsx)(a.xu,{position:"absolute",top:"100%",fontSize:"xs",fontWeight:600,w:"100%",textAlign:"center",whiteSpace:"nowrap",children:"'".concat(e.year.slice(-2))})]})})},e.year))]},"".concat(e,"-").concat(t,"-").concat(n,"-").concat(C,"-capacity-visualization"))]}),(0,i.jsxs)(r.K,{gap:10,children:[(0,i.jsx)(X.X,{as:"h2",textStyle:"previewCardHeading",children:"Electricity generation (".concat(h,")")}),["capgen","generation"].includes(e)&&(0,i.jsxs)(ea,{style:{gridTemplateColumns:"repeat(".concat(g.length,", 1fr)")},gridGap:2,position:"relative",children:[(0,i.jsx)(a.xu,{borderBottom:"0.0625rem dashed",borderColor:"gray.200",bottom:"100%",position:"absolute",left:0,right:0,fontSize:"sm",lineHeight:"short",color:"gray.500",mb:"0.0625rem",fontWeight:600,children:v?"".concat(v.toLocaleString("en-US")," ").concat(h):""}),v?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.xu,{top:"25%",left:0,right:0,borderBottom:"0.0625rem dashed",borderColor:"gray.200",position:"absolute"}),(0,i.jsx)(a.xu,{top:"50%",left:0,right:0,borderBottom:"0.0625rem dashed",borderColor:"gray.200",position:"absolute"}),(0,i.jsx)(a.xu,{top:"75%",left:0,right:0,borderBottom:"0.0625rem dashed",borderColor:"gray.200",position:"absolute"}),(0,i.jsx)(a.xu,{top:"100%",left:0,right:0,mt:"0.0625rem",borderBottom:"0.0625rem solid",borderColor:"gray.200",position:"absolute"})]}):null,g.map((e,t)=>(0,i.jsx)(r.K,{gap:0,justifyContent:"flex-end",style:{height:S(v)+"rem"},children:(0,i.jsx)(ee.u,{p:0,bg:"white",color:"black",label:(0,i.jsxs)(r.K,{gap:2,p:3,direction:"column-reverse",children:[e.data.map(e=>"sector"===n&&o.length&&!o.includes(e.key)||"region_id"===n&&l.length&&!l.includes(e.key)?null:(0,i.jsxs)(W.U,{gap:10,children:[(0,i.jsxs)(W.U,{flex:1,gap:3,children:[(0,i.jsx)(a.xu,{w:3,h:3,flex:"none",style:{background:x.indicators[e.key]}}),(0,i.jsx)(T.x,{children:w[e.key]||e.key})]}),(0,i.jsx)(a.xu,{style:{fontVariantNumeric:"tabular-nums"},children:e.value.toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2})})]},e.key)),(0,i.jsx)(et.i,{}),(0,i.jsx)(a.xu,{flex:1,fontWeight:600,children:"".concat(e.year," electricity generation (").concat(h,")")})]}),placement:t<u.length/2?"right-start":"left-start",children:(0,i.jsxs)(es,{tabIndex:0,bg:"gray.50",gap:0,justifyContent:"flex-end",transformOrigin:"bottom",initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},transition:{delay:.01*t,duration:.3,bounce:0,type:"spring"},position:"relative",_hover:{outline:"0.125rem solid #000",outlineOffset:"0.125rem"},_focusVisible:{outline:"0.125rem solid #000",outlineOffset:"0.125rem"},children:[e.data.map(e=>{let t=x.indicators[e.key]||"#FFF",n=S(e.value);return(0,i.jsx)(eo,{flex:"none",style:{height:"".concat(n,"rem"),background:t,borderTop:n>.125?"0.0625rem solid #FFF":"none"}},e.key)}),(0,i.jsx)(a.xu,{position:"absolute",top:"100%",fontSize:"xs",fontWeight:600,w:"100%",textAlign:"center",whiteSpace:"nowrap",children:"'".concat(e.year.slice(-2))})]})})},e.year))]},"".concat(e,"-").concat(t,"-").concat(n,"-").concat(C,"-generation-visualization"))]})]})})})}function ed(){let{colors:e}=(0,$.F)(),t=k(e=>e.grouping),n=k(e=>e.allRegions),l=k(e=>e.allSectors),r=k(e=>e.sectors),c=k(e=>e.regions),d=("sector"===t?l:n).filter(e=>e.label);return(null==d?void 0:d.length)?(0,i.jsx)(s.W,{children:(0,i.jsx)(a.xu,{borderY:"0.0625rem solid",borderColor:"gray.200",py:5,children:(0,i.jsx)(o.E,{spacingX:5,spacingY:3,children:d.map(n=>{let l=e.indicators[n.key]||e.gray[500];return"sector"===t&&r.length&&!r.includes(n.key)||"region_id"===t&&c.length&&!c.includes(n.key)?null:(0,i.jsx)(o.U,{children:(0,i.jsxs)(W.U,{gap:2,children:[(0,i.jsx)(a.xu,{w:5,h:5,style:{background:l}}),(0,i.jsx)(T.x,{as:"span",children:n.label})]})},n.key)})})})}):null}var eh=n(20213);function eu(){let e=k(e=>e.setInitialData);return(0,l.useEffect)(()=>{Promise.all([(0,eh.Z)("/data/capacity-generation.txt","json"),(0,eh.Z)("/data/augmented-geographies.txt","json")]).then(t=>{let[n,i]=t;e(n,i)})}),(0,i.jsxs)(r.K,{spacing:0,children:[(0,i.jsx)(C,{}),(0,i.jsx)(q,{}),(0,i.jsx)(ec,{}),(0,i.jsx)(ed,{})]})}},20213:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(57453),l=n(21876).Buffer;async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return await fetch(e).then(e=>{if(!e.ok)throw Error(e.statusText);return e.text()}).then(e=>{var n;let r=(n=e.split("").reverse().join(""),l.from(n,"base64").toString());return"csv"===t?(0,i.ue)(r):JSON.parse(r)}).catch(()=>[])}}}]);