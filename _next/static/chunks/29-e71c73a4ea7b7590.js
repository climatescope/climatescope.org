"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29],{1296:function(e,t,n){var a=n(5893),r=n(9008),i=n.n(r),l=n(1752),o=n.n(l),s=n(1163),c=n(7294);let{publicRuntimeConfig:d}=o()(),u=d.siteUrl,x=d.year;t.Z=e=>{let{title:t="",description:n="Which market is the most attractive for energy transition investment?",cover:r="cover-lg.jpg",type:l="website",lang:o="en"}=e,{basePath:d,asPath:h}=(0,s.useRouter)(),g=u+d+("/"===h[0]?h.slice(1):h),m=r?u+d+"images/"+r:"",p=t?"Climatescope ".concat(x," | ").concat(t):"Climatescope ".concat(x);return(0,c.useEffect)(()=>{document.documentElement.setAttribute("lang",o)},[o]),(0,a.jsxs)(i(),{children:[(0,a.jsx)("meta",{content:o,httpEquiv:"Content-Language"}),(0,a.jsx)("title",{children:p}),(0,a.jsx)("meta",{name:"description",content:n}),(0,a.jsx)("meta",{property:"og:type",content:l}),(0,a.jsx)("meta",{property:"og:url",content:g}),(0,a.jsx)("meta",{property:"og:title",content:p}),(0,a.jsx)("meta",{property:"og:description",content:n}),r&&(0,a.jsx)("meta",{name:"image",property:"og:image",content:m}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:url",content:g}),(0,a.jsx)("meta",{name:"twitter:title",content:p}),(0,a.jsx)("meta",{name:"twitter:description",content:n}),r&&(0,a.jsx)("meta",{name:"twitter:image",content:m}),(0,a.jsx)("link",{rel:"canonical",href:g})]})}},2024:function(e,t,n){var a=n(5893),r=n(7294),i=n(8940),l=n(6702),o=n(2757),s=n(7747),c=n(4e3),d=n(9289),u=n(4292),x=n(7633),h=n(2255),g=n(9089),m=n(5162),p=n(3279),f=n.n(p),y=n(9734),v=n.n(y),j=n(8975);let b=e=>{let t=e.map(e=>({year:+e.year,value:parseFloat(e.value)||0})),n=t.reduce((e,t)=>e+t.value,0);return n?t:[]},S=e=>{let{data:t,x:n,x2:r,tooltip:l,onTooltipShow:o,onTooltipHide:s,w:c,height:d}=e,{colors:u}=(0,i.F)(),x=()=>{o({year:t,x:r})},h=()=>{s()};return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{fill:l.year===t?u.teal[800]:"transparent",fillOpacity:.05,x:n,y:0,width:c,height:d-40,onMouseEnter:x,onMouseLeave:h,onFocus:x,onBlur:h,tabIndex:0}),(0,a.jsx)("rect",{x:r-1,y:0,width:2,height:d-30,fill:l.year===t?u.teal[900]:"transparent",style:{pointerEvents:"none"}})]})},w=e=>{var t,n;let{width:p=672,height:f=378,data:y,compactTooltip:w,precision:F,...T}=e,{colors:z}=(0,i.F)(),C=(0,j.Q8)({width:p,height:f}),[E,L]=(0,r.useState)({}),U=y.subindicators||[],W=(null===(t=U[0])||void 0===t?void 0:t.units)||"",K=U.reduce((e,t)=>{let n=b(t.data);return n.length?[...e,{...t,data:n,isVisible:!0}]:e},[]),Z=v()(K,e=>-(0,h.Z)(e.data,e=>e.value)),D=T.domainX||(0,g.Z)(Z[0].data.map(e=>e.year)),M=T.domainY||[0,(0,m.Z)(D[1]-D[0]+1).reduce((e,t)=>{let n=D[0]+t,a=Z.reduce((e,t)=>{let a=t.data.find(e=>e.year===n)||{value:0};return e+a.value},0);return e>a?e:a},0)],H=(0,j.TT)({type:"linear",domain:D,range:[0,p],padding:[48,20]}),R=(0,j.TT)({type:"linear",domain:[0,M[1]],range:[f,0],padding:[40,40]}),B=(0,m.Z)(D[1]-D[0]+1).map(e=>D[0]+e),I=(0,j.TT)({type:"band",domain:B,range:[48-(p-68)/B.length/2,p-20+(p-68)/B.length/2],padding:[0,0]}),O=(0,x.Z)().x(e=>e.x).y0(e=>e.y0).y1(e=>e.y1),X=Z.map((e,t)=>({...e,sortKey:"Others"===e.subindicator?0:1+t})).sort((e,t)=>e.sortKey-t.sortKey).reduce((e,t)=>{if(!t.isVisible)return e;{let n=e.slice(-1)[0],a=function(e,t,n,a){let r=t.data.map(t=>{var r;let i=(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.find(e=>e.year===t.year))||{y1:a(0)};return{...t,x:n(t.year),y0:i.y1,y1:i.y1-(a(0)-a(t.value))}});return r}(n,t,H,R);return[...e,{...t,data:a}]}},[]),_=(0,j.So)({scale:H}),A=(0,j.So)({scale:R,ticks:4}),V={Others:z.gray[100],"Biomass & Waste":z.green[700],Geothermal:z.purple[600],"Small Hydro":z.blue[500],Wind:z.blue[200],"Solar PV":z.yellow[400],...z.indicators},Y=(0,r.useCallback)(e=>{let t=X.map(t=>{let n=t.data.find(t=>t.year===e.year)||{};return{name:t.subindicator,unit:t.units,...n}}),n=t.reduce((e,t)=>e+=t.value,0);L({...e,data:t.map(e=>({...e,percentage:Math.round(100/n*e.value*100)/100})).reverse()})},[X,F]),N=(0,r.useCallback)(()=>{L({})},[]);return(0,a.jsxs)(l.K,{spacing:5,children:[(0,a.jsx)(o.X,{fontSize:"xl",children:"".concat(y.indicator," (in ").concat(W,")")}),(0,a.jsxs)(s.xu,{position:"relative",children:[(0,a.jsx)(s.xu,{position:"absolute",top:0,zIndex:2,p:4,style:{display:E.year?"block":"none",left:E.x-(E.x>p/2?280:0)||0,width:280,pointerEvents:"none"},children:(0,a.jsxs)(l.K,{py:3,bg:"white",boxShadow:"lg",borderRadius:"md",border:"0.0625rem solid",borderColor:"gray.25",spacing:2,children:[(0,a.jsxs)(c.x,{fontWeight:600,lineHeight:"short",px:4,children:["".concat(y.indicator," ").concat(E.year)," ",w&&"[".concat((null==E?void 0:null===(n=E.data)||void 0===n?void 0:n.length)?E.data[0].unit:"","]")]}),(0,a.jsx)(d.i,{borderColor:"gray.100",w:"100%"}),(0,a.jsx)(l.K,{spacing:2,px:4,children:E.data&&E.data.length&&E.data.map(e=>{var t,n;return(0,a.jsx)(l.K,{spacing:0,children:(0,a.jsxs)(u.U,{spacing:4,alignItems:"flex-start",style:{opacity:e.value||e.percentage?1:.3},children:[(0,a.jsx)(s.xu,{w:"1rem",h:"1rem",mt:"0.0625rem",flex:"none",borderRadius:"sm",style:{background:V[e.name],opacity:.75}}),(0,a.jsxs)(l.K,{spacing:0,flex:"1",children:[(0,a.jsx)(c.x,{fontSize:"sm",lineHeight:"shorter",fontWeight:600,textTransform:"capitalize",children:e.name}),!w&&(0,a.jsx)(c.x,{fontSize:"sm",lineHeight:"shorter",children:"".concat(e.value.toLocaleString("en-US",{maximumFractionDigits:(null===(t="".concat(F).split(".")[1])||void 0===t?void 0:t.length)||1})," ").concat(e.unit)})]}),w?(0,a.jsxs)(c.x,{fontSize:"xs",lineHeight:"shorter",children:["".concat(e.value.toLocaleString("en-US",{maximumFractionDigits:1===F?0:(null===(n="".concat(F).split(".")[1])||void 0===n?void 0:n.length)||1})),W.length<2?" ".concat(W):""]}):(0,a.jsx)(k,{percentage:e.percentage,value:e.value})]})},e.name)})})]})}),(0,a.jsx)(s.xu,{fontFamily:"mono",children:(0,a.jsxs)("svg",{...C,children:[_.map(e=>(0,a.jsxs)("g",{transform:"translate(0, ".concat(f-40,")"),children:[(0,a.jsx)("line",{x1:e.offset,x2:e.offset,y1:0,y2:10,stroke:z.gray[100]}),(0,a.jsx)("text",{x:e.offset,y:24,fontSize:"14",textAnchor:"middle",fill:z.gray[500],children:e.value})]},e.value)),A.map((e,t)=>(0,a.jsxs)("g",{transform:"translate(0, 0)",children:[(0,a.jsx)("line",{x1:0,x2:p-20,y1:e.offset,y2:e.offset,stroke:z.gray[100],strokeDasharray:[3,3]}),(0,a.jsxs)("text",{x:0,y:e.offset-5,fontSize:"14",textAnchor:"start",fill:z.gray[500],children:[e.value>=1e9?e.value/1e9+"B":e.value>=1e6?e.value/1e6+"M":e.value>=1e3?e.value/1e3+"K":e.value,t===A.length-1?" ".concat(X[0].units||""):""]})]},e.value)),X.map((e,t)=>(0,a.jsx)("path",{fill:V[e.subindicator],className:"path",d:O(e.data),stroke:"#FFF",strokeWidth:2,fillOpacity:.75,paintOrder:"stroke fill",onClick:()=>console.log(y.indicator,e.subindicator,e.data)},t)),I.domain().map(e=>{let t=I(e),n=H(e),r=I.bandwidth();return(0,a.jsx)(S,{data:e,x:t,x2:n,w:r,height:f,tooltip:E,onTooltipShow:Y,onTooltipHide:N},e)})]})})]})]})};function k(e){let{percentage:t,value:n}=e;return(0,a.jsxs)(c.x,{fontSize:"sm",lineHeight:"shorter",fontWeight:600,children:[n&&t?t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"%":null,n&&!t?"<0.01%":null,n||t?null:"-"]})}t.Z=(0,r.memo)(e=>{let t=(0,r.useRef)(),[n,i]=(0,r.useState)({width:672,height:378});(0,r.useEffect)(()=>{let e=f()(()=>{let e=t.current.getBoundingClientRect().width;i({width:e,height:e/16*9})},500);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let{data:l}=e,{subindicators:o}=l||{};return(0,a.jsx)(s.xu,{ref:t,children:o&&o.length?(0,a.jsx)(w,{...n,...e}):null})})},5386:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(5893),r=n(7294),i=n(8940),l=n(6702),o=n(2757),s=n(7747),c=n(4e3),d=n(9289),u=n(6854),x=n(9429),h=n(3279),g=n.n(h),m=n(9734),p=n.n(m),f=n(5162),y=n(8975),v=n(5049),j=e=>{let{data:t,scaleX:n,scaleY:r,subindicator:l}=e,{colors:o}=(0,i.F)(),s=o.indicators[l]||o.teal[600],c=(0,v.Z)().x(e=>n(e.year)).y(e=>r(e.value)),d=c(t);return(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:d,fill:"none",stroke:"#FFF",strokeWidth:4,strokeLinecap:"round"}),(0,a.jsx)("path",{d:d,fill:"none",stroke:s,strokeWidth:2,strokeLinecap:"round"})]})};let b=e=>{let{data:t,x:n,x2:r,tooltip:l,onTooltipShow:o,onTooltipHide:s,w:c,height:d}=e,{colors:u}=(0,i.F)(),x=()=>{o({year:t,x:r})},h=()=>{s()};return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{fill:l.year===t?u.teal[800]:"transparent",fillOpacity:.05,x:n,y:0,width:c,height:d-40,onMouseEnter:x,onMouseLeave:h,onFocus:x,onBlur:h,tabIndex:0}),(0,a.jsx)("rect",{x:r-1,y:0,width:2,height:d-30,fill:l.year===t?u.teal[900]:"transparent",style:{pointerEvents:"none"}})]})},S=e=>{let{title:t,chart:n,width:u,height:x,scaleX:h,scaleY:g,scaleBand:m,preparedLines:f,compactTooltip:v}=e,{colors:S}=(0,i.F)(),[w,k]=(0,r.useState)({}),F=f.map(e=>({...e,isVisible:!0})),T=(0,y.So)({scale:h}),z=(0,y.So)({scale:g,ticks:4}),C=(0,r.useCallback)(e=>{let t=F.map(t=>{let n=t.data.flat().find(t=>t.year===e.year)||{};return{name:t.subindicator,unit:t.units,...n}}),n=t.reduce((e,t)=>e||t.year||t.value,!1);n&&k({...e,data:p()(t,e=>-e.value)})},[F]),E=(0,r.useCallback)(()=>{k({})},[]);return(0,a.jsxs)(l.K,{spacing:5,children:[(0,a.jsx)(o.X,{fontSize:"xl",children:t}),(0,a.jsxs)(s.xu,{position:"relative",children:[(0,a.jsx)(s.xu,{position:"absolute",top:0,zIndex:2,p:4,style:{display:w.year?"block":"none",left:w.x-(w.x>u/2?280:0)||0,width:280,pointerEvents:"none"},children:(0,a.jsxs)(l.K,{py:3,bg:"white",boxShadow:"lg",borderRadius:"md",border:"0.0625rem solid",borderColor:"gray.25",spacing:2,children:[(0,a.jsx)(c.x,{fontWeight:600,lineHeight:"short",px:4,children:"".concat(t," ").concat(w.year)}),(0,a.jsx)(d.i,{borderColor:"gray.100",w:"100%"}),(0,a.jsx)(l.K,{spacing:2,px:4,children:w.data&&w.data.length&&w.data.map(e=>{var t;return(0,a.jsxs)(l.K,{spacing:0,direction:v?"row":"column",alignItems:v?"flex-end":"flex-start",children:[(0,a.jsx)(c.x,{fontSize:"sm",lineHeight:"shorter",fontWeight:600,flex:1,children:e.name}),(0,a.jsx)(c.x,{fontSize:"sm",lineHeight:"shorter",flex:"none",children:"".concat((null===(t=e.value)||void 0===t?void 0:t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||""," ").concat(e.unit)})]},e.name)})})]})}),(0,a.jsxs)("svg",{...n,style:{display:"block"},children:[T.map(e=>(0,a.jsxs)("g",{transform:"translate(0, ".concat(x-40,")"),children:[(0,a.jsx)("line",{x1:e.offset,x2:e.offset,y1:0,y2:10,stroke:S.gray[100]}),(0,a.jsx)("text",{x:e.offset,y:24,fontSize:"14",textAnchor:"middle",fill:S.gray[500],children:e.value})]},e.value)),z.map((e,t)=>(0,a.jsxs)("g",{transform:"translate(0, 0)",children:[(0,a.jsx)("line",{x1:0,x2:u,y1:e.offset,y2:e.offset,stroke:S.gray[100],strokeDasharray:e.value?[3,3]:[]}),(0,a.jsx)("text",{x:0,y:e.offset-5,fontSize:"14",textAnchor:"start",fill:S.gray[500],children:t===z.length-1?" ".concat(function(e,t){let n=e.toLocaleString("en-US");return({"M USD":"".concat(n," M USD"),"USD/MWh":"".concat(n," USD/MWh")})[t]||t?"".concat(n," ").concat(t):n||""}(e.value,f[0].units)):e.value.toLocaleString("en-US")})]},e.value)),F.map(e=>{let{data:t,subindicator:n,isVisible:r}=e,i=t.flat();return r?(0,a.jsxs)("g",{children:[t.map((e,t)=>(0,a.jsx)(j,{data:e,scaleX:h,scaleY:g,subindicator:n},t)),i.map(e=>(0,a.jsx)("circle",{cx:h(e.year),cy:g(e.value),r:5,fill:S.indicators[n]||S.teal[800],stroke:"#FFF",strokeWidth:2},e.year))]},n):null}),m.domain().map(e=>{let t=m(e),n=h(e),r=m.bandwidth();return(0,a.jsx)(b,{data:e,x:t,x2:n,w:r,height:x,tooltip:w,onTooltipShow:C,onTooltipHide:E},e)})]})]})]})},w=e=>{let{width:t=672,height:n=378,data:i,compactTooltip:l,...o}=e,[c,d]=(0,r.useState)([]),h=null==i?void 0:i.indicator,g=(null==i?void 0:i.subindicators)||[],m=g.reduce((e,t)=>[...e,...t.data],[]).map(e=>({year:+e.year,value:parseFloat(e.value)})),p=(0,y.Q8)({width:t,height:n}),v=(0,y.UT)(m,"year",o.domainX),j=(0,y.UT)(m,"value",o.domainY),b=(0,y.TT)({type:"linear",domain:v,range:[0,t],padding:[40,40]}),w=(0,y.TT)({type:"linear",domain:[0,j[1]],range:[n,0],padding:[40,20]}),k=(0,f.Z)(v[1]-v[0]+1).map(e=>v[0]+e),F=(0,y.TT)({type:"band",domain:k,range:[40-(t-80)/k.length/2,t-40+(t-80)/k.length/2],padding:[0,0]});return((0,r.useEffect)(()=>{h&&g&&d(g.reduce((e,t)=>{var n;let a=(n=t.data.map(e=>({year:+e.year,value:parseFloat(e.value)||null}))).reduce((e,t,a)=>{if(!e.length)return t.value||0===t.value?[[t]]:e;if(t.value||0===t.value){let n=e.slice(0,-1),a=e.slice(-1)[0]||[];return[...n,[...a,t]]}{let t=e.slice(-1)[0],r=n.length-1===a;return r?t.length?e:e.slice(0,-1):t.length?[...e,[]]:e}},[]);return a.length?[...e,{...t,data:a}]:e},[]))},[h,g]),c.length)?(0,a.jsx)(S,{title:h,chart:p,width:t,height:n,scaleX:b,scaleY:w,scaleBand:F,preparedLines:c,compactTooltip:l}):(0,a.jsxs)(s.xu,{position:"relative",children:[(0,a.jsx)(s.xu,{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1,children:(0,a.jsx)(u.O,{startColor:"gray.25",endColor:"gray.100",h:"100%",borderRadius:"md"})}),(0,a.jsx)(s.xu,{position:"relative",zIndex:2,children:(0,a.jsx)(x.o,{ratio:16/9,children:(0,a.jsx)(s.xu,{color:"gray.500",children:"Loading..."})})})]})};var k=e=>{let t=(0,r.useRef)(),[n,i]=(0,r.useState)({width:672,height:378});return(0,r.useEffect)(()=>{let e=g()(()=>{let e=t.current.getBoundingClientRect().width;i({width:e,height:e/16*9})},500);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,a.jsx)(s.xu,{ref:t,children:(0,a.jsx)(w,{...n,...e})})}},8975:function(e,t,n){n.d(t,{Q8:function(){return o},So:function(){return u},TT:function(){return d},UT:function(){return s}});var a=n(7294),r=n(9089),i=n(3587),l=n(49);function o(e){let{width:t,height:n}=e;return{viewBox:"0 0 ".concat(t," ").concat(n)}}function s(e,t,n){return(0,a.useMemo)(()=>n||(0,r.Z)(e,e=>e[t]),[e,t,n])}let c={linear:i.Z,band:l.Z};function d(e){let{type:t="linear",domain:n,range:r,padding:i=[0,0]}=e,l=c[t],o=r[0]<=r[1];return(0,a.useCallback)(l().domain(n).range([o?r[0]+i[0]:r[0]-i[0],o?r[1]-i[1]:r[1]+i[1]]),[n,r,t,i])}function u(e){let{scale:t,ticks:n=6}=e;return(0,a.useMemo)(()=>t.nice().ticks(n).map(e=>({value:e,offset:t(e),line:{}})),[t])}}}]);