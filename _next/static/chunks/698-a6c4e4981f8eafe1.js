"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{3724:function(e,t,r){var n=r(85893),a=r(67294),i=r(48940),l=r(55281),o=r(34292),s=r(22757),d=r(57747),c=r(71293),u=r(49289),x=r(43419),h=r(72255),p=r(9089),g=r(45162),m=r(23279),f=r(89734),y=r(92668);let v=e=>{let t=e.map(e=>({year:+e.year,value:parseFloat(e.value)||0}));return t.reduce((e,t)=>e+t.value,0)?t:[]},j=e=>{let{data:t,x:r,x2:a,tooltip:l,onTooltipShow:o,onTooltipHide:s,w:d,height:c}=e,{colors:u}=(0,i.F)(),x=()=>{o({year:t,x:a})},h=()=>{s()};return(0,n.jsxs)("g",{children:[(0,n.jsx)("rect",{fill:l.year===t?u.teal[800]:"transparent",fillOpacity:.05,x:r,y:0,width:d,height:c-40,onMouseEnter:x,onMouseLeave:h,onFocus:x,onBlur:h,tabIndex:0}),(0,n.jsx)("line",{x1:r+d/2,x2:r+d/2,y1:0,y2:c-40,stroke:l.year===t?u.teal[900]:"transparent",style:{pointerEvents:"none"}})]})},b=e=>{var t,r;let{width:m=672,height:b=378,data:S,compactTooltip:k,precision:z,market:T,downloadable:F=!1,...C}=e,R=(0,a.useRef)(null),{colors:M}=(0,i.F)(),L=(0,y.Q8)({width:m,height:b}),[U,W]=(0,a.useState)({}),E=S.subindicators||[],K=(null===(t=E[0])||void 0===t?void 0:t.units)||"",Z=f(E.reduce((e,t)=>{let r=v(t.data);return r.length?[...e,{...t,data:r,isVisible:!0}]:e},[]),e=>-(0,h.Z)(e.data,e=>e.value)),H=C.domainX||(0,p.Z)(Z[0].data.map(e=>e.year)),D=C.domainY||[0,(0,g.Z)(H[1]-H[0]+1).reduce((e,t)=>{let r=H[0]+t,n=Z.reduce((e,t)=>e+(t.data.find(e=>e.year===r)||{value:0}).value,0);return e>n?e:n},0)],X=(0,y.TT)({type:"linear",domain:H,range:[0,m],padding:[48,20]}),B=(0,y.TT)({type:"linear",domain:[0,D[1]],range:[b,0],padding:[40,40]}),I=(0,g.Z)(H[1]-H[0]+1).map(e=>H[0]+e),O=(0,y.TT)({type:"band",domain:I,range:[48-(m-68)/I.length/2,m-20+(m-68)/I.length/2],padding:[0,0]}),A=(0,x.Z)().x(e=>e.x).y0(e=>e.y0).y1(e=>e.y1),N=Z.map((e,t)=>({...e,sortKey:"Others"===e.subindicator?0:1+t})).sort((e,t)=>e.sortKey-t.sortKey).reduce((e,t)=>{if(!t.isVisible)return e;{var r;let n=(r=e.slice(-1)[0],t.data.map(e=>{var t;let n=(null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.find(t=>t.year===e.year))||{y1:B(0)};return{...e,x:X(e.year),y0:n.y1,y1:n.y1-(B(0)-B(e.value))}}));return[...e,{...t,data:n}]}},[]),G=(0,y.So)({scale:X}),Q=(0,y.So)({scale:B,ticks:4}),V={Others:M.gray[100],"Biomass & Waste":M.green[700],Geothermal:M.purple[600],"Small Hydro":M.blue[500],Wind:M.blue[200],"Solar PV":M.yellow[400],...M.indicators},Y=(0,a.useCallback)(e=>{let t=N.map(t=>{let r=t.data.find(t=>t.year===e.year)||{};return{name:t.subindicator,unit:t.units,...r}}),r=t.reduce((e,t)=>e+=t.value,0);W({...e,data:t.map(e=>({...e,percentage:Math.round(100/r*e.value*100)/100})).reverse()})},[N,z]),_=(0,a.useCallback)(()=>{W({})},[]);return(0,n.jsxs)(l.K,{spacing:5,children:[(0,n.jsx)(o.U,{spacing:3,children:(0,n.jsx)(s.X,{flex:1,fontSize:"xl",children:"".concat(S.indicator," (in ").concat(K,")")})}),(0,n.jsxs)(d.xu,{position:"relative",children:[(0,n.jsx)(d.xu,{position:"absolute",top:0,zIndex:2,p:4,style:{display:U.year?"block":"none",left:U.x-(U.x>m/2?280:0)||0,width:280,pointerEvents:"none"},children:(0,n.jsxs)(l.K,{py:3,bg:"white",boxShadow:"xl",borderRadius:"md",border:"0.0625rem solid",borderColor:"gray.50",spacing:2,children:[(0,n.jsxs)(c.x,{fontWeight:600,lineHeight:"short",px:4,children:["".concat(S.indicator," ").concat(U.year)," ",k&&"[".concat((null==U?void 0:null===(r=U.data)||void 0===r?void 0:r.length)?U.data[0].unit:"","]")]}),(0,n.jsx)(u.i,{borderColor:"gray.100",w:"100%"}),(0,n.jsx)(l.K,{spacing:2,px:4,children:U.data&&U.data.length&&U.data.map(e=>{var t,r;return(0,n.jsx)(l.K,{spacing:0,children:(0,n.jsxs)(o.U,{spacing:4,alignItems:"flex-start",style:{opacity:e.value||e.percentage?1:.3},children:[(0,n.jsx)(d.xu,{w:"1rem",h:"1rem",mt:"0.0625rem",flex:"none",borderRadius:"sm",style:{background:V[e.name],opacity:.75}}),(0,n.jsxs)(l.K,{spacing:0,flex:"1",children:[(0,n.jsx)(c.x,{fontSize:"sm",lineHeight:"shorter",fontWeight:600,textTransform:"capitalize",children:e.name}),!k&&(0,n.jsx)(c.x,{fontSize:"sm",lineHeight:"shorter",children:"".concat(e.value.toLocaleString("en-US",{maximumFractionDigits:(null===(t="".concat(z).split(".")[1])||void 0===t?void 0:t.length)||1})," ").concat(e.unit)})]}),k?(0,n.jsxs)(c.x,{fontSize:"xs",lineHeight:"shorter",children:["".concat(e.value.toLocaleString("en-US",{maximumFractionDigits:1===z?0:(null===(r="".concat(z).split(".")[1])||void 0===r?void 0:r.length)||1})),K.length<2?" ".concat(K):""]}):(0,n.jsx)(w,{percentage:e.percentage,value:e.value})]})},e.name)})})]})}),(0,n.jsx)(d.xu,{style:{fontVariantNumeric:"tabular-nums"},children:(0,n.jsxs)("svg",{...L,ref:R,children:[G.map(e=>(0,n.jsxs)("g",{transform:"translate(0, ".concat(b-40,")"),children:[(0,n.jsx)("line",{x1:e.offset,x2:e.offset,y1:0,y2:10,stroke:M.gray[100]}),(0,n.jsx)("text",{x:e.offset,y:24,fontSize:"14",textAnchor:"middle",fill:M.gray[500],children:e.value})]},e.value)),Q.map((e,t)=>(0,n.jsxs)("g",{transform:"translate(0, 0)",children:[(0,n.jsx)("line",{x1:0,x2:m-20,y1:e.offset,y2:e.offset,stroke:M.gray[100],strokeDasharray:[3,3]}),(0,n.jsxs)("text",{x:0,y:e.offset-5,fontSize:"14",textAnchor:"start",fill:M.gray[500],children:[e.value>=1e9?e.value/1e9+"B":e.value>=1e6?e.value/1e6+"M":e.value>=1e3?e.value/1e3+"K":e.value,t===Q.length-1?" ".concat(N[0].units||""):""]})]},e.value)),N.map((e,t)=>(0,n.jsx)("path",{fill:V[e.subindicator],className:"path",d:A(e.data),stroke:"#FFF",strokeWidth:2,fillOpacity:.75,paintOrder:"stroke fill",onClick:()=>console.log(S.indicator,e.subindicator,e.data)},t)),O.domain().map(e=>{let t=O(e),r=X(e),a=O.bandwidth();return(0,n.jsx)(j,{data:e,x:t,x2:r,w:a,height:b,tooltip:U,onTooltipShow:Y,onTooltipHide:_},e)})]})})]})]})};function w(e){let{percentage:t,value:r}=e;return(0,n.jsxs)(c.x,{fontSize:"sm",lineHeight:"shorter",fontWeight:600,children:[r&&t?t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"%":null,r&&!t?"<0.01%":null,r||t?null:"-"]})}t.Z=(0,a.memo)(e=>{let t=(0,a.useRef)(),[r,i]=(0,a.useState)({width:672,height:378});(0,a.useEffect)(()=>{let e=m(()=>{let e=t.current.getBoundingClientRect().width;i({width:e,height:e/16*9})},500);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let{data:l}=e,{subindicators:o}=l||{};return(0,n.jsx)(d.xu,{ref:t,children:o&&o.length?(0,n.jsx)(b,{...r,...e}):null})})},99698:function(e,t,r){var n=r(85893),a=r(48940),i=r(57747),l=r(55281),o=r(22757),s=r(5674),d=r(27239),c=r(5301);t.Z=e=>{let{data:t,sector:r,compact:u}=e,{colors:x}=(0,a.F)(),h=t.map(e=>({text:e.policy,isSelected:"Available"===e.answer.trim()}));return h.length?(0,n.jsxs)(l.K,{spacing:6,children:[(0,n.jsx)(o.X,{fontSize:"xl",children:"".concat(r[0].toUpperCase()+r.slice(1)," policies")}),(0,n.jsx)(s.M,{columns:u?1:[1,2,null,3],gridColumnGap:5,gridRowGap:5,children:null==h?void 0:h.map((e,t)=>{let{text:r,isSelected:a}=e;return(0,n.jsxs)(i.xu,{position:"relative",p:4,border:"0.125rem solid",borderRadius:"md",fontWeight:600,lineHeight:"shorter",style:{color:a?x.purple[900]:x.gray[700],background:a?x.purple[100]:x.gray[50],borderColor:a?x.purple[500]:x.gray[50]},children:[(0,n.jsx)(d.M,{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)",w:"1.75rem",h:"1.75rem",bg:"gray.200",borderRadius:"full",border:"0.125rem solid white",color:"white",children:(0,n.jsx)(c.Tw,{size:"1.25rem"})}),r,a&&(0,n.jsx)(d.M,{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)",w:"1.75rem",h:"1.75rem",bg:"purple.500",borderRadius:"full",border:"0.125rem solid white",color:"white",children:(0,n.jsx)(c.nQ,{size:"1.25rem"})})]},t)})})]}):(0,n.jsx)(i.xu,{p:4,bg:"gray.50",textAlign:"center",borderRadius:"md",children:"No ".concat(null==r?void 0:r.toLowerCase()," policies")})}},86843:function(e,t,r){r.d(t,{Z:function(){return S}});var n=r(85893),a=r(67294),i=r(48940),l=r(55281),o=r(34292),s=r(22757),d=r(57747),c=r(71293),u=r(49289),x=r(96854),h=r(49429),p=r(23279),g=r(89734),m=r(45162),f=r(92668),y=r(47281),v=e=>{let{data:t,scaleX:r,scaleY:a,subindicator:l}=e,{colors:o}=(0,i.F)(),s=o.indicators[l]||o.teal[600],d=(0,y.Z)().x(e=>r(e.year)).y(e=>a(e.value))(t);return(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:d,fill:"none",stroke:"#FFF",strokeWidth:4,strokeLinecap:"round"}),(0,n.jsx)("path",{d:d,fill:"none",stroke:s,strokeWidth:2,strokeLinecap:"round"})]})};let j=e=>{let{data:t,x:r,x2:a,tooltip:l,onTooltipShow:o,onTooltipHide:s,w:d,height:c}=e,{colors:u}=(0,i.F)(),x=()=>{o({year:t,x:a})},h=()=>{s()};return(0,n.jsxs)("g",{children:[(0,n.jsx)("rect",{fill:l.year===t?u.teal[800]:"transparent",fillOpacity:.05,x:r,y:0,width:d,height:c-40,onMouseEnter:x,onMouseLeave:h,onFocus:x,onBlur:h,tabIndex:0}),(0,n.jsx)("rect",{x:a-1,y:0,width:2,height:c-30,fill:l.year===t?u.teal[900]:"transparent",style:{pointerEvents:"none"}})]})},b=e=>{let{title:t,chart:r,width:x,height:h,scaleX:p,scaleY:m,scaleBand:y,preparedLines:b,compactTooltip:w,downloadable:S=!1}=e,k=(0,a.useRef)(null),{colors:z}=(0,i.F)(),[T,F]=(0,a.useState)({}),C=b.map(e=>({...e,isVisible:!0})),R=(0,f.So)({scale:p}),M=(0,f.So)({scale:m,ticks:4}),L=(0,a.useCallback)(e=>{let t=C.map(t=>{let r=t.data.flat().find(t=>t.year===e.year)||{};return{name:t.subindicator,unit:t.units,...r}});t.reduce((e,t)=>e||t.year||t.value,!1)&&F({...e,data:g(t,e=>-e.value)})},[C]),U=(0,a.useCallback)(()=>{F({})},[]);return(0,n.jsxs)(l.K,{spacing:5,children:[(0,n.jsx)(o.U,{spacing:3,children:(0,n.jsx)(s.X,{fontSize:"xl",flex:1,children:t})}),(0,n.jsxs)(d.xu,{position:"relative",children:[(0,n.jsx)(d.xu,{position:"absolute",top:0,zIndex:2,p:4,style:{display:T.year?"block":"none",left:T.x-(T.x>x/2?280:0)||0,width:280,pointerEvents:"none"},children:(0,n.jsxs)(l.K,{py:3,bg:"white",boxShadow:"xl",borderRadius:"md",border:"0.0625rem solid",borderColor:"gray.50",spacing:2,children:[(0,n.jsx)(c.x,{fontWeight:600,lineHeight:"short",px:4,children:"".concat(t," ").concat(T.year)}),(0,n.jsx)(u.i,{borderColor:"gray.100",w:"100%"}),(0,n.jsx)(l.K,{spacing:2,px:4,children:T.data&&T.data.length&&T.data.map(e=>{var t;return(0,n.jsxs)(l.K,{spacing:0,direction:w?"row":"column",alignItems:w?"flex-end":"flex-start",children:[(0,n.jsx)(c.x,{fontSize:"sm",lineHeight:"shorter",fontWeight:600,flex:1,children:e.name}),(0,n.jsx)(c.x,{fontSize:"sm",lineHeight:"shorter",flex:"none",children:"".concat((null===(t=e.value)||void 0===t?void 0:t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||""," ").concat(e.unit)})]},e.name)})})]})}),(0,n.jsxs)("svg",{...r,ref:k,style:{display:"block"},children:[R.map(e=>(0,n.jsxs)("g",{transform:"translate(0, ".concat(h-40,")"),children:[(0,n.jsx)("line",{x1:e.offset,x2:e.offset,y1:0,y2:10,stroke:z.gray[100]}),(0,n.jsx)("text",{x:e.offset,y:24,fontSize:"14",textAnchor:"middle",fill:z.gray[500],children:e.value})]},e.value)),M.map((e,t)=>(0,n.jsxs)("g",{transform:"translate(0, 0)",children:[(0,n.jsx)("line",{x1:0,x2:x,y1:e.offset,y2:e.offset,stroke:z.gray[100],strokeDasharray:e.value?[3,3]:[]}),(0,n.jsx)("text",{x:0,y:e.offset-5,fontSize:"14",textAnchor:"start",fill:z.gray[500],children:t===M.length-1?" ".concat(function(e,t){let r=e.toLocaleString("en-US");return({"M USD":"".concat(r," M USD"),"USD/MWh":"".concat(r," USD/MWh")})[t]||t?"".concat(r," ").concat(t):r||""}(e.value,b[0].units)):e.value.toLocaleString("en-US")})]},e.value)),C.map(e=>{let{data:t,subindicator:r,isVisible:a}=e,i=t.flat();return a?(0,n.jsxs)("g",{children:[t.map((e,t)=>(0,n.jsx)(v,{data:e,scaleX:p,scaleY:m,subindicator:r},t)),i.map(e=>(0,n.jsx)("circle",{cx:p(e.year),cy:m(e.value),r:5,fill:z.indicators[r]||z.teal[800],stroke:"#FFF",strokeWidth:2},e.year))]},r):null}),y.domain().map(e=>{let t=y(e),r=p(e),a=y.bandwidth();return(0,n.jsx)(j,{data:e,x:t,x2:r,w:a,height:h,tooltip:T,onTooltipShow:L,onTooltipHide:U},e)})]})]})]})},w=e=>{let{width:t=672,height:r=378,data:i,compactTooltip:l,downloadable:o,...s}=e,[c,u]=(0,a.useState)([]),p=null==i?void 0:i.indicator,g=(null==i?void 0:i.subindicators)||[],y=g.reduce((e,t)=>[...e,...t.data],[]).map(e=>({year:+e.year,value:parseFloat(e.value)})),v=(0,f.Q8)({width:t,height:r}),j=(0,f.UT)(y,"year",s.domainX),w=(0,f.UT)(y,"value",s.domainY),S=(0,f.TT)({type:"linear",domain:j,range:[0,t],padding:[40,40]}),k=(0,f.TT)({type:"linear",domain:[0,w[1]],range:[r,0],padding:[40,20]}),z=(0,m.Z)(j[1]-j[0]+1).map(e=>j[0]+e),T=(0,f.TT)({type:"band",domain:z,range:[40-(t-80)/z.length/2,t-40+(t-80)/z.length/2],padding:[0,0]});return((0,a.useEffect)(()=>{p&&g&&u(g.reduce((e,t)=>{var r;let n=(r=t.data.map(e=>({year:+e.year,value:parseFloat(e.value)||null}))).reduce((e,t,n)=>{if(!e.length)return t.value||0===t.value?[[t]]:e;if(t.value||0===t.value)return[...e.slice(0,-1),[...e.slice(-1)[0]||[],t]];{let t=e.slice(-1)[0];return r.length-1===n?t.length?e:e.slice(0,-1):t.length?[...e,[]]:e}},[]);return n.length?[...e,{...t,data:n}]:e},[]))},[p,g]),c.length)?(0,n.jsx)(b,{title:p,chart:v,width:t,height:r,scaleX:S,scaleY:k,scaleBand:T,preparedLines:c,compactTooltip:l,downloadable:o}):(0,n.jsxs)(d.xu,{position:"relative",children:[(0,n.jsx)(d.xu,{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1,children:(0,n.jsx)(x.O,{startColor:"gray.25",endColor:"gray.100",h:"100%",borderRadius:"md"})}),(0,n.jsx)(d.xu,{position:"relative",zIndex:2,children:(0,n.jsx)(h.o,{ratio:16/9,children:(0,n.jsx)(d.xu,{color:"gray.500",children:"Loading..."})})})]})};var S=e=>{let t=(0,a.useRef)(),[r,i]=(0,a.useState)({width:672,height:378});return(0,a.useEffect)(()=>{let e=p(()=>{let e=t.current.getBoundingClientRect().width;i({width:e,height:e/16*9})},500);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,n.jsx)(d.xu,{ref:t,children:(0,n.jsx)(w,{...r,...e})})}},92668:function(e,t,r){r.d(t,{Q8:function(){return o},So:function(){return u},TT:function(){return c},UT:function(){return s}});var n=r(67294),a=r(9089),i=r(9443),l=r(33289);function o(e){let{width:t,height:r}=e;return{viewBox:"0 0 ".concat(t," ").concat(r)}}function s(e,t,r){return(0,n.useMemo)(()=>r||(0,a.Z)(e,e=>e[t]),[e,t,r])}let d={linear:i.Z,band:l.Z};function c(e){let{type:t="linear",domain:r,range:a,padding:i=[0,0]}=e,l=d[t],o=a[0]<=a[1];return(0,n.useCallback)(l().domain(r).range([o?a[0]+i[0]:a[0]-i[0],o?a[1]-i[1]:a[1]+i[1]]),[r,a,t,i])}function u(e){let{scale:t,ticks:r=6}=e;return(0,n.useMemo)(()=>t.nice().ticks(r).map(e=>({value:e,offset:t(e),line:{}})),[t])}},40025:function(e,t,r){r.d(t,{Z:function(){return x}});var n=r(85893),a=r(55281),i=r(22757),l=r(71293),o=r(5674),s=r(57747),d=r(79689),c=r(27239),u=r(5301);function x(e){let{title:t,question:r,data:x,compact:h}=e;return(0,n.jsxs)(a.K,{spacing:6,gridColumn:["1 / -1",null,"2 / -2"],children:[t&&(0,n.jsx)(i.X,{as:"h4",fontSize:"2xl",children:t}),r&&(0,n.jsx)(l.x,{fontSize:"xl",lineHeight:"base",children:r}),(0,n.jsx)(o.M,{columns:h?1:[1,null,null,3],w:"100%",gridColumnGap:6,gridRowGap:6,children:[{key:1,label:x.q1,value:"yes"===x.a1},{key:2,label:x.q2,value:"yes"===x.a2},{key:3,label:x.q3,value:"yes"===x.a3}].map(e=>e.value?(0,n.jsxs)(s.xu,{p:3,bg:"purple.100",border:"0.125rem solid",borderColor:"purple.500",borderRadius:"md",color:"purple.900",fontWeight:600,position:"relative",textTransform:"capitalize",children:[e.label,(0,n.jsx)(d.TX,{children:": Yes"}),(0,n.jsx)(c.M,{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)",w:"1.75rem",h:"1.75rem",bg:"purple.500",borderRadius:"full",border:"0.125rem solid white",color:"white",children:(0,n.jsx)(u.nQ,{size:"1.25rem"})})]},e.label):(0,n.jsxs)(s.xu,{p:3,bg:"gray.50",color:"gray.500",borderRadius:"md",fontWeight:600,position:"relative",textTransform:"capitalize",children:[e.label,(0,n.jsx)(d.TX,{children:": No"}),(0,n.jsx)(c.M,{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)",w:"1.75rem",h:"1.75rem",bg:"gray.200",borderRadius:"full",border:"0.125rem solid white",color:"white",children:(0,n.jsx)(u.Tw,{size:"1.25rem"})})]},e.label))})]})}}}]);