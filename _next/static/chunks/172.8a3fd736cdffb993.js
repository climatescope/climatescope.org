"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{66172:function(a,t,e){e.r(t),e.d(t,{default:function(){return A}});var n=e(85893),i=e(67294),r=e(22338),o=e(5674),l=e(20213),c=e(55281),s=e(66712),d=e(91170),u=e(14225),h=e(4040),v=e(1991),x=e(88667),p=e(49289),m=e(57747),f=e(71293),g=e(27239),y=e(22757),j=e(48204),M=e(31993),b=e(9089);e(73303);var Z=e(89734);let k=(0,M.U)((a,t)=>({isLoaded:!1,setIsLoaded:t=>a({isLoaded:t}),selectedGeographies:[],setSelectedGeographies:(t,e)=>{a(a=>({selectedGeographies:D([null,null,null].map((n,i)=>i===e?t:a.selectedGeographies[i]||n).filter(a=>!!a).map(a=>(a.chartData={utilityPrivatisation:a.indicators.find(a=>"Utility privatisation"===a.indicator),electricityPrices:_(a.electricityPrices),capacity:F(a.capGen),generation:E(a.capGen),investment:P(a.investment)},a)))}))},geographies:[],setInitialData:(e,n)=>{if(t().isLoaded)return null;let i=[{...n,val:n.relevantResults.iso,label:n.relevantResults.market,chartData:{utilityPrivatisation:n.indicators.find(a=>"Utility privatisation"===a.indicator),electricityPrices:_(n.electricityPrices),capacity:F(n.capGen),generation:E(n.capGen),investment:P(n.investment)}}];a({isLoaded:!0,geographies:Z(e,a=>a.label),selectedGeographies:D(i)})}}));function D(a){let t={x:(0,b.Z)(a.flatMap(a=>{var t;return null===(t=a.chartData.electricityPrices)||void 0===t?void 0:t.domain.x})),y:(0,b.Z)(a.flatMap(a=>{var t;return null===(t=a.chartData.electricityPrices)||void 0===t?void 0:t.domain.y}))},e={x:(0,b.Z)(a.flatMap(a=>{var t;return null===(t=a.chartData.capacity)||void 0===t?void 0:t.domain.x})),y:(0,b.Z)(a.flatMap(a=>{var t;return null===(t=a.chartData.capacity)||void 0===t?void 0:t.domain.y}))},n={x:(0,b.Z)(a.flatMap(a=>{var t;return null===(t=a.chartData.generation)||void 0===t?void 0:t.domain.x})),y:(0,b.Z)(a.flatMap(a=>{var t;return null===(t=a.chartData.generation)||void 0===t?void 0:t.domain.y}))},i={x:(0,b.Z)(a.flatMap(a=>{var t;return null===(t=a.chartData.investment)||void 0===t?void 0:t.domain.x})),y:(0,b.Z)(a.flatMap(a=>{var t;return null===(t=a.chartData.investment)||void 0===t?void 0:t.domain.y}))};return a.map(a=>(a.chartData.electricityPrices&&(a.chartData.electricityPrices.domainX=t.x,a.chartData.electricityPrices.domainY=t.y),a.chartData.capacity&&(a.chartData.capacity.domainX=e.x,a.chartData.capacity.domainY=e.y),a.chartData.generation&&(a.chartData.generation.domainX=n.x,a.chartData.generation.domainY=n.y),a.chartData.investment&&(a.chartData.investment.domainX=i.x,a.chartData.investment.domainY=i.y),a))}function _(a){if(!(null==a?void 0:a.length))return null;let t=a.map(a=>({...a,data:a.data.map(a=>({year:a.x_val,value:a.y_val})),domain:{x:(0,b.Z)(a.data,a=>parseFloat(a.x_val)||0),y:(0,b.Z)(a.data,a=>parseFloat(a.y_val)||0)}}));return{indicator:"Electricity prices",subindicators:t,domain:{x:(0,b.Z)(t.flatMap(a=>a.domain.x)),y:(0,b.Z)(t.flatMap(a=>a.domain.y))}}}function F(a){if(!(null==a?void 0:a.length))return null;let t=a.filter(a=>"installed capacity"===a.measure).map(a=>({subindicator:a.subsector,units:a.units,data:a.data.map(a=>({year:a.x_val,value:a.y_val})),domain:{x:(0,b.Z)(a.data,a=>parseFloat(a.x_val)||0),y:(0,b.Z)(a.data,a=>parseFloat(a.y_val)||0)}}));return{indicator:"Installed capacity",subindicators:t,domain:{x:(0,b.Z)(t.flatMap(a=>a.domain.x)),y:(0,b.Z)(t.reduce((a,t)=>t.data.map((t,e)=>t.value+(a[e]||0)),[]))}}}function E(a){if(!(null==a?void 0:a.length))return null;let t=a.filter(a=>"electricity generation"===a.measure).map(a=>({subindicator:a.subsector,units:a.units,data:a.data.map(a=>({year:a.x_val,value:a.y_val})),domain:{x:(0,b.Z)(a.data,a=>parseFloat(a.x_val)||0),y:(0,b.Z)(a.data,a=>parseFloat(a.y_val)||0)}}));return{indicator:"Electricity generation",subindicators:t,domain:{x:(0,b.Z)(t.flatMap(a=>a.domain.x)),y:(0,b.Z)(t.reduce((a,t)=>t.data.map((t,e)=>t.value+(a[e]||0)),[]))}}}function P(a){if(!a)return null;let t=[{subindicator:a.deal_type,units:a.unit,data:a.data.map(a=>({year:a.x_val,value:a.y_val})),domain:{x:(0,b.Z)(a.data,a=>parseFloat(a.x_val)||0),y:(0,b.Z)(a.data,a=>parseFloat(a.y_val)||0)}}];return{indicator:"Investment",subindicators:t,domain:{x:(0,b.Z)(t.flatMap(a=>a.domain.x)),y:(0,b.Z)(t.flatMap(a=>a.domain.y))}}}function S(){return(0,n.jsxs)(c.K,{spacing:5,bg:"white",px:5,children:[(0,n.jsx)(m.xu,{h:10,bg:"gray.100",borderRadius:"sm"}),(0,n.jsx)(p.i,{})]})}var W=e(99698),w=e(40025),X=e(86843),G=e(3724),Y=e(92853);function L(a){var t,e;let{slot:i=1}=a,r=k(a=>a.selectedGeographies),o=k(a=>a.setSelectedGeographies),f=k(a=>a.geographies);return(null==r?void 0:r.length)<i?(0,n.jsx)(S,{}):(0,n.jsxs)(c.K,{spacing:5,bg:"white",px:5,children:[(0,n.jsxs)(s.v,{matchWidth:!0,children:[(0,n.jsx)(d.j,{as:u.z,colorScheme:"gray",textAlign:"left",rightIcon:(0,n.jsx)(j.v,{boxSize:6}),pr:3,children:(null===(t=r[i])||void 0===t?void 0:t.label)||"Select a geography"}),(0,n.jsx)(h.q,{motionProps:{variants:{enter:{visibility:"visible",y:0,opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},y:8,opacity:0,scale:1,transition:{duration:.1,easings:"easeOut"}}}},maxH:"20rem",overflowY:"scroll",children:(0,n.jsx)(v._,{type:"radio",value:(null===(e=r[i])||void 0===e?void 0:e.val)||"",onChange:a=>{let t=f.find(t=>t.val===a);(0,l.Z)("/data/markets/".concat(a,".txt")).then(a=>{o({...a,...t},i)})},children:f.map(a=>{let{val:t,label:e}=a;return(0,n.jsx)(x.i,{value:t,children:e},t)})})})]}),(0,n.jsx)(p.i,{}),(0,n.jsx)(m.xu,{children:r[i]&&(0,n.jsx)(I,{data:r[i],geographiesCount:f.length})})]})}function I(a){let{data:t,geographiesCount:e}=a,{utilityPrivatisation:i,electricityPrices:r,capacity:l,generation:s,investment:d}=t.chartData,u=t.relevantResults.score.find(a=>2024===a.year),h=u.sectors.find(a=>"power"===a.id);return(0,n.jsxs)(c.K,{spacing:5,divider:(0,n.jsx)(p.i,{}),children:[(0,n.jsxs)(o.M,{columns:2,gridGap:5,children:[(0,n.jsxs)(c.K,{spacing:1,children:[(0,n.jsx)(f.x,{fontWeight:600,textTransform:"uppercase",fontSize:"xs",color:"gray.500",children:"Power rank"}),(0,n.jsxs)(f.x,{fontWeight:700,fontSize:"lg",children:[h.global.rank,(0,n.jsx)(f.x,{as:"span",color:"gray.500",children:" / ".concat(e)})]})]}),(0,n.jsxs)(c.K,{spacing:1,children:[(0,n.jsx)(f.x,{fontWeight:600,textTransform:"uppercase",fontSize:"xs",color:"gray.500",children:"Power score"}),(0,n.jsxs)(f.x,{fontWeight:700,fontSize:"lg",children:[h.global.value.toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2}),(0,n.jsx)(f.x,{as:"span",color:"gray.500",children:" / 5"})]})]})]}),(0,n.jsx)(g.M,{children:(0,n.jsx)(m.xu,{w:"100%",maxW:"16rem",children:u&&(0,n.jsx)(Y.Z,{data:u.topics.filter(a=>a.id.startsWith("power-")).map(a=>({label:a.name,value:a.global.value}))})})}),r?(0,n.jsx)(X.Z,{data:r,domainX:r.domainX,domainY:r.domainY}):(0,n.jsx)(z,{title:"Electricity prices"}),l?(0,n.jsx)(G.Z,{data:l,domainX:l.domainX,domainY:l.domainY}):(0,n.jsx)(z,{title:"Installed capacity"}),s?(0,n.jsx)(G.Z,{data:s,domainX:s.domainX,domainY:s.domainY}):(0,n.jsx)(z,{title:"Electricity generation"}),d?(0,n.jsx)(X.Z,{data:d||[],domainX:(null==d?void 0:d.domainX)||[],domainY:(null==d?void 0:d.domainY)||[]}):(0,n.jsx)(z,{title:"Investment"}),(0,n.jsxs)(c.K,{spacing:2,children:[(0,n.jsx)(y.X,{as:"h2",fontSize:"xl",children:"Utility privatization"}),(0,n.jsx)(w.Z,{question:i.question,data:i,compact:!0})]}),(0,n.jsx)(W.Z,{data:t.policies,sector:"power",compact:!0})]})}function z(a){let{title:t}=a;return(0,n.jsxs)(c.K,{spacing:5,children:[(0,n.jsx)(y.X,{fontSize:"xl",children:t}),(0,n.jsx)(g.M,{aspectRatio:16/9,bg:"gray.50",children:(0,n.jsx)(m.xu,{color:"gray.500",children:"N/A"})})]})}function A(a){let{data:t}=a,e=k(a=>a.isLoaded),c=k(a=>a.setInitialData);return(0,i.useEffect)(()=>{(0,l.Z)("/data/markets/".concat(t[0].val,".txt")).then(a=>{c(t,a)})},[]),(0,n.jsx)(r.W,{children:(0,n.jsx)(o.M,{columns:3,gridGap:"0.0625rem",bg:"gray.100",minH:"100vh",mb:20,mx:-5,children:e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L,{slot:0}),(0,n.jsx)(L,{slot:1}),(0,n.jsx)(L,{slot:2})]})})})}},92853:function(a,t,e){e.d(t,{Z:function(){return d}});var n=e(85893),i=e(9443),r=e(83462),o=e(67294),l=e(48940),c=e(32568);function s(a){let{r:t,startAngle:e=0,endAngle:n=2*Math.PI}=a;return(0,r.Z)()({innerRadius:0,outerRadius:t,startAngle:e,endAngle:n})}function d(a){let{data:t,simplified:e=!1,...r}=a,{colors:d}=(0,l.F)(),[h,v]=(0,o.useState)(null),x=(0,i.Z)().domain([0,5]).range([0,9]),p=e?[s({r:Math.round(1e4*x(5))/1e4}),s({r:Math.round(1e4*x(3))/1e4}),s({r:Math.round(1e4*x(1))/1e4})].join(" "):[s({r:Math.round(1e4*x(5))/1e4}),s({r:Math.round(1e4*x(4))/1e4}),s({r:Math.round(1e4*x(3))/1e4}),s({r:Math.round(1e4*x(2))/1e4}),s({r:Math.round(1e4*x(1))/1e4})].join(" "),m=["M".concat(10,",").concat(10,"L").concat(u(0,x(5),[10,10]).join(",")),"M".concat(10,",").concat(10,"L").concat(u(120,x(5),[10,10]).join(",")),"M".concat(10,",").concat(10,"L").concat(u(240,x(5),[10,10]).join(","))].join(" "),f=[t.find(a=>"Fundamentals"===a.label),t.find(a=>"Opportunities"===a.label),t.find(a=>"Experience"===a.label)],g=[u(0,x(f[0].value),[10,10]),u(120,x(f[1].value),[10,10]),u(240,x(f[2].value),[10,10])],y="M"+g.join("L")+"Z",j=2*Math.PI/3,M=[{data:f[0],path:s({r:Math.round(1e4*x(5))/1e4,startAngle:-j/2,endAngle:-j/2+j})},{data:f[1],path:s({r:Math.round(1e4*x(5))/1e4,startAngle:-j/2+j,endAngle:-j/2+2*j})},{data:f[2],path:s({r:Math.round(1e4*x(5))/1e4,startAngle:-j/2+2*j,endAngle:-j/2+3*j})}];return(0,n.jsxs)("svg",{viewBox:"0 0 ".concat(20," ").concat(20),fill:"none",stroke:"var(--chakra-colors-gray-400)",strokeWidth:.25,...r,children:[(0,n.jsx)("path",{d:p,vectorEffect:"non-scaling-stroke",strokeDasharray:e?[]:[5,5],transform:"translate(".concat(10," ").concat(10,")")}),(0,n.jsx)("path",{d:m,strokeWidth:2,stroke:"#FFF",strokeLinecap:"square",vectorEffect:"non-scaling-stroke"}),(0,n.jsx)("path",{d:m,vectorEffect:"non-scaling-stroke"}),!e&&(0,n.jsx)("g",{children:[1,2,3,4,5].map(a=>{let[t,e]=u(180,x(a),[10,10]);return(0,n.jsx)("text",{x:t-.0625,y:e,stroke:"#FFF",strokeWidth:8,fontSize:1,fontWeight:600,fill:d.gray[300],alignmentBaseline:"central",textAnchor:"middle",paintOrder:"stroke fill",vectorEffect:"non-scaling-stroke",children:a},a)})}),(0,n.jsx)("path",{d:y,fill:"var(--chakra-colors-brand-500)",fillOpacity:.5,stroke:"var(--chakra-colors-brand-700)",strokeWidth:.25*(e?2:4),vectorEffect:"non-scaling-stroke"}),!e&&g.map((a,t)=>(0,n.jsx)("circle",{cx:a[0],cy:a[1],r:.25,fill:"var(--chakra-colors-brand-500)",stroke:"var(--chakra-colors-brand-700)",strokeWidth:.25*(e?2:4),vectorEffect:"non-scaling-stroke"},t)),(0,n.jsx)("g",{transform:"translate(".concat(10," ").concat(10,")"),stroke:"none",children:M.map((a,t)=>{var e,i;return(0,n.jsx)(c.u,{label:(0,n.jsx)("div",{style:{textAlign:"center",padding:"0.5rem",fontWeight:600},children:(0,n.jsx)("div",{children:"".concat(a.data.label,": ").concat(Math.round(100*a.data.value)/100)})}),placement:t?"bottom":"top",children:(0,n.jsx)("path",{d:a.path,fill:(null==h?void 0:null===(e=h.data)||void 0===e?void 0:e.label)===(null==a?void 0:null===(i=a.data)||void 0===i?void 0:i.label)?"rgba(0,0,0,0.1)":"transparent",stroke:"none",onMouseEnter:()=>{v(a)},onMouseLeave:()=>{v(null)}})},a.data.label)})})]})}function u(a,t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=a*Math.PI/180;return[e[0]+t*Math.sin(n),e[1]+-(t*Math.cos(n))].map(a=>Math.round(1e4*a)/1e4)}},20213:function(a,t,e){e.d(t,{Z:function(){return r}});var n=e(57453),i=e(21876).Buffer;async function r(a){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return await fetch(a).then(a=>{if(!a.ok)throw Error(a.statusText);return a.text()}).then(a=>{var e;let r=(e=a.split("").reverse().join(""),i.from(e,"base64").toString());return"csv"===t?(0,n.ue)(r):JSON.parse(r)}).catch(()=>[])}}}]);